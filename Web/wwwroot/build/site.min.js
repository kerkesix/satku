var bootstrap,Messaging,JSBus,__extends,Ksx;(function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;t.signalR=n()}})(function(){return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h=typeof require=="function"&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i?i:n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e=typeof require=="function"&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f=n("babel-runtime/helpers/classCallCheck"),e=r(f),o=n("babel-runtime/helpers/createClass"),s=r(o),u;Object.defineProperty(i,"__esModule",{value:!0});u=function(){function n(t){e.default(this,n);this.wrappedProtocol=t;this.name=this.wrappedProtocol.name;this.type=1}return s.default(n,[{key:"parseMessages",value:function(n){var i=n.indexOf(":"),r,f,t;if(i==-1||n[n.length-1]!=";")throw new Error("Invalid payload.");if(r=n.substring(0,i),!/^[0-9]+$/.test(r))throw new Error("Invalid length: '"+r+"'");if(f=parseInt(r,10),f!=n.length-i-2)throw new Error("Invalid message size.");var o=n.substring(i+1,n.length-1),e=atob(o),u=new Uint8Array(e.length);for(t=0;t<u.length;t++)u[t]=e.charCodeAt(t);return this.wrappedProtocol.parseMessages(u.buffer)}},{key:"writeMessage",value:function(n){for(var i,r=new Uint8Array(this.wrappedProtocol.writeMessage(n)),u="",t=0;t<r.byteLength;t++)u+=String.fromCharCode(r[t]);return i=btoa(u),i.length.toString()+":"+i+";"}}]),n}();i.Base64EncodedHubProtocol=u},{"babel-runtime/helpers/classCallCheck":22,"babel-runtime/helpers/createClass":23}],2:[function(n,t,i){"use strict";var r,u;Object.defineProperty(i,"__esModule",{value:!0}),function(n){function i(n){return""+n+t}function r(n){if(n[n.length-1]!=t)throw new Error("Message is incomplete.");var i=n.split(t);return i.pop(),i}var t=String.fromCharCode(30);n.write=i;n.parse=r}(r=i.TextMessageFormat||(i.TextMessageFormat={})),function(n){function t(n){var t=n.byteLength||n.length,i=[],u,r;do u=t&127,t=t>>7,t>0&&(u|=128),i.push(u);while(t>0);return t=n.byteLength||n.length,r=new Uint8Array(i.length+t),r.set(i,0),r.set(n,i.length),r.buffer}function i(n){for(var o=[],u=new Uint8Array(n),e=5,s=[0,7,14,21,28],i=0;i<n.byteLength;){var t=0,r=0,f=void 0;do f=u[i+t],r=r|(f&127)<<s[t],t++;while(t<Math.min(e,n.byteLength-i)&&(f&128)!=0);if((f&128)!=0&&t<e)throw new Error("Cannot read message size.");if(t===e&&f>7)throw new Error("Messages bigger than 2GB are not supported.");if(u.byteLength>=i+t+r)o.push(u.slice?u.slice(i+t,i+t+r):u.subarray(i+t,i+t+r));else throw new Error("Incomplete message.");i=i+t+r}return o}n.write=t;n.parse=i}(u=i.BinaryMessageFormat||(i.BinaryMessageFormat={}))},{}],3:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var e=n("babel-runtime/core-js/promise"),o=r(e),s=n("babel-runtime/helpers/classCallCheck"),h=r(s),c=n("babel-runtime/helpers/createClass"),l=r(c),u,f;Object.defineProperty(i,"__esModule",{value:!0});u=n("./HttpError");f=function(){function n(){h.default(this,n)}return l.default(n,[{key:"get",value:function(n,t){return this.xhr("GET",n,t)}},{key:"options",value:function(n,t){return this.xhr("OPTIONS",n,t)}},{key:"post",value:function(n,t,i){return this.xhr("POST",n,i,t)}},{key:"xhr",value:function(n,t,i,r){return new o.default(function(f,e){var o=new XMLHttpRequest;o.open(n,t,!0);o.setRequestHeader("X-Requested-With","XMLHttpRequest");i&&i.forEach(function(n,t){return o.setRequestHeader(t,n)});o.send(r);o.onload=function(){o.status>=200&&o.status<300?f(o.response||o.responseText):e(new u.HttpError(o.statusText,o.status))};o.onerror=function(){e(new u.HttpError(o.statusText,o.status))}})}}]),n}();i.HttpClient=f},{"./HttpError":5,"babel-runtime/core-js/promise":19,"babel-runtime/helpers/classCallCheck":22,"babel-runtime/helpers/createClass":23}],4:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var h=n("babel-runtime/helpers/typeof"),c=f(h),l=n("babel-runtime/regenerator"),u=f(l),a=n("babel-runtime/helpers/classCallCheck"),v=f(a),y=n("babel-runtime/helpers/createClass"),p=f(y),w=n("babel-runtime/core-js/promise"),o=f(w),e=undefined&&undefined.__awaiter||function(n,t,i,r){return new(i||(i=o.default))(function(u,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?u(n.value):new i(function(t){t(n.value)}).then(o,s)}e((r=r.apply(n,t||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});var r=n("./Transports"),b=n("./HttpClient"),s=n("./ILogger"),k=n("./Loggers"),d=function(){function n(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};v.default(this,n);this.features={};this.logger=k.LoggerFactory.createLogger(i.logging);this.url=this.resolveUrl(t);i=i||{};this.httpClient=i.httpClient||new b.HttpClient;this.connectionState=0;this.options=i}return p.default(n,[{key:"start",value:function(){return e(this,void 0,void 0,u.default.mark(function n(){return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(this.connectionState!=0)){n.next=2;break}return n.abrupt("return",o.default.reject(new Error("Cannot start a connection that is not in the 'Initial' state.")));case 2:return this.connectionState=1,this.startPromise=this.startInternal(),n.abrupt("return",this.startPromise);case 5:case"end":return n.stop()}},n,this)}))}},{key:"startInternal",value:function(){return e(this,void 0,void 0,u.default.mark(function n(){var f=this,i,t,r;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.httpClient.options(this.url);case 3:if(i=n.sent,t=JSON.parse(i),this.connectionId=t.connectionId,!(this.connectionState==3)){n.next=8;break}return n.abrupt("return");case 8:return this.url+=(this.url.indexOf("?")==-1?"?":"&")+("id="+this.connectionId),this.transport=this.createTransport(this.options.transport,t.availableTransports),this.transport.onreceive=this.onreceive,this.transport.onclose=function(n){return f.stopConnection(!0,n)},r=this.features.transferMode===2?2:1,n.next=15,this.transport.connect(this.url,r);case 15:this.features.transferMode=n.sent;this.changeState(1,2);n.next=25;break;case 19:n.prev=19;n.t0=n["catch"](0);this.logger.log(s.LogLevel.Error,"Failed to start the connection. "+n.t0);this.connectionState=3;this.transport=null;throw n.t0;case 25:case 26:case"end":return n.stop()}},n,this,[[0,19]])}))}},{key:"createTransport",value:function(n,t){if(!n&&t.length>0&&(n=r.TransportType[t[0]]),n===r.TransportType.WebSockets&&t.indexOf(r.TransportType[n])>=0)return new r.WebSocketTransport(this.logger);if(n===r.TransportType.ServerSentEvents&&t.indexOf(r.TransportType[n])>=0)return new r.ServerSentEventsTransport(this.httpClient,this.logger);if(n===r.TransportType.LongPolling&&t.indexOf(r.TransportType[n])>=0)return new r.LongPollingTransport(this.httpClient,this.logger);if(this.isITransport(n))return n;throw new Error("No available transports found.");}},{key:"isITransport",value:function(n){return(typeof n=="undefined"?"undefined":c.default(n))==="object"&&"connect"in n}},{key:"changeState",value:function(n,t){return this.connectionState==n?(this.connectionState=t,!0):!1}},{key:"send",value:function(n){if(this.connectionState!=2)throw new Error("Cannot send data if the connection is not in the 'Connected' State");return this.transport.send(n)}},{key:"stop",value:function(){return e(this,void 0,void 0,u.default.mark(function n(){var t;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.connectionState,this.connectionState=3,n.prev=2,n.next=5,this.startPromise;case 5:n.next=9;break;case 7:n.prev=7;n.t0=n["catch"](2);case 9:this.stopConnection(t==2);case 10:case"end":return n.stop()}},n,this,[[2,7]])}))}},{key:"stopConnection",value:function(n,t){if(this.transport&&(this.transport.stop(),this.transport=null),this.connectionState=3,n&&this.onclose)this.onclose(t)}},{key:"resolveUrl",value:function(n){var t,r,i;if(n.lastIndexOf("https://",0)===0||n.lastIndexOf("http://",0)===0)return n;if(typeof window=="undefined"||!window||!window.document)throw new Error("Cannot resolve '"+n+"'.");return t=window.document.createElement("a"),t.href=n,r=!t.protocol||t.protocol===":"?window.document.location.protocol+"//"+(t.host||window.document.location.host):t.protocol+"//"+t.host,n&&n[0]=="/"||(n="/"+n),i=r+n,this.logger.log(s.LogLevel.Information,"Normalizing '"+n+"' to '"+i+"'"),i}}]),n}();i.HttpConnection=d},{"./HttpClient":3,"./ILogger":7,"./Loggers":9,"./Transports":11,"babel-runtime/core-js/promise":19,"babel-runtime/helpers/classCallCheck":22,"babel-runtime/helpers/createClass":23,"babel-runtime/helpers/typeof":26,"babel-runtime/regenerator":27}],5:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f=n("babel-runtime/core-js/object/get-prototype-of"),e=r(f),o=n("babel-runtime/helpers/classCallCheck"),s=r(o),h=n("babel-runtime/helpers/possibleConstructorReturn"),c=r(h),l=n("babel-runtime/helpers/inherits"),a=r(l),u;Object.defineProperty(i,"__esModule",{value:!0});u=function(n){function t(n,i){s.default(this,t);var r=c.default(this,(t.__proto__||e.default(t)).call(this,n));return r.statusCode=i,r}return a.default(t,n),t}(Error);i.HttpError=u},{"babel-runtime/core-js/object/get-prototype-of":17,"babel-runtime/helpers/classCallCheck":22,"babel-runtime/helpers/inherits":24,"babel-runtime/helpers/possibleConstructorReturn":25}],6:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var v=n("babel-runtime/regenerator"),e=r(v),y=n("babel-runtime/core-js/json/stringify"),p=r(y),w=n("babel-runtime/core-js/map"),o=r(w),b=n("babel-runtime/helpers/classCallCheck"),k=r(b),d=n("babel-runtime/helpers/createClass"),g=r(d),nt=n("babel-runtime/core-js/promise"),s=r(nt),tt=undefined&&undefined.__awaiter||function(n,t,i,r){return new(i||(i=s.default))(function(u,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?u(n.value):new i(function(t){t(n.value)}).then(o,s)}e((r=r.apply(n,t||[])).next())})},h,c,l,f,a;Object.defineProperty(i,"__esModule",{value:!0});var it=n("./HttpConnection"),rt=n("./Observable"),ut=n("./JsonHubProtocol"),ft=n("./Formatters"),et=n("./Base64EncodedHubProtocol"),u=n("./ILogger"),ot=n("./Loggers"),st=n("./Transports");i.TransportType=st.TransportType;h=n("./HttpConnection");i.HttpConnection=h.HttpConnection;c=n("./JsonHubProtocol");i.JsonHubProtocol=c.JsonHubProtocol;l=n("./ILogger");i.LogLevel=l.LogLevel;f=n("./Loggers");i.ConsoleLogger=f.ConsoleLogger;i.NullLogger=f.NullLogger;a=function(){function n(t){var r=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};k.default(this,n);i=i||{};this.connection=typeof t=="string"?new it.HttpConnection(t,i):t;this.logger=ot.LoggerFactory.createLogger(i.logging);this.protocol=i.protocol||new ut.JsonHubProtocol;this.connection.onreceive=function(n){return r.processIncomingData(n)};this.connection.onclose=function(n){return r.connectionClosed(n)};this.callbacks=new o.default;this.methods=new o.default;this.closedCallbacks=[];this.id=0}return g.default(n,[{key:"processIncomingData",value:function(n){for(var t,r,f=this.protocol.parseMessages(n),i=0;i<f.length;++i){t=f[i];switch(t.type){case 1:this.invokeClientMethod(t);break;case 2:case 3:case 4:r=this.callbacks.get(t.invocationId);r!=null&&((t.type==3||t.type==4)&&this.callbacks.delete(t.invocationId),r(t));break;default:this.logger.log(u.LogLevel.Warning,"Invalid message type: "+n)}}}},{key:"invokeClientMethod",value:function(n){var i=this,t=this.methods.get(n.target.toLowerCase());t?(t.forEach(function(t){return t.apply(i,n.arguments)}),!n.nonblocking):this.logger.log(u.LogLevel.Warning,"No client method with the name '"+n.target+"' found.")}},{key:"connectionClosed",value:function(n){var t=this;this.callbacks.forEach(function(t){t(undefined,n?n:new Error("Invocation canceled due to connection being closed."))});this.callbacks.clear();this.closedCallbacks.forEach(function(i){return i.apply(t,[n])})}},{key:"start",value:function(){return tt(this,void 0,void 0,e.default.mark(function n(){var t,i;return e.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.protocol.type===2?2:1,this.connection.features.transferMode=t,n.next=4,this.connection.start();case 4:return i=this.connection.features.transferMode,n.next=7,this.connection.send(ft.TextMessageFormat.write(p.default({protocol:this.protocol.name})));case 7:this.logger.log(u.LogLevel.Information,"Using HubProtocol '"+this.protocol.name+"'.");t===2&&i===1&&(this.protocol=new et.Base64EncodedHubProtocol(this.protocol));case 9:case"end":return n.stop()}},n,this)}))}},{key:"stop",value:function(){return this.connection.stop()}},{key:"stream",value:function(n){for(var r,t,e,o=this,u=arguments.length,f=Array(u>1?u-1:0),i=1;i<u;i++)f[i-1]=arguments[i];return r=this.createInvocation(n,f,!1),t=new rt.Subject,this.callbacks.set(r.invocationId,function(n,i){if(i){t.error(i);return}switch(n.type){case 4:var r=n;r.error?t.error(new Error(r.error)):t.complete();break;case 2:t.next(n.item);break;default:t.error(new Error("Hub methods must be invoked using the 'HubConnection.invoke()' method."))}}),e=this.protocol.writeMessage(r),this.connection.send(e).catch(function(n){t.error(n);o.callbacks.delete(r.invocationId)}),t}},{key:"send",value:function(n){for(var u,f,i=arguments.length,r=Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];return u=this.createInvocation(n,r,!0),f=this.protocol.writeMessage(u),this.connection.send(f)}},{key:"invoke",value:function(n){for(var r,e,t=this,u=arguments.length,f=Array(u>1?u-1:0),i=1;i<u;i++)f[i-1]=arguments[i];return r=this.createInvocation(n,f,!1),e=new s.default(function(n,i){t.callbacks.set(r.invocationId,function(t,r){if(r){i(r);return}if(t.type===3){var u=t;u.error?i(new Error(u.error)):n(u.result)}else i(new Error("Streaming methods must be invoked using the 'HubConnection.stream()' method."))});var u=t.protocol.writeMessage(r);t.connection.send(u).catch(function(n){i(n);t.callbacks.delete(r.invocationId)})}),e}},{key:"on",value:function(n,t){n&&t&&(n=n.toLowerCase(),this.methods.has(n)||this.methods.set(n,[]),this.methods.get(n).push(t))}},{key:"off",value:function(n,t){var i,r;n&&t&&(n=n.toLowerCase(),i=this.methods.get(n),i)&&(r=i.indexOf(t),r!=-1&&i.splice(r,1))}},{key:"onclose",value:function(n){n&&this.closedCallbacks.push(n)}},{key:"createInvocation",value:function(n,t,i){var r=this.id;return this.id++,{type:1,invocationId:r.toString(),target:n,arguments:t,nonblocking:i}}}]),n}();i.HubConnection=a},{"./Base64EncodedHubProtocol":1,"./Formatters":2,"./HttpConnection":4,"./ILogger":7,"./JsonHubProtocol":8,"./Loggers":9,"./Observable":10,"./Transports":11,"babel-runtime/core-js/json/stringify":13,"babel-runtime/core-js/map":14,"babel-runtime/core-js/promise":19,"babel-runtime/helpers/classCallCheck":22,"babel-runtime/helpers/createClass":23,"babel-runtime/regenerator":27}],7:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r;(function(n){n[n.Trace=0]="Trace";n[n.Information=1]="Information";n[n.Warning=2]="Warning";n[n.Error=3]="Error";n[n.None=4]="None"})(r=i.LogLevel||(i.LogLevel={}))},{}],8:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var e=n("babel-runtime/core-js/json/stringify"),o=r(e),s=n("babel-runtime/helpers/classCallCheck"),h=r(s),c=n("babel-runtime/helpers/createClass"),l=r(c),u,f;Object.defineProperty(i,"__esModule",{value:!0});u=n("./Formatters");f=function(){function n(){h.default(this,n);this.name="json";this.type=1}return l.default(n,[{key:"parseMessages",value:function(n){var i,r,t;if(!n)return[];for(i=u.TextMessageFormat.parse(n),r=[],t=0;t<i.length;++t)r.push(JSON.parse(i[t]));return r}},{key:"writeMessage",value:function(n){return u.TextMessageFormat.write(o.default(n))}}]),n}();i.JsonHubProtocol=f},{"./Formatters":2,"babel-runtime/core-js/json/stringify":13,"babel-runtime/helpers/classCallCheck":22,"babel-runtime/helpers/createClass":23}],9:[function(n,t,i){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}var h=n("babel-runtime/helpers/classCallCheck"),e=s(h),c=n("babel-runtime/helpers/createClass"),o=s(c),r,f,u,l;Object.defineProperty(i,"__esModule",{value:!0});r=n("./ILogger");f=function(){function n(){e.default(this,n)}return o.default(n,[{key:"log",value:function(){}}]),n}();i.NullLogger=f;u=function(){function n(t){e.default(this,n);this.minimumLogLevel=t}return o.default(n,[{key:"log",value:function(n,t){if(n>=this.minimumLogLevel)switch(n){case r.LogLevel.Error:console.error(r.LogLevel[n]+": "+t);break;case r.LogLevel.Warning:console.warn(r.LogLevel[n]+": "+t);break;case r.LogLevel.Information:console.info(r.LogLevel[n]+": "+t);break;default:console.log(r.LogLevel[n]+": "+t)}}}]),n}();i.ConsoleLogger=u,function(n){function t(n){return n===undefined?new u(r.LogLevel.Information):n===null?new f:n.log?n:new u(n)}n.createLogger=t}(l=i.LoggerFactory||(i.LoggerFactory={}))},{"./ILogger":7,"babel-runtime/helpers/classCallCheck":22,"babel-runtime/helpers/createClass":23}],10:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e=n("babel-runtime/core-js/get-iterator"),r=u(e),o=n("babel-runtime/helpers/classCallCheck"),s=u(o),h=n("babel-runtime/helpers/createClass"),c=u(h),f;Object.defineProperty(i,"__esModule",{value:!0});f=function(){function n(){s.default(this,n);this.observers=[]}return c.default(n,[{key:"next",value:function(n){var i=!0,u=!1,f=undefined,t,e,o;try{for(t=r.default(this.observers);!(i=(e=t.next()).done);i=!0)o=e.value,o.next(n)}catch(s){u=!0;f=s}finally{try{!i&&t.return&&t.return()}finally{if(u)throw f;}}}},{key:"error",value:function(n){var i=!0,f=!1,e=undefined,t,o,u;try{for(t=r.default(this.observers);!(i=(o=t.next()).done);i=!0)u=o.value,u.error&&u.error(n)}catch(n){f=!0;e=n}finally{try{!i&&t.return&&t.return()}finally{if(f)throw e;}}}},{key:"complete",value:function(){var t=!0,u=!1,f=undefined,n,e,i;try{for(n=r.default(this.observers);!(t=(e=n.next()).done);t=!0)i=e.value,i.complete&&i.complete()}catch(o){u=!0;f=o}finally{try{!t&&n.return&&n.return()}finally{if(u)throw f;}}}},{key:"subscribe",value:function(n){this.observers.push(n)}}]),n}();i.Subject=f},{"babel-runtime/core-js/get-iterator":12,"babel-runtime/helpers/classCallCheck":22,"babel-runtime/helpers/createClass":23}],11:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function p(n,t,i){return h(this,void 0,void 0,f.default.mark(function r(){return f.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.post(t,i,y);case 2:case"end":return r.stop()}},r,this)}))}var w=n("babel-runtime/core-js/map"),b=e(w),k=n("babel-runtime/regenerator"),f=e(k),d=n("babel-runtime/helpers/classCallCheck"),o=e(d),g=n("babel-runtime/helpers/createClass"),s=e(g),nt=n("babel-runtime/core-js/promise"),r=e(nt),h=undefined&&undefined.__awaiter||function(n,t,i,u){return new(i||(i=r.default))(function(r,f){function o(n){try{e(u.next(n))}catch(t){f(t)}}function s(n){try{e(u["throw"](n))}catch(t){f(t)}}function e(n){n.done?r(n.value):new i(function(t){t(n.value)}).then(o,s)}e((u=u.apply(n,t||[])).next())})},c,u,tt,l,a,v,y;Object.defineProperty(i,"__esModule",{value:!0});c=n("./HttpError");u=n("./ILogger"),function(n){n[n.WebSockets=0]="WebSockets";n[n.ServerSentEvents=1]="ServerSentEvents";n[n.LongPolling=2]="LongPolling"}(tt=i.TransportType||(i.TransportType={}));l=function(){function n(t){o.default(this,n);this.logger=t}return s.default(n,[{key:"connect",value:function(n,t){var i=this;return new r.default(function(r,f){n=n.replace(/^http/,"ws");var e=new WebSocket(n);t==2&&(e.binaryType="arraybuffer");e.onopen=function(){i.logger.log(u.LogLevel.Information,"WebSocket connected to "+n);i.webSocket=e;r(t)};e.onerror=function(){f()};e.onmessage=function(n){if(i.logger.log(u.LogLevel.Trace,"(WebSockets transport) data received: "+n.data),i.onreceive)i.onreceive(n.data)};e.onclose=function(n){if(i.onclose&&i.webSocket)if(n.wasClean===!1||n.code!==1e3)i.onclose(new Error("Websocket closed with status code: "+n.code+" ("+n.reason+")"));else i.onclose()}})}},{key:"send",value:function(n){return this.webSocket&&this.webSocket.readyState===WebSocket.OPEN?(this.webSocket.send(n),r.default.resolve()):r.default.reject("WebSocket is not in the OPEN state")}},{key:"stop",value:function(){this.webSocket&&(this.webSocket.close(),this.webSocket=null)}}]),n}();i.WebSocketTransport=l;a=function(){function n(t,i){o.default(this,n);this.httpClient=t;this.logger=i}return s.default(n,[{key:"connect",value:function(n){var t=this;return typeof EventSource=="undefined"&&r.default.reject("EventSource not supported by the browser."),this.url=n,new r.default(function(n,i){var f=new EventSource(t.url);try{f.onmessage=function(n){if(t.onreceive)try{t.logger.log(u.LogLevel.Trace,"(SSE transport) data received: "+n.data);t.onreceive(n.data)}catch(i){if(t.onclose)t.onclose(i);return}};f.onerror=function(n){if(i(),t.eventSource&&t.onclose)t.onclose(new Error(n.message||"Error occurred"))};f.onopen=function(){t.logger.log(u.LogLevel.Information,"SSE connected to "+t.url);t.eventSource=f;n(1)}}catch(e){return r.default.reject(e)}})}},{key:"send",value:function(n){return h(this,void 0,void 0,f.default.mark(function t(){return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p(this.httpClient,this.url,n));case 1:case"end":return t.stop()}},t,this)}))}},{key:"stop",value:function(){this.eventSource&&(this.eventSource.close(),this.eventSource=null)}}]),n}();i.ServerSentEventsTransport=a;v=function(){function n(t,i){o.default(this,n);this.httpClient=t;this.logger=i}return s.default(n,[{key:"connect",value:function(n,t){if(this.url=n,this.shouldPoll=!0,t===2&&typeof(new XMLHttpRequest).responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return this.poll(this.url,t),r.default.resolve(t)}},{key:"poll",value:function(n,t){var i=this,r;this.shouldPoll&&(r=new XMLHttpRequest,r.onload=function(){if(r.status==200){if(i.onreceive)try{var f=t===1?r.responseText:r.response;if(f){i.logger.log(u.LogLevel.Trace,"(LongPolling transport) data received: "+f);i.onreceive(f)}else i.logger.log(u.LogLevel.Information,"(LongPolling transport) timed out")}catch(e){if(i.onclose)i.onclose(e);return}i.poll(n,t)}else if(i.pollXhr.status==204)i.onclose&&i.onclose();else if(i.onclose)i.onclose(new c.HttpError(r.statusText,r.status))},r.onerror=function(){if(i.onclose)i.onclose(new Error("Sending HTTP request failed."))},r.ontimeout=function(){i.poll(n,t)},this.pollXhr=r,this.pollXhr.open("GET",n+"&_="+Date.now(),!0),t===2&&(this.pollXhr.responseType="arraybuffer"),this.pollXhr.timeout=12e4,this.pollXhr.send())}},{key:"send",value:function(n){return h(this,void 0,void 0,f.default.mark(function t(){return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p(this.httpClient,this.url,n));case 1:case"end":return t.stop()}},t,this)}))}},{key:"stop",value:function(){this.shouldPoll=!1;this.pollXhr&&(this.pollXhr.abort(),this.pollXhr=null)}}]),n}();i.LongPollingTransport=v;y=new b.default},{"./HttpError":5,"./ILogger":7,"babel-runtime/core-js/map":14,"babel-runtime/core-js/promise":19,"babel-runtime/helpers/classCallCheck":22,"babel-runtime/helpers/createClass":23,"babel-runtime/regenerator":27}],12:[function(n,t){t.exports={"default":n("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":28}],13:[function(n,t){t.exports={"default":n("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":29}],14:[function(n,t){t.exports={"default":n("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":30}],15:[function(n,t){t.exports={"default":n("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":31}],16:[function(n,t){t.exports={"default":n("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":32}],17:[function(n,t){t.exports={"default":n("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":33}],18:[function(n,t){t.exports={"default":n("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":34}],19:[function(n,t){t.exports={"default":n("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":35}],20:[function(n,t){t.exports={"default":n("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":36}],21:[function(n,t){t.exports={"default":n("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":37}],22:[function(n,t,i){"use strict";i.__esModule=!0;i.default=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}},{}],23:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}i.__esModule=!0;var r=n("../core-js/object/define-property"),u=f(r);i.default=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),u.default(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}()},{"../core-js/object/define-property":16}],24:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}i.__esModule=!0;var f=n("../core-js/object/set-prototype-of"),u=r(f),e=n("../core-js/object/create"),o=r(e),s=n("../helpers/typeof"),h=r(s);i.default=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t=="undefined"?"undefined":h.default(t)));n.prototype=o.default(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(u.default?u.default(n,t):n.__proto__=t)}},{"../core-js/object/create":15,"../core-js/object/set-prototype-of":18,"../helpers/typeof":26}],25:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}i.__esModule=!0;var r=n("../helpers/typeof"),u=f(r);i.default=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&((typeof t=="undefined"?"undefined":u.default(t))==="object"||typeof t=="function")?t:n}},{"../helpers/typeof":26}],26:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}i.__esModule=!0;var o=n("../core-js/symbol/iterator"),f=e(o),s=n("../core-js/symbol"),r=e(s),u=typeof r.default=="function"&&typeof f.default=="symbol"?function(n){return typeof n}:function(n){return n&&typeof r.default=="function"&&n.constructor===r.default&&n!==r.default.prototype?"symbol":typeof n};i.default=typeof r.default=="function"&&u(f.default)==="symbol"?function(n){return typeof n=="undefined"?"undefined":u(n)}:function(n){return n&&typeof r.default=="function"&&n.constructor===r.default&&n!==r.default.prototype?"symbol":typeof n=="undefined"?"undefined":u(n)}},{"../core-js/symbol":20,"../core-js/symbol/iterator":21}],27:[function(n,t){t.exports=n("regenerator-runtime")},{"regenerator-runtime":140}],28:[function(n,t){n("../modules/web.dom.iterable");n("../modules/es6.string.iterator");t.exports=n("../modules/core.get-iterator")},{"../modules/core.get-iterator":121,"../modules/es6.string.iterator":130,"../modules/web.dom.iterable":139}],29:[function(n,t){var i=n("../../modules/_core"),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(){return r.stringify.apply(r,arguments)}},{"../../modules/_core":52}],30:[function(n,t){n("../modules/es6.object.to-string");n("../modules/es6.string.iterator");n("../modules/web.dom.iterable");n("../modules/es6.map");n("../modules/es7.map.to-json");n("../modules/es7.map.of");n("../modules/es7.map.from");t.exports=n("../modules/_core").Map},{"../modules/_core":52,"../modules/es6.map":123,"../modules/es6.object.to-string":128,"../modules/es6.string.iterator":130,"../modules/es7.map.from":132,"../modules/es7.map.of":133,"../modules/es7.map.to-json":134,"../modules/web.dom.iterable":139}],31:[function(n,t){n("../../modules/es6.object.create");var i=n("../../modules/_core").Object;t.exports=function(n,t){return i.create(n,t)}},{"../../modules/_core":52,"../../modules/es6.object.create":124}],32:[function(n,t){n("../../modules/es6.object.define-property");var i=n("../../modules/_core").Object;t.exports=function(n,t,r){return i.defineProperty(n,t,r)}},{"../../modules/_core":52,"../../modules/es6.object.define-property":125}],33:[function(n,t){n("../../modules/es6.object.get-prototype-of");t.exports=n("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":52,"../../modules/es6.object.get-prototype-of":126}],34:[function(n,t){n("../../modules/es6.object.set-prototype-of");t.exports=n("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":52,"../../modules/es6.object.set-prototype-of":127}],35:[function(n,t){n("../modules/es6.object.to-string");n("../modules/es6.string.iterator");n("../modules/web.dom.iterable");n("../modules/es6.promise");n("../modules/es7.promise.finally");n("../modules/es7.promise.try");t.exports=n("../modules/_core").Promise},{"../modules/_core":52,"../modules/es6.object.to-string":128,"../modules/es6.promise":129,"../modules/es6.string.iterator":130,"../modules/es7.promise.finally":135,"../modules/es7.promise.try":136,"../modules/web.dom.iterable":139}],36:[function(n,t){n("../../modules/es6.symbol");n("../../modules/es6.object.to-string");n("../../modules/es7.symbol.async-iterator");n("../../modules/es7.symbol.observable");t.exports=n("../../modules/_core").Symbol},{"../../modules/_core":52,"../../modules/es6.object.to-string":128,"../../modules/es6.symbol":131,"../../modules/es7.symbol.async-iterator":137,"../../modules/es7.symbol.observable":138}],37:[function(n,t){n("../../modules/es6.string.iterator");n("../../modules/web.dom.iterable");t.exports=n("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":118,"../../modules/es6.string.iterator":130,"../../modules/web.dom.iterable":139}],38:[function(n,t){t.exports=function(n){if(typeof n!="function")throw TypeError(n+" is not a function!");return n}},{}],39:[function(n,t){t.exports=function(){}},{}],40:[function(n,t){t.exports=function(n,t,i,r){if(!(n instanceof t)||r!==undefined&&r in n)throw TypeError(i+": incorrect invocation!");return n}},{}],41:[function(n,t){var i=n("./_is-object");t.exports=function(n){if(!i(n))throw TypeError(n+" is not an object!");return n}},{"./_is-object":71}],42:[function(n,t){var i=n("./_for-of");t.exports=function(n,t){var r=[];return i(n,!1,r.push,r,t),r}},{"./_for-of":61}],43:[function(n,t){var i=n("./_to-iobject"),r=n("./_to-length"),u=n("./_to-absolute-index");t.exports=function(n){return function(t,f,e){var s=i(t),h=r(s.length),o=u(e,h),c;if(n&&f!=f){while(h>o)if(c=s[o++],c!=c)return!0}else for(;h>o;o++)if((n||o in s)&&s[o]===f)return n||o||0;return!n&&-1}}},{"./_to-absolute-index":109,"./_to-iobject":111,"./_to-length":112}],44:[function(n,t){var i=n("./_ctx"),r=n("./_iobject"),u=n("./_to-object"),f=n("./_to-length"),e=n("./_array-species-create");t.exports=function(n,t){var s=n==1,l=n==2,a=n==3,o=n==4,h=n==6,v=n==5||h,c=t||e;return function(t,e,y){for(var g=u(t),b=r(g),tt=i(e,y,3),nt=f(b.length),p=0,k=s?c(t,nt):l?c(t,0):undefined,w,d;nt>p;p++)if((v||p in b)&&(w=b[p],d=tt(w,p,g),n))if(s)k[p]=d;else if(d)switch(n){case 3:return!0;case 5:return w;case 6:return p;case 2:k.push(w)}else if(o)return!1;return h?-1:a||o?o:k}}},{"./_array-species-create":46,"./_ctx":53,"./_iobject":68,"./_to-length":112,"./_to-object":113}],45:[function(n,t){var r=n("./_is-object"),i=n("./_is-array"),u=n("./_wks")("species");t.exports=function(n){var t;return i(n)&&(t=n.constructor,typeof t=="function"&&(t===Array||i(t.prototype))&&(t=undefined),r(t)&&(t=t[u],t===null&&(t=undefined))),t===undefined?Array:t}},{"./_is-array":70,"./_is-object":71,"./_wks":119}],46:[function(n,t){var i=n("./_array-species-constructor");t.exports=function(n,t){return new(i(n))(t)}},{"./_array-species-constructor":45}],47:[function(n,t){var i=n("./_cof"),r=n("./_wks")("toStringTag"),u=i(function(){return arguments}())=="Arguments",f=function(n,t){try{return n[t]}catch(i){}};t.exports=function(n){var t,e,o;return n===undefined?"Undefined":n===null?"Null":typeof(e=f(t=Object(n),r))=="string"?e:u?i(t):(o=i(t))=="Object"&&typeof t.callee=="function"?"Arguments":o}},{"./_cof":48,"./_wks":119}],48:[function(n,t){var i={}.toString;t.exports=function(n){return i.call(n).slice(8,-1)}},{}],49:[function(n,t){"use strict";var s=n("./_object-dp").f,h=n("./_object-create"),c=n("./_redefine-all"),l=n("./_ctx"),a=n("./_an-instance"),v=n("./_for-of"),y=n("./_iter-define"),u=n("./_iter-step"),p=n("./_set-species"),e=n("./_descriptors"),o=n("./_meta").fastKey,i=n("./_validate-collection"),r=e?"_s":"size",f=function(n,t){var r=o(t),i;if(r!=="F")return n._i[r];for(i=n._f;i;i=i.n)if(i.k==t)return i};t.exports={getConstructor:function(n,t,u,o){var y=n(function(n,i){a(n,y,t,"_i");n._t=t;n._i=h(null);n._f=undefined;n._l=undefined;n[r]=0;i!=undefined&&v(i,u,n[o],n)});return c(y.prototype,{clear:function(){for(var u=i(this,t),f=u._i,n=u._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=undefined),delete f[n.i];u._f=u._l=undefined;u[r]=0},"delete":function(n){var e=i(this,t),u=f(e,n),o,s;return u&&(o=u.n,s=u.p,delete e._i[u.i],u.r=!0,s&&(s.n=o),o&&(o.p=s),e._f==u&&(e._f=o),e._l==u&&(e._l=s),e[r]--),!!u},forEach:function(n){i(this,t);for(var u=l(n,arguments.length>1?arguments[1]:undefined,3),r;r=r?r.n:this._f;)for(u(r.v,r.k,this);r&&r.r;)r=r.p},has:function(n){return!!f(i(this,t),n)}}),e&&s(y.prototype,"size",{get:function(){return i(this,t)[r]}}),y},def:function(n,t,i){var u=f(n,t),e,s;return u?u.v=i:(n._l=u={i:s=o(t,!0),k:t,v:i,p:e=n._l,n:undefined,r:!1},n._f||(n._f=u),e&&(e.n=u),n[r]++,s!=="F"&&(n._i[s]=u)),n},getEntry:f,setStrong:function(n,t,r){y(n,t,function(n,r){this._t=i(n,t);this._k=r;this._l=undefined},function(){for(var t=this,i=t._k,n=t._l;n&&n.r;)n=n.p;return!t._t||!(t._l=n=n?n.n:t._t._f)?(t._t=undefined,u(1)):i=="keys"?u(0,n.k):i=="values"?u(0,n.v):u(0,[n.k,n.v])},r?"entries":"values",!r,!0);p(t)}}},{"./_an-instance":40,"./_ctx":53,"./_descriptors":55,"./_for-of":61,"./_iter-define":74,"./_iter-step":76,"./_meta":79,"./_object-create":82,"./_object-dp":83,"./_redefine-all":97,"./_set-species":102,"./_validate-collection":116}],50:[function(n,t){var i=n("./_classof"),r=n("./_array-from-iterable");t.exports=function(n){return function(){if(i(this)!=n)throw TypeError(n+"#toJSON isn't generic");return r(this)}}},{"./_array-from-iterable":42,"./_classof":47}],51:[function(n,t){"use strict";var u=n("./_global"),i=n("./_export"),f=n("./_meta"),e=n("./_fails"),o=n("./_hide"),s=n("./_redefine-all"),h=n("./_for-of"),r=n("./_an-instance"),c=n("./_is-object"),l=n("./_set-to-string-tag"),a=n("./_object-dp").f,v=n("./_array-methods")(0),y=n("./_descriptors");t.exports=function(n,t,p,w,b,k){var g=u[n],d=g,nt=b?"set":"add",tt=d&&d.prototype,it={};return y&&typeof d=="function"&&(k||tt.forEach&&!e(function(){(new d).entries().next()}))?(d=t(function(t,i){r(t,d,n,"_c");t._c=new g;i!=undefined&&h(i,b,t[nt],t)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(n){var t=n=="add"||n=="set";n in tt&&!(k&&n=="clear")&&o(d.prototype,n,function(i,u){if(r(this,d,n),!t&&k&&!c(i))return n=="get"?undefined:!1;var f=this._c[n](i===0?0:i,u);return t?this:f})}),k||a(d.prototype,"size",{get:function(){return this._c.size}})):(d=w.getConstructor(t,n,b,nt),s(d.prototype,p),f.NEED=!0),l(d,n),it[n]=d,i(i.G+i.W+i.F,it),k||w.setStrong(d,n,b),d}},{"./_an-instance":40,"./_array-methods":44,"./_descriptors":55,"./_export":59,"./_fails":60,"./_for-of":61,"./_global":62,"./_hide":64,"./_is-object":71,"./_meta":79,"./_object-dp":83,"./_redefine-all":97,"./_set-to-string-tag":103}],52:[function(n,t){var i=t.exports={version:"2.5.1"};typeof __e=="number"&&(__e=i)},{}],53:[function(n,t){var i=n("./_a-function");t.exports=function(n,t,r){if(i(n),t===undefined)return n;switch(r){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)}}return function(){return n.apply(t,arguments)}}},{"./_a-function":38}],54:[function(n,t){t.exports=function(n){if(n==undefined)throw TypeError("Can't call method on  "+n);return n}},{}],55:[function(n,t){t.exports=!n("./_fails")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},{"./_fails":60}],56:[function(n,t){var r=n("./_is-object"),i=n("./_global").document,u=r(i)&&r(i.createElement);t.exports=function(n){return u?i.createElement(n):{}}},{"./_global":62,"./_is-object":71}],57:[function(n,t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],58:[function(n,t){var i=n("./_object-keys"),r=n("./_object-gops"),u=n("./_object-pie");t.exports=function(n){var t=i(n),f=r.f;if(f)for(var e=f(n),h=u.f,o=0,s;e.length>o;)h.call(n,s=e[o++])&&t.push(s);return t}},{"./_object-gops":88,"./_object-keys":91,"./_object-pie":92}],59:[function(n,t){var r=n("./_global"),f=n("./_core"),e=n("./_ctx"),o=n("./_hide"),u="prototype",i=function(n,t,s){var b=n&i.F,v=n&i.G,k=n&i.S,w=n&i.P,d=n&i.B,g=n&i.W,l=v?f:f[t]||(f[t]={}),p=l[u],a=v?r:k?r[t]:(r[t]||{})[u],h,y,c;v&&(s=t);for(h in s)(y=!b&&a&&a[h]!==undefined,y&&h in l)||(c=y?a[h]:s[h],l[h]=v&&typeof a[h]!="function"?s[h]:d&&y?e(c,r):g&&a[h]==c?function(n){var t=function(t,i,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,i)}return new n(t,i,r)}return n.apply(this,arguments)};return t[u]=n[u],t}(c):w&&typeof c=="function"?e(Function.call,c):c,w&&((l.virtual||(l.virtual={}))[h]=c,n&i.R&&p&&!p[h]&&o(p,h,c)))};i.F=1;i.G=2;i.S=4;i.P=8;i.B=16;i.W=32;i.U=64;i.R=128;t.exports=i},{"./_core":52,"./_ctx":53,"./_global":62,"./_hide":64}],60:[function(n,t){t.exports=function(n){try{return!!n()}catch(t){return!0}}},{}],61:[function(n,t,i){var f=n("./_ctx"),e=n("./_iter-call"),o=n("./_is-array-iter"),s=n("./_an-object"),h=n("./_to-length"),c=n("./core.get-iterator-method"),r={},u={},i=t.exports=function(n,t,i,l,a){var w=a?function(){return n}:c(n),b=f(i,l,t?2:1),y=0,d,p,k,v;if(typeof w!="function")throw TypeError(n+" is not iterable!");if(o(w)){for(d=h(n.length);d>y;y++)if(v=t?b(s(p=n[y])[0],p[1]):b(n[y]),v===r||v===u)return v}else for(k=w.call(n);!(p=k.next()).done;)if(v=e(k,b,p.value,t),v===r||v===u)return v};i.BREAK=r;i.RETURN=u},{"./_an-object":41,"./_ctx":53,"./_is-array-iter":69,"./_iter-call":72,"./_to-length":112,"./core.get-iterator-method":120}],62:[function(n,t){var i=t.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=i)},{}],63:[function(n,t){var i={}.hasOwnProperty;t.exports=function(n,t){return i.call(n,t)}},{}],64:[function(n,t){var i=n("./_object-dp"),r=n("./_property-desc");t.exports=n("./_descriptors")?function(n,t,u){return i.f(n,t,r(1,u))}:function(n,t,i){return n[t]=i,n}},{"./_descriptors":55,"./_object-dp":83,"./_property-desc":96}],65:[function(n,t){var i=n("./_global").document;t.exports=i&&i.documentElement},{"./_global":62}],66:[function(n,t){t.exports=!n("./_descriptors")&&!n("./_fails")(function(){return Object.defineProperty(n("./_dom-create")("div"),"a",{get:function(){return 7}}).a!=7})},{"./_descriptors":55,"./_dom-create":56,"./_fails":60}],67:[function(n,t){t.exports=function(n,t,i){var r=i===undefined;switch(t.length){case 0:return r?n():n.call(i);case 1:return r?n(t[0]):n.call(i,t[0]);case 2:return r?n(t[0],t[1]):n.call(i,t[0],t[1]);case 3:return r?n(t[0],t[1],t[2]):n.call(i,t[0],t[1],t[2]);case 4:return r?n(t[0],t[1],t[2],t[3]):n.call(i,t[0],t[1],t[2],t[3])}return n.apply(i,t)}},{}],68:[function(n,t){var i=n("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return i(n)=="String"?n.split(""):Object(n)}},{"./_cof":48}],69:[function(n,t){var i=n("./_iterators"),r=n("./_wks")("iterator"),u=Array.prototype;t.exports=function(n){return n!==undefined&&(i.Array===n||u[r]===n)}},{"./_iterators":77,"./_wks":119}],70:[function(n,t){var i=n("./_cof");t.exports=Array.isArray||function(n){return i(n)=="Array"}},{"./_cof":48}],71:[function(n,t){t.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},{}],72:[function(n,t){var i=n("./_an-object");t.exports=function(n,t,r,u){try{return u?t(i(r)[0],r[1]):t(r)}catch(e){var f=n["return"];f!==undefined&&i(f.call(n));throw e;}}},{"./_an-object":41}],73:[function(n,t){"use strict";var r=n("./_object-create"),u=n("./_property-desc"),f=n("./_set-to-string-tag"),i={};n("./_hide")(i,n("./_wks")("iterator"),function(){return this});t.exports=function(n,t,e){n.prototype=r(i,{next:u(1,e)});f(n,t+" Iterator")}},{"./_hide":64,"./_object-create":82,"./_property-desc":96,"./_set-to-string-tag":103,"./_wks":119}],74:[function(n,t){"use strict";var e=n("./_library"),u=n("./_export"),l=n("./_redefine"),o=n("./_hide"),a=n("./_has"),s=n("./_iterators"),v=n("./_iter-create"),y=n("./_set-to-string-tag"),p=n("./_object-gpo"),i=n("./_wks")("iterator"),f=!([].keys&&"next"in[].keys()),w="@@iterator",h="keys",r="values",c=function(){return this};t.exports=function(n,t,b,k,d,g,nt){v(b,t,k);var et=function(n){if(!f&&n in tt)return tt[n];switch(n){case h:return function(){return new b(this,n)};case r:return function(){return new b(this,n)}}return function(){return new b(this,n)}},ct=t+" Iterator",st=d==r,ht=!1,tt=n.prototype,it=tt[i]||tt[w]||d&&tt[d],rt=it||et(d),at=d?st?et("entries"):rt:undefined,lt=t=="Array"?tt.entries||it:it,ft,ot,ut;if(lt&&(ut=p(lt.call(new n)),ut!==Object.prototype&&ut.next&&(y(ut,ct,!0),e||a(ut,i)||o(ut,i,c))),st&&it&&it.name!==r&&(ht=!0,rt=function(){return it.call(this)}),(!e||nt)&&(f||ht||!tt[i])&&o(tt,i,rt),s[t]=rt,s[ct]=c,d)if(ft={values:st?rt:et(r),keys:g?rt:et(h),entries:at},nt)for(ot in ft)ot in tt||l(tt,ot,ft[ot]);else u(u.P+u.F*(f||ht),t,ft);return ft}},{"./_export":59,"./_has":63,"./_hide":64,"./_iter-create":73,"./_iterators":77,"./_library":78,"./_object-gpo":89,"./_redefine":98,"./_set-to-string-tag":103,"./_wks":119}],75:[function(n,t){var i=n("./_wks")("iterator"),u=!1,r;try{r=[7][i]();r["return"]=function(){u=!0};Array.from(r,function(){throw 2;})}catch(f){}t.exports=function(n,t){var f,r,e;if(!t&&!u)return!1;f=!1;try{r=[7];e=r[i]();e.next=function(){return{done:f=!0}};r[i]=function(){return e};n(r)}catch(o){}return f}},{"./_wks":119}],76:[function(n,t){t.exports=function(n,t){return{value:t,done:!!n}}},{}],77:[function(n,t){t.exports={}},{}],78:[function(n,t){t.exports=!0},{}],79:[function(n,t){var i=n("./_uid")("meta"),e=n("./_is-object"),u=n("./_has"),o=n("./_object-dp").f,s=0,r=Object.isExtensible||function(){return!0},h=!n("./_fails")(function(){return r(Object.preventExtensions({}))}),f=function(n){o(n,i,{value:{i:"O"+ ++s,w:{}}})},c=function(n,t){if(!e(n))return typeof n=="symbol"?n:(typeof n=="string"?"S":"P")+n;if(!u(n,i)){if(!r(n))return"F";if(!t)return"E";f(n)}return n[i].i},l=function(n,t){if(!u(n,i)){if(!r(n))return!0;if(!t)return!1;f(n)}return n[i].w},a=function(n){return h&&v.NEED&&r(n)&&!u(n,i)&&f(n),n},v=t.exports={KEY:i,NEED:!1,fastKey:c,getWeak:l,onFreeze:a}},{"./_fails":60,"./_has":63,"./_is-object":71,"./_object-dp":83,"./_uid":115}],80:[function(n,t){var i=n("./_global"),o=n("./_task").set,f=i.MutationObserver||i.WebKitMutationObserver,r=i.process,u=i.Promise,e=n("./_cof")(r)=="process";t.exports=function(){var n,s,t,h=function(){var i,u;for(e&&(i=r.domain)&&i.exit();n;){u=n.fn;n=n.next;try{u()}catch(f){n?t():s=undefined;throw f;}}s=undefined;i&&i.enter()},c,l,a;return e?t=function(){r.nextTick(h)}:f?(c=!0,l=document.createTextNode(""),new f(h).observe(l,{characterData:!0}),t=function(){l.data=c=!c}):u&&u.resolve?(a=u.resolve(),t=function(){a.then(h)}):t=function(){o.call(i,h)},function(i){var r={fn:i,next:undefined};s&&(s.next=r);n||(n=r,t());s=r}}},{"./_cof":48,"./_global":62,"./_task":108}],81:[function(n,t){"use strict";function r(n){var t,r;this.promise=new n(function(n,i){if(t!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");t=n;r=i});this.resolve=i(t);this.reject=i(r)}var i=n("./_a-function");t.exports.f=function(n){return new r(n)}},{"./_a-function":38}],82:[function(n,t){var e=n("./_an-object"),o=n("./_object-dps"),f=n("./_enum-bug-keys"),s=n("./_shared-key")("IE_PROTO"),r=function(){},u="prototype",i=function(){var r=n("./_dom-create")("iframe"),e=f.length,o="<",s=">",t;for(r.style.display="none",n("./_html").appendChild(r),r.src="javascript:",t=r.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),i=t.F;e--;)delete i[u][f[e]];return i()};t.exports=Object.create||function(n,t){var f;return n!==null?(r[u]=e(n),f=new r,r[u]=null,f[s]=n):f=i(),t===undefined?f:o(f,t)}},{"./_an-object":41,"./_dom-create":56,"./_enum-bug-keys":57,"./_html":65,"./_object-dps":84,"./_shared-key":104}],83:[function(n,t,i){var r=n("./_an-object"),u=n("./_ie8-dom-define"),f=n("./_to-primitive"),e=Object.defineProperty;i.f=n("./_descriptors")?Object.defineProperty:function(n,t,i){if(r(n),t=f(t,!0),r(i),u)try{return e(n,t,i)}catch(o){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(n[t]=i.value),n}},{"./_an-object":41,"./_descriptors":55,"./_ie8-dom-define":66,"./_to-primitive":114}],84:[function(n,t){var i=n("./_object-dp"),r=n("./_an-object"),u=n("./_object-keys");t.exports=n("./_descriptors")?Object.defineProperties:function(n,t){r(n);for(var f=u(t),s=f.length,e=0,o;s>e;)i.f(n,o=f[e++],t[o]);return n}},{"./_an-object":41,"./_descriptors":55,"./_object-dp":83,"./_object-keys":91}],85:[function(n,t,i){var u=n("./_object-pie"),f=n("./_property-desc"),e=n("./_to-iobject"),o=n("./_to-primitive"),s=n("./_has"),h=n("./_ie8-dom-define"),r=Object.getOwnPropertyDescriptor;i.f=n("./_descriptors")?r:function(n,t){if(n=e(n),t=o(t,!0),h)try{return r(n,t)}catch(i){}if(s(n,t))return f(!u.f.call(n,t),n[t])}},{"./_descriptors":55,"./_has":63,"./_ie8-dom-define":66,"./_object-pie":92,"./_property-desc":96,"./_to-iobject":111,"./_to-primitive":114}],86:[function(n,t){var u=n("./_to-iobject"),i=n("./_object-gopn").f,f={}.toString,r=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],e=function(n){try{return i(n)}catch(t){return r.slice()}};t.exports.f=function(n){return r&&f.call(n)=="[object Window]"?e(n):i(u(n))}},{"./_object-gopn":87,"./_to-iobject":111}],87:[function(n,t,i){var r=n("./_object-keys-internal"),u=n("./_enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(n){return r(n,u)}},{"./_enum-bug-keys":57,"./_object-keys-internal":90}],88:[function(n,t,i){i.f=Object.getOwnPropertySymbols},{}],89:[function(n,t){var r=n("./_has"),u=n("./_to-object"),i=n("./_shared-key")("IE_PROTO"),f=Object.prototype;t.exports=Object.getPrototypeOf||function(n){return(n=u(n),r(n,i))?n[i]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?f:null}},{"./_has":63,"./_shared-key":104,"./_to-object":113}],90:[function(n,t){var i=n("./_has"),r=n("./_to-iobject"),u=n("./_array-includes")(!1),f=n("./_shared-key")("IE_PROTO");t.exports=function(n,t){var s=r(n),h=0,o=[];for(var e in s)e!=f&&i(s,e)&&o.push(e);while(t.length>h)i(s,e=t[h++])&&(~u(o,e)||o.push(e));return o}},{"./_array-includes":43,"./_has":63,"./_shared-key":104,"./_to-iobject":111}],91:[function(n,t){var i=n("./_object-keys-internal"),r=n("./_enum-bug-keys");t.exports=Object.keys||function(n){return i(n,r)}},{"./_enum-bug-keys":57,"./_object-keys-internal":90}],92:[function(n,t,i){i.f={}.propertyIsEnumerable},{}],93:[function(n,t){var i=n("./_export"),r=n("./_core"),u=n("./_fails");t.exports=function(n,t){var f=(r.Object||{})[n]||Object[n],e={};e[n]=t(f);i(i.S+i.F*u(function(){f(1)}),"Object",e)}},{"./_core":52,"./_export":59,"./_fails":60}],94:[function(n,t){t.exports=function(n){try{return{e:!1,v:n()}}catch(t){return{e:!0,v:t}}}},{}],95:[function(n,t){var i=n("./_an-object"),r=n("./_is-object"),u=n("./_new-promise-capability");t.exports=function(n,t){if(i(n),r(t)&&t.constructor===n)return t;var f=u.f(n),e=f.resolve;return e(t),f.promise}},{"./_an-object":41,"./_is-object":71,"./_new-promise-capability":81}],96:[function(n,t){t.exports=function(n,t){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:t}}},{}],97:[function(n,t){var i=n("./_hide");t.exports=function(n,t,r){for(var u in t)r&&n[u]?n[u]=t[u]:i(n,u,t[u]);return n}},{"./_hide":64}],98:[function(n,t){t.exports=n("./_hide")},{"./_hide":64}],99:[function(n,t){"use strict";var i=n("./_export"),r=n("./_a-function"),f=n("./_ctx"),u=n("./_for-of");t.exports=function(n){i(i.S,n,{from:function(n){var i=arguments[1],e,t,o,s;return(r(this),e=i!==undefined,e&&r(i),n==undefined)?new this:(t=[],e?(o=0,s=f(i,arguments[2],2),u(n,!1,function(n){t.push(s(n,o++))})):u(n,!1,t.push,t),new this(t))}})}},{"./_a-function":38,"./_ctx":53,"./_export":59,"./_for-of":61}],100:[function(n,t){"use strict";var i=n("./_export");t.exports=function(n){i(i.S,n,{of:function(){for(var n=arguments.length,t=Array(n);n--;)t[n]=arguments[n];return new this(t)}})}},{"./_export":59}],101:[function(n,t){var r=n("./_is-object"),u=n("./_an-object"),i=function(n,t){if(u(n),!r(t)&&t!==null)throw TypeError(t+": can't set as prototype!");};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,u){try{u=n("./_ctx")(Function.call,n("./_object-gopd").f(Object.prototype,"__proto__").set,2);u(t,[]);r=!(t instanceof Array)}catch(f){r=!0}return function(n,t){return i(n,t),r?n.__proto__=t:u(n,t),n}}({},!1):undefined),check:i}},{"./_an-object":41,"./_ctx":53,"./_is-object":71,"./_object-gopd":85}],102:[function(n,t){"use strict";var u=n("./_global"),i=n("./_core"),f=n("./_object-dp"),e=n("./_descriptors"),r=n("./_wks")("species");t.exports=function(n){var t=typeof i[n]=="function"?i[n]:u[n];e&&t&&!t[r]&&f.f(t,r,{configurable:!0,get:function(){return this}})}},{"./_core":52,"./_descriptors":55,"./_global":62,"./_object-dp":83,"./_wks":119}],103:[function(n,t){var r=n("./_object-dp").f,u=n("./_has"),i=n("./_wks")("toStringTag");t.exports=function(n,t,f){n&&!u(n=f?n:n.prototype,i)&&r(n,i,{configurable:!0,value:t})}},{"./_has":63,"./_object-dp":83,"./_wks":119}],104:[function(n,t){var i=n("./_shared")("keys"),r=n("./_uid");t.exports=function(n){return i[n]||(i[n]=r(n))}},{"./_shared":105,"./_uid":115}],105:[function(n,t){var i=n("./_global"),r="__core-js_shared__",u=i[r]||(i[r]={});t.exports=function(n){return u[n]||(u[n]={})}},{"./_global":62}],106:[function(n,t){var i=n("./_an-object"),r=n("./_a-function"),u=n("./_wks")("species");t.exports=function(n,t){var f=i(n).constructor,e;return f===undefined||(e=i(f)[u])==undefined?t:r(e)}},{"./_a-function":38,"./_an-object":41,"./_wks":119}],107:[function(n,t){var i=n("./_to-integer"),r=n("./_defined");t.exports=function(n){return function(t,u){var e=String(r(t)),f=i(u),h=e.length,o,s;return f<0||f>=h?n?"":undefined:(o=e.charCodeAt(f),o<55296||o>56319||f+1===h||(s=e.charCodeAt(f+1))<56320||s>57343?n?e.charAt(f):o:n?e.slice(f,f+2):(o-55296<<10)+(s-56320)+65536)}}},{"./_defined":54,"./_to-integer":110}],108:[function(n,t){var e=n("./_ctx"),d=n("./_invoke"),v=n("./_html"),y=n("./_dom-create"),i=n("./_global"),p=i.process,o=i.setImmediate,s=i.clearImmediate,w=i.MessageChannel,h=i.Dispatch,c=0,u={},b="onreadystatechange",r,l,a,f=function(){var n=+this,t;u.hasOwnProperty(n)&&(t=u[n],delete u[n],t())},k=function(n){f.call(n.data)};o&&s||(o=function(n){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return u[++c]=function(){d(typeof n=="function"?n:Function(n),t)},r(c),c},s=function(n){delete u[n]},n("./_cof")(p)=="process"?r=function(n){p.nextTick(e(f,n,1))}:h&&h.now?r=function(n){h.now(e(f,n,1))}:w?(l=new w,a=l.port2,l.port1.onmessage=k,r=e(a.postMessage,a,1)):i.addEventListener&&typeof postMessage=="function"&&!i.importScripts?(r=function(n){i.postMessage(n+"","*")},i.addEventListener("message",k,!1)):r=b in y("script")?function(n){v.appendChild(y("script"))[b]=function(){v.removeChild(this);f.call(n)}}:function(n){setTimeout(e(f,n,1),0)});t.exports={set:o,clear:s}},{"./_cof":48,"./_ctx":53,"./_dom-create":56,"./_global":62,"./_html":65,"./_invoke":67}],109:[function(n,t){var i=n("./_to-integer"),r=Math.max,u=Math.min;t.exports=function(n,t){return n=i(n),n<0?r(n+t,0):u(n,t)}},{"./_to-integer":110}],110:[function(n,t){var i=Math.ceil,r=Math.floor;t.exports=function(n){return isNaN(n=+n)?0:(n>0?r:i)(n)}},{}],111:[function(n,t){var i=n("./_iobject"),r=n("./_defined");t.exports=function(n){return i(r(n))}},{"./_defined":54,"./_iobject":68}],112:[function(n,t){var i=n("./_to-integer"),r=Math.min;t.exports=function(n){return n>0?r(i(n),9007199254740991):0}},{"./_to-integer":110}],113:[function(n,t){var i=n("./_defined");t.exports=function(n){return Object(i(n))}},{"./_defined":54}],114:[function(n,t){var i=n("./_is-object");t.exports=function(n,t){if(!i(n))return n;var r,u;if(t&&typeof(r=n.toString)=="function"&&!i(u=r.call(n))||typeof(r=n.valueOf)=="function"&&!i(u=r.call(n))||!t&&typeof(r=n.toString)=="function"&&!i(u=r.call(n)))return u;throw TypeError("Can't convert object to primitive value");}},{"./_is-object":71}],115:[function(n,t){var i=0,r=Math.random();t.exports=function(n){return"Symbol(".concat(n===undefined?"":n,")_",(++i+r).toString(36))}},{}],116:[function(n,t){var i=n("./_is-object");t.exports=function(n,t){if(!i(n)||n._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return n}},{"./_is-object":71}],117:[function(n,t){var r=n("./_global"),i=n("./_core"),u=n("./_library"),f=n("./_wks-ext"),e=n("./_object-dp").f;t.exports=function(n){var t=i.Symbol||(i.Symbol=u?{}:r.Symbol||{});n.charAt(0)=="_"||n in t||e(t,n,{value:f.f(n)})}},{"./_core":52,"./_global":62,"./_library":78,"./_object-dp":83,"./_wks-ext":118}],118:[function(n,t,i){i.f=n("./_wks")},{"./_wks":119}],119:[function(n,t){var i=n("./_shared")("wks"),f=n("./_uid"),r=n("./_global").Symbol,u=typeof r=="function",e=t.exports=function(n){return i[n]||(i[n]=u&&r[n]||(u?r:f)("Symbol."+n))};e.store=i},{"./_global":62,"./_shared":105,"./_uid":115}],120:[function(n,t){var i=n("./_classof"),r=n("./_wks")("iterator"),u=n("./_iterators");t.exports=n("./_core").getIteratorMethod=function(n){if(n!=undefined)return n[r]||n["@@iterator"]||u[i(n)]}},{"./_classof":47,"./_core":52,"./_iterators":77,"./_wks":119}],121:[function(n,t){var i=n("./_an-object"),r=n("./core.get-iterator-method");t.exports=n("./_core").getIterator=function(n){var t=r(n);if(typeof t!="function")throw TypeError(n+" is not iterable!");return i(t.call(n))}},{"./_an-object":41,"./_core":52,"./core.get-iterator-method":120}],122:[function(n,t){"use strict";var r=n("./_add-to-unscopables"),i=n("./_iter-step"),u=n("./_iterators"),f=n("./_to-iobject");t.exports=n("./_iter-define")(Array,"Array",function(n,t){this._t=f(n);this._i=0;this._k=t},function(){var t=this._t,r=this._k,n=this._i++;return!t||n>=t.length?(this._t=undefined,i(1)):r=="keys"?i(0,n):r=="values"?i(0,t[n]):i(0,[n,t[n]])},"values");u.Arguments=u.Array;r("keys");r("values");r("entries")},{"./_add-to-unscopables":39,"./_iter-define":74,"./_iter-step":76,"./_iterators":77,"./_to-iobject":111}],123:[function(n,t){"use strict";var i=n("./_collection-strong"),u=n("./_validate-collection"),r="Map";t.exports=n("./_collection")(r,function(n){return function(){return n(this,arguments.length>0?arguments[0]:undefined)}},{get:function(n){var t=i.getEntry(u(this,r),n);return t&&t.v},set:function(n,t){return i.def(u(this,r),n===0?0:n,t)}},i,!0)},{"./_collection":51,"./_collection-strong":49,"./_validate-collection":116}],124:[function(n){var t=n("./_export");t(t.S,"Object",{create:n("./_object-create")})},{"./_export":59,"./_object-create":82}],125:[function(n){var t=n("./_export");t(t.S+t.F*!n("./_descriptors"),"Object",{defineProperty:n("./_object-dp").f})},{"./_descriptors":55,"./_export":59,"./_object-dp":83}],126:[function(n){var t=n("./_to-object"),i=n("./_object-gpo");n("./_object-sap")("getPrototypeOf",function(){return function(n){return i(t(n))}})},{"./_object-gpo":89,"./_object-sap":93,"./_to-object":113}],127:[function(n){var t=n("./_export");t(t.S,"Object",{setPrototypeOf:n("./_set-proto").set})},{"./_export":59,"./_set-proto":101}],128:[function(){},{}],129:[function(n){"use strict";var k=n("./_library"),r=n("./_global"),f=n("./_ctx"),et=n("./_classof"),t=n("./_export"),ot=n("./_is-object"),st=n("./_a-function"),ht=n("./_an-instance"),d=n("./_for-of"),ct=n("./_species-constructor"),g=n("./_task").set,nt=n("./_microtask")(),tt=n("./_new-promise-capability"),v=n("./_perform"),lt=n("./_promise-resolve"),u="Promise",it=r.TypeError,c=r.process,i=r[u],o=et(c)=="process",l=function(){},a,rt,ut,y,s=rt=tt.f,h=!!function(){try{var t=i.resolve(1),r=(t.constructor={})[n("./_wks")("species")]=function(n){n(l,l)};return(o||typeof PromiseRejectionEvent=="function")&&t.then(l)instanceof r}catch(u){}}(),ft=function(n){var t;return ot(n)&&typeof(t=n.then)=="function"?t:!1},p=function(n,t){if(!n._n){n._n=!0;var i=n._c;nt(function(){for(var r=n._v,u=n._s==1,f=0,e=function(t){var o=u?t.ok:t.fail,s=t.resolve,f=t.reject,e=t.domain,i,h;try{o?(u||(n._h==2&&vt(n),n._h=1),o===!0?i=r:(e&&e.enter(),i=o(r),e&&e.exit()),i===t.promise?f(it("Promise-chain cycle")):(h=ft(i))?h.call(i,s,f):s(i)):f(r)}catch(c){f(c)}};i.length>f;)e(i[f++]);n._c=[];n._n=!1;t&&!n._h&&at(n)})}},at=function(n){g.call(r,function(){var t=n._v,f=w(n),i,e,u;if(f&&(i=v(function(){o?c.emit("unhandledRejection",t,n):(e=r.onunhandledrejection)?e({promise:n,reason:t}):(u=r.console)&&u.error&&u.error("Unhandled promise rejection",t)}),n._h=o||w(n)?2:1),n._a=undefined,f&&i.e)throw i.v;})},w=function(n){if(n._h==1)return!1;for(var i=n._a||n._c,r=0,t;i.length>r;)if(t=i[r++],t.fail||!w(t.promise))return!1;return!0},vt=function(n){g.call(r,function(){var t;o?c.emit("rejectionHandled",n):(t=r.onrejectionhandled)&&t({promise:n,reason:n._v})})},e=function(n){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=n,t._s=2,t._a||(t._a=t._c.slice()),p(t,!0))},b=function(n){var t=this,i;if(!t._d){t._d=!0;t=t._w||t;try{if(t===n)throw it("Promise can't be resolved itself");(i=ft(n))?nt(function(){var r={_w:t,_d:!1};try{i.call(n,f(b,r,1),f(e,r,1))}catch(u){e.call(r,u)}}):(t._v=n,t._s=1,p(t,!1))}catch(r){e.call({_w:t,_d:!1},r)}}};h||(i=function(n){ht(this,i,u,"_h");st(n);a.call(this);try{n(f(b,this,1),f(e,this,1))}catch(t){e.call(this,t)}},a=function(){this._c=[];this._a=undefined;this._s=0;this._d=!1;this._v=undefined;this._h=0;this._n=!1},a.prototype=n("./_redefine-all")(i.prototype,{then:function(n,t){var r=s(ct(this,i));return r.ok=typeof n=="function"?n:!0,r.fail=typeof t=="function"&&t,r.domain=o?c.domain:undefined,this._c.push(r),this._a&&this._a.push(r),this._s&&p(this,!1),r.promise},"catch":function(n){return this.then(undefined,n)}}),ut=function(){var n=new a;this.promise=n;this.resolve=f(b,n,1);this.reject=f(e,n,1)},tt.f=s=function(n){return n===i||n===y?new ut(n):rt(n)});t(t.G+t.W+t.F*!h,{Promise:i});n("./_set-to-string-tag")(i,u);n("./_set-species")(u);y=n("./_core")[u];t(t.S+t.F*!h,u,{reject:function(n){var t=s(this),i=t.reject;return i(n),t.promise}});t(t.S+t.F*(k||!h),u,{resolve:function(n){return lt(k&&this===y?i:this,n)}});t(t.S+t.F*!(h&&n("./_iter-detect")(function(n){i.all(n)["catch"](l)})),u,{all:function(n){var i=this,t=s(i),r=t.resolve,u=t.reject,f=v(function(){var t=[],e=0,f=1;d(n,!1,function(n){var s=e++,o=!1;t.push(undefined);f++;i.resolve(n).then(function(n){o||(o=!0,t[s]=n,--f||r(t))},u)});--f||r(t)});return f.e&&u(f.v),t.promise},race:function(n){var i=this,t=s(i),r=t.reject,u=v(function(){d(n,!1,function(n){i.resolve(n).then(t.resolve,r)})});return u.e&&r(u.v),t.promise}})},{"./_a-function":38,"./_an-instance":40,"./_classof":47,"./_core":52,"./_ctx":53,"./_export":59,"./_for-of":61,"./_global":62,"./_is-object":71,"./_iter-detect":75,"./_library":78,"./_microtask":80,"./_new-promise-capability":81,"./_perform":94,"./_promise-resolve":95,"./_redefine-all":97,"./_set-species":102,"./_set-to-string-tag":103,"./_species-constructor":106,"./_task":108,"./_wks":119}],130:[function(n){"use strict";var t=n("./_string-at")(!0);n("./_iter-define")(String,"String",function(n){this._t=String(n);this._i=0},function(){var i=this._t,r=this._i,n;return r>=i.length?{value:undefined,done:!0}:(n=t(i,r),this._i+=n.length,{value:n,done:!1})})},{"./_iter-define":74,"./_string-at":107}],131:[function(n){"use strict";var y=n("./_global"),t=n("./_has"),d=n("./_descriptors"),u=n("./_export"),at=n("./_redefine"),fi=n("./_meta").KEY,vt=n("./_fails"),g=n("./_shared"),nt=n("./_set-to-string-tag"),ei=n("./_uid"),c=n("./_wks"),oi=n("./_wks-ext"),si=n("./_wks-define"),hi=n("./_enum-keys"),ci=n("./_is-array"),tt=n("./_an-object"),p=n("./_to-iobject"),it=n("./_to-primitive"),rt=n("./_property-desc"),l=n("./_object-create"),yt=n("./_object-gopn-ext"),pt=n("./_object-gopd"),wt=n("./_object-dp"),li=n("./_object-keys"),bt=pt.f,s=wt.f,kt=yt.f,i=y.Symbol,w=y.JSON,b=w&&w.stringify,o="prototype",r=c("_hidden"),dt=c("toPrimitive"),ai={}.propertyIsEnumerable,a=g("symbol-registry"),e=g("symbols"),v=g("op-symbols"),f=Object[o],h=typeof i=="function",ut=y.QObject,ft=!ut||!ut[o]||!ut[o].findChild,et=d&&vt(function(){return l(s({},"a",{get:function(){return s(this,"a",{value:7}).a}})).a!=7})?function(n,t,i){var r=bt(f,t);r&&delete f[t];s(n,t,i);r&&n!==f&&s(f,t,r)}:s,gt=function(n){var t=e[n]=l(i[o]);return t._k=n,t},ot=h&&typeof i.iterator=="symbol"?function(n){return typeof n=="symbol"}:function(n){return n instanceof i},k=function(n,i,u){return(n===f&&k(v,i,u),tt(n),i=it(i,!0),tt(u),t(e,i))?(u.enumerable?(t(n,r)&&n[r][i]&&(n[r][i]=!1),u=l(u,{enumerable:rt(0,!1)})):(t(n,r)||s(n,r,rt(1,{})),n[r][i]=!0),et(n,i,u)):s(n,i,u)},ni=function(n,t){tt(n);for(var i=hi(t=p(t)),r=0,f=i.length,u;f>r;)k(n,u=i[r++],t[u]);return n},vi=function(n,t){return t===undefined?l(n):ni(l(n),t)},ti=function(n){var i=ai.call(this,n=it(n,!0));return this===f&&t(e,n)&&!t(v,n)?!1:i||!t(this,n)||!t(e,n)||t(this,r)&&this[r][n]?i:!0},ii=function(n,i){if(n=p(n),i=it(i,!0),n!==f||!t(e,i)||t(v,i)){var u=bt(n,i);return!u||!t(e,i)||t(n,r)&&n[r][i]||(u.enumerable=!0),u}},ri=function(n){for(var u=kt(p(n)),f=[],o=0,i;u.length>o;)t(e,i=u[o++])||i==r||i==fi||f.push(i);return f},ui=function(n){for(var r=n===f,u=kt(r?v:p(n)),o=[],s=0,i;u.length>s;)t(e,i=u[s++])&&(r?t(f,i):!0)&&o.push(e[i]);return o},st,ht,ct,lt;for(h||(i=function(){if(this instanceof i)throw TypeError("Symbol is not a constructor!");var n=ei(arguments.length>0?arguments[0]:undefined),u=function(i){this===f&&u.call(v,i);t(this,r)&&t(this[r],n)&&(this[r][n]=!1);et(this,n,rt(1,i))};return d&&ft&&et(f,n,{configurable:!0,set:u}),gt(n)},at(i[o],"toString",function(){return this._k}),pt.f=ii,wt.f=k,n("./_object-gopn").f=yt.f=ri,n("./_object-pie").f=ti,n("./_object-gops").f=ui,d&&!n("./_library")&&at(f,"propertyIsEnumerable",ti,!0),oi.f=function(n){return gt(c(n))}),u(u.G+u.W+u.F*!h,{Symbol:i}),st="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ht=0;st.length>ht;)c(st[ht++]);for(ct=li(c.store),lt=0;ct.length>lt;)si(ct[lt++]);u(u.S+u.F*!h,"Symbol",{"for":function(n){return t(a,n+="")?a[n]:a[n]=i(n)},keyFor:function(n){if(!ot(n))throw TypeError(n+" is not a symbol!");for(var t in a)if(a[t]===n)return t},useSetter:function(){ft=!0},useSimple:function(){ft=!1}});u(u.S+u.F*!h,"Object",{create:vi,defineProperty:k,defineProperties:ni,getOwnPropertyDescriptor:ii,getOwnPropertyNames:ri,getOwnPropertySymbols:ui});w&&u(u.S+u.F*(!h||vt(function(){var n=i();return b([n])!="[null]"||b({a:n})!="{}"||b(Object(n))!="{}"})),"JSON",{stringify:function(n){if(n!==undefined&&!ot(n)){for(var i=[n],u=1,t,r;arguments.length>u;)i.push(arguments[u++]);return t=i[1],typeof t=="function"&&(r=t),(r||!ci(t))&&(t=function(n,t){return r&&(t=r.call(this,n,t)),ot(t)?void 0:t}),i[1]=t,b.apply(w,i)}}});i[o][dt]||n("./_hide")(i[o],dt,i[o].valueOf);nt(i,"Symbol");nt(Math,"Math",!0);nt(y.JSON,"JSON",!0)},{"./_an-object":41,"./_descriptors":55,"./_enum-keys":58,"./_export":59,"./_fails":60,"./_global":62,"./_has":63,"./_hide":64,"./_is-array":70,"./_library":78,"./_meta":79,"./_object-create":82,"./_object-dp":83,"./_object-gopd":85,"./_object-gopn":87,"./_object-gopn-ext":86,"./_object-gops":88,"./_object-keys":91,"./_object-pie":92,"./_property-desc":96,"./_redefine":98,"./_set-to-string-tag":103,"./_shared":105,"./_to-iobject":111,"./_to-primitive":114,"./_uid":115,"./_wks":119,"./_wks-define":117,"./_wks-ext":118}],132:[function(n){n("./_set-collection-from")("Map")},{"./_set-collection-from":99}],133:[function(n){n("./_set-collection-of")("Map")},{"./_set-collection-of":100}],134:[function(n){var t=n("./_export");t(t.P+t.R,"Map",{toJSON:n("./_collection-to-json")("Map")})},{"./_collection-to-json":50,"./_export":59}],135:[function(n){"use strict";var t=n("./_export"),r=n("./_core"),u=n("./_global"),f=n("./_species-constructor"),i=n("./_promise-resolve");t(t.P+t.R,"Promise",{"finally":function(n){var t=f(this,r.Promise||u.Promise),e=typeof n=="function";return this.then(e?function(r){return i(t,n()).then(function(){return r})}:n,e?function(r){return i(t,n()).then(function(){throw r;})}:n)}})},{"./_core":52,"./_export":59,"./_global":62,"./_promise-resolve":95,"./_species-constructor":106}],136:[function(n){"use strict";var t=n("./_export"),i=n("./_new-promise-capability"),r=n("./_perform");t(t.S,"Promise",{"try":function(n){var t=i.f(this),u=r(n);return(u.e?t.reject:t.resolve)(u.v),t.promise}})},{"./_export":59,"./_new-promise-capability":81,"./_perform":94}],137:[function(n){n("./_wks-define")("asyncIterator")},{"./_wks-define":117}],138:[function(n){n("./_wks-define")("observable")},{"./_wks-define":117}],139:[function(n){var t;n("./es6.array.iterator");var s=n("./_global"),h=n("./_hide"),u=n("./_iterators"),f=n("./_wks")("toStringTag"),e="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(",");for(t=0;t<e.length;t++){var i=e[t],o=s[i],r=o&&o.prototype;r&&!r[f]&&h(r,f,i);u[i]=u.Array}},{"./_global":62,"./_hide":64,"./_iterators":77,"./_wks":119,"./es6.array.iterator":122}],140:[function(n,t){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,u=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=undefined,t.exports=n("./runtime"),r)i.regeneratorRuntime=u;else try{delete i.regeneratorRuntime}catch(f){i.regeneratorRuntime=undefined}},{"./runtime":141}],141:[function(n,t){!function(n){"use strict";function rt(n,t,i,r){var f=t&&t.prototype instanceof k?t:k,u=Object.create(f.prototype),e=new g(r||[]);return u._invoke=lt(n,i,e),u}function b(n,t,i){try{return{type:"normal",arg:n.call(t,i)}}catch(r){return{type:"throw",arg:r}}}function k(){}function a(){}function o(){}function et(n){["next","throw","return"].forEach(function(t){n[t]=function(n){return this._invoke(t,n)}})}function p(n){function t(i,r,u,e){var h=b(n[i],n,r),s,o;if(h.type==="throw")e(h.arg);else return(s=h.arg,o=s.value,o&&typeof o=="object"&&f.call(o,"__await"))?Promise.resolve(o.__await).then(function(n){t("next",n,u,e)},function(n){t("throw",n,u,e)}):Promise.resolve(o).then(function(n){s.value=n;u(s)},e)}function r(n,r){function u(){return new Promise(function(i,u){t(n,r,i,u)})}return i=i?i.then(u,u):u()}var i;this._invoke=r}function lt(n,t,i){var u=ut;return function(f,e){var h,s,o;if(u===ft)throw new Error("Generator is already running");if(u===l){if(f==="throw")throw e;return st()}for(i.method=f,i.arg=e;;){if(h=i.delegate,h&&(s=ot(h,i),s)){if(s===r)continue;return s}if(i.method==="next")i.sent=i._sent=i.arg;else if(i.method==="throw"){if(u===ut){u=l;throw i.arg;}i.dispatchException(i.arg)}else i.method==="return"&&i.abrupt("return",i.arg);if(u=ft,o=b(n,t,i),o.type==="normal"){if(u=i.done?l:ct,o.arg===r)continue;return{value:o.arg,done:i.done}}o.type==="throw"&&(u=l,i.method="throw",i.arg=o.arg)}}}function ot(n,t){var e=n.iterator[t.method],f,i;if(e===u){if(t.delegate=null,t.method==="throw"){if(n.iterator.return&&(t.method="return",t.arg=u,ot(n,t),t.method==="throw"))return r;t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return r}if(f=b(e,n.iterator,t.arg),f.type==="throw")return t.method="throw",t.arg=f.arg,t.delegate=null,r;if(i=f.arg,!i)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,r;if(i.done)t[n.resultName]=i.value,t.next=n.nextLoc,t.method!=="return"&&(t.method="next",t.arg=u);else return i;return t.delegate=null,r}function at(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]);2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]);this.tryEntries.push(t)}function d(n){var t=n.completion||{};t.type="normal";delete t.arg;n.completion=t}function g(n){this.tryEntries=[{tryLoc:"root"}];n.forEach(at,this);this.reset(!0)}function nt(n){var r,i,t;if(n){if(r=n[h],r)return r.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length))return i=-1,t=function t(){while(++i<n.length)if(f.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=u,t.done=!0,t},t.next=t}return{next:st}}function st(){return{value:u,done:!0}}var tt=Object.prototype,f=tt.hasOwnProperty,u,w=typeof Symbol=="function"?Symbol:{},h=w.iterator||"@@iterator",ht=w.asyncIterator||"@@asyncIterator",c=w.toStringTag||"@@toStringTag",it=typeof t=="object",i=n.regeneratorRuntime,v,y,s,e;if(i){it&&(t.exports=i);return}i=n.regeneratorRuntime=it?t.exports:{};i.wrap=rt;var ut="suspendedStart",ct="suspendedYield",ft="executing",l="completed",r={};v={};v[h]=function(){return this};y=Object.getPrototypeOf;s=y&&y(y(nt([])));s&&s!==tt&&f.call(s,h)&&(v=s);e=o.prototype=k.prototype=Object.create(v);a.prototype=e.constructor=o;o.constructor=a;o[c]=a.displayName="GeneratorFunction";i.isGeneratorFunction=function(n){var t=typeof n=="function"&&n.constructor;return t?t===a||(t.displayName||t.name)==="GeneratorFunction":!1};i.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,o):(n.__proto__=o,c in n||(n[c]="GeneratorFunction")),n.prototype=Object.create(e),n};i.awrap=function(n){return{__await:n}};et(p.prototype);p.prototype[ht]=function(){return this};i.AsyncIterator=p;i.async=function(n,t,r,u){var f=new p(rt(n,t,r,u));return i.isGeneratorFunction(t)?f:f.next().then(function(n){return n.done?n.value:f.next()})};et(e);e[c]="Generator";e[h]=function(){return this};e.toString=function(){return"[object Generator]"};i.keys=function(n){var i=[];for(var r in n)i.push(r);return i.reverse(),function t(){while(i.length){var r=i.pop();if(r in n)return t.value=r,t.done=!1,t}return t.done=!0,t}};i.values=nt;g.prototype={constructor:g,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(d),!n)for(var t in this)t.charAt(0)==="t"&&f.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(n){function i(t,i){return o.type="throw",o.arg=n,r.next=t,i&&(r.method="next",r.arg=u),!!i}var r,e,t,o,s,h;if(this.done)throw n;for(r=this,e=this.tryEntries.length-1;e>=0;--e){if(t=this.tryEntries[e],o=t.completion,t.tryLoc==="root")return i("end");if(t.tryLoc<=this.prev)if(s=f.call(t,"catchLoc"),h=f.call(t,"finallyLoc"),s&&h){if(this.prev<t.catchLoc)return i(t.catchLoc,!0);if(this.prev<t.finallyLoc)return i(t.finallyLoc)}else if(s){if(this.prev<t.catchLoc)return i(t.catchLoc,!0)}else if(h){if(this.prev<t.finallyLoc)return i(t.finallyLoc)}else throw new Error("try statement without catch or finally");}},abrupt:function(n,t){for(var u,i,o,e=this.tryEntries.length-1;e>=0;--e)if(u=this.tryEntries[e],u.tryLoc<=this.prev&&f.call(u,"finallyLoc")&&this.prev<u.finallyLoc){i=u;break}return(i&&(n==="break"||n==="continue")&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null),o=i?i.completion:{},o.type=n,o.arg=t,i)?(this.method="next",this.next=i.finallyLoc,r):this.complete(o)},complete:function(n,t){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&t&&(this.next=t),r},finish:function(n){for(var t,i=this.tryEntries.length-1;i>=0;--i)if(t=this.tryEntries[i],t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),d(t),r},"catch":function(n){for(var i,r,u,t=this.tryEntries.length-1;t>=0;--t)if(i=this.tryEntries[t],i.tryLoc===n)return r=i.completion,r.type==="throw"&&(u=r.arg,d(i)),u;throw new Error("illegal catch attempt");},delegateYield:function(n,t,i){return this.delegate={iterator:nt(n),resultName:t,nextLoc:i},this.method==="next"&&(this.arg=u),r}}}(function(){return this}()||Function("return this")())},{}]},{},[6])(6)});
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.12.6
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.Popper=t()})(this,function(){"use strict";function ri(n){var t=!1;return function(){t||(t=!0,Promise.resolve().then(function(){t=!1;n()}))}}function ui(n){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1;n()},ft))}}function st(n){return n&&{}.toString.call(n)==="[object Function]"}function i(n,t){if(n.nodeType!==1)return[];var i=window.getComputedStyle(n,null);return t?i[t]:i}function w(n){return n.nodeName==="HTML"?n:n.parentNode||n.host}function f(n){if(!n)return window.document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}var t=i(n),r=t.overflow,u=t.overflowX,e=t.overflowY;return/(auto|scroll)/.test(r+e+u)?n:f(w(n))}function r(n){var t=n&&n.offsetParent,u=t&&t.nodeName;return!u||u==="BODY"||u==="HTML"?n?n.ownerDocument.documentElement:window.document.documentElement:["TD","TABLE"].indexOf(t.nodeName)!==-1&&i(t,"position")==="static"?r(t):t}function fi(n){var t=n.nodeName;return t==="BODY"?!1:t==="HTML"||r(n.firstElementChild)===n}function b(n){return n.parentNode!==null?b(n.parentNode):n}function s(n,t){var i,f;if(!n||!n.nodeType||!t||!t.nodeType)return window.document.documentElement;var e=n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=e?n:t,h=e?t:n,u=document.createRange();return(u.setStart(o,0),u.setEnd(h,0),i=u.commonAncestorContainer,n!==i&&t!==i||o.contains(h))?fi(i)?i:r(i):(f=b(n),f.host?s(f.host,t):s(n,b(t).host))}function u(n){var f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top",t=f==="top"?"scrollTop":"scrollLeft",i=n.nodeName,r,u;return i==="BODY"||i==="HTML"?(r=n.ownerDocument.documentElement,u=n.ownerDocument.scrollingElement||r,u[t]):n[t]}function ei(n,t){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1,r=u(t,"top"),f=u(t,"left"),i=e?-1:1;return n.top+=r*i,n.bottom+=r*i,n.left+=f*i,n.right+=f*i,n}function ht(n,t){var i=t==="x"?"Left":"Top",r=i==="Left"?"Right":"Bottom";return+n["border"+i+"Width"].split("px")[0]+ +n["border"+r+"Width"].split("px")[0]}function ct(n,t,i,r){return Math.max(t["offset"+n],t["scroll"+n],i["client"+n],i["offset"+n],i["scroll"+n],e()?i["offset"+n]+r["margin"+(n==="Height"?"Top":"Left")]+r["margin"+(n==="Height"?"Bottom":"Right")]:0)}function lt(){var t=window.document.body,n=window.document.documentElement,i=e()&&window.getComputedStyle(n);return{height:ct("Height",t,n,i),width:ct("Width",t,n,i)}}function t(t){return n({},t,{right:t.left+t.width,bottom:t.top+t.height})}function k(n){var r={},o,s,l;if(e())try{r=n.getBoundingClientRect();o=u(n,"top");s=u(n,"left");r.top+=o;r.left+=s;r.bottom+=o;r.right+=s}catch(p){}else r=n.getBoundingClientRect();var f={left:r.left,top:r.top,width:r.right-r.left,height:r.bottom-r.top},a=n.nodeName==="HTML"?lt():{},v=a.width||n.clientWidth||f.right-f.left,y=a.height||n.clientHeight||f.bottom-f.top,h=n.offsetWidth-v,c=n.offsetHeight-y;return(h||c)&&(l=i(n),h-=ht(l,"x"),c-=ht(l,"y"),f.width-=h,f.height-=c),t(f)}function d(n,r){var y=e(),w=r.nodeName==="HTML",o=k(n),p=k(r),l=f(n),s=i(r),a=+s.borderTopWidth.split("px")[0],v=+s.borderLeftWidth.split("px")[0],u=t({top:o.top-p.top-a,left:o.left-p.left-v,width:o.width,height:o.height}),h,c;return u.marginTop=0,u.marginLeft=0,!y&&w&&(h=+s.marginTop.split("px")[0],c=+s.marginLeft.split("px")[0],u.top-=a-h,u.bottom-=a-h,u.left-=v-c,u.right-=v-c,u.marginTop=h,u.marginLeft=c),(y?r.contains(l):r===l&&l.nodeName!=="BODY")&&(u=ei(u,r)),u}function hi(n){var i=n.ownerDocument.documentElement,r=d(n,i),f=Math.max(i.clientWidth,window.innerWidth||0),e=Math.max(i.clientHeight,window.innerHeight||0),o=u(i),s=u(i,"left"),h={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:f,height:e};return t(h)}function at(n){var t=n.nodeName;return t==="BODY"||t==="HTML"?!1:i(n,"position")==="fixed"?!0:at(w(n))}function g(n,t,i,r){var u={top:0,left:0},h=s(n,t),o,e;if(r==="viewport")u=hi(h);else if(o=void 0,r==="scrollParent"?(o=f(w(n)),o.nodeName==="BODY"&&(o=n.ownerDocument.documentElement)):o=r==="window"?n.ownerDocument.documentElement:r,e=d(o,h),o.nodeName!=="HTML"||at(h))u=e;else{var c=lt(),l=c.height,a=c.width;u.top+=e.top-e.marginTop;u.bottom=l+e.top;u.left+=e.left-e.marginLeft;u.right=a+e.left}return u.left+=i,u.top+=i,u.right-=i,u.bottom-=i,u}function ci(n){var t=n.width,i=n.height;return t*i}function vt(t,i,r,u,f){var l=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var e=g(r,u,l,f),o={top:{width:e.width,height:i.top-e.top},right:{width:e.right-i.right,height:e.height},bottom:{width:e.width,height:e.bottom-i.bottom},left:{width:i.left-e.left,height:e.height}},s=Object.keys(o).map(function(t){return n({key:t},o[t],{area:ci(o[t])})}).sort(function(n,t){return t.area-n.area}),h=s.filter(function(n){var t=n.width,i=n.height;return t>=r.clientWidth&&i>=r.clientHeight}),a=h.length>0?h[0].key:s[0].key,c=t.split("-")[1];return a+(c?"-"+c:"")}function yt(n,t,i){var r=s(t,i);return d(i,r)}function pt(n){var t=window.getComputedStyle(n),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:n.offsetWidth+r,height:n.offsetHeight+i}}function l(n){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,function(n){return t[n]})}function wt(n,t,i){i=i.split("-")[0];var r=pt(n),e={width:r.width,height:r.height},u=["right","left"].indexOf(i)!==-1,o=u?"top":"left",f=u?"left":"top",s=u?"height":"width",h=u?"width":"height";return e[o]=t[o]+t[s]/2-r[s]/2,e[f]=i===f?t[f]-r[h]:t[l(f)],e}function o(n,t){return Array.prototype.find?n.find(t):n.filter(t)[0]}function li(n,t,i){if(Array.prototype.findIndex)return n.findIndex(function(n){return n[t]===i});var r=o(n,function(n){return n[t]===i});return n.indexOf(r)}function bt(n,i,r){var u=r===undefined?n:n.slice(0,li(n,"name",r));return u.forEach(function(n){n["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=n["function"]||n.fn;n.enabled&&st(r)&&(i.offsets.popper=t(i.offsets.popper),i.offsets.reference=t(i.offsets.reference),i=r(i,n))}),i}function ai(){if(!this.state.isDestroyed){var n={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};if(n.offsets.reference=yt(this.state,this.popper,this.reference),n.placement=vt(this.options.placement,n.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),n.originalPlacement=n.placement,n.offsets.popper=wt(this.popper,n.offsets.reference,n.placement),n.offsets.popper.position="absolute",n=bt(this.modifiers,n),this.state.isCreated)this.options.onUpdate(n);else{this.state.isCreated=!0;this.options.onCreate(n)}}}function kt(n,t){return n.some(function(n){var i=n.name,r=n.enabled;return r&&i===t})}function dt(n){for(var i,r,u=[!1,"ms","Webkit","Moz","O"],f=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<u.length-1;t++)if(i=u[t],r=i?""+i+f:n,typeof window.document.body.style[r]!="undefined")return r;return null}function vi(){return this.state.isDestroyed=!0,kt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[dt("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function gt(n){var t=n.ownerDocument;return t?t.defaultView:window}function ni(n,t,i,r){var e=n.nodeName==="BODY",u=e?n.ownerDocument.defaultView:n;u.addEventListener(t,i,{passive:!0});e||ni(f(u.parentNode),t,i,r);r.push(u)}function yi(n,t,i,r){i.updateBound=r;gt(n).addEventListener("resize",i.updateBound,{passive:!0});var u=f(n);return ni(u,"scroll",i.updateBound,i.scrollParents),i.scrollElement=u,i.eventsEnabled=!0,i}function pi(){this.state.eventsEnabled||(this.state=yi(this.reference,this.options,this.state,this.scheduleUpdate))}function wi(n,t){return gt(n).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(n){n.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function bi(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=wi(this.reference,this.state))}function nt(n){return n!==""&&!isNaN(parseFloat(n))&&isFinite(n)}function tt(n,t){Object.keys(t).forEach(function(i){var r="";["width","height","top","right","bottom","left"].indexOf(i)!==-1&&nt(t[i])&&(r="px");n.style[i]=t[i]+r})}function ki(n,t){Object.keys(t).forEach(function(i){var r=t[i];r!==!1?n.setAttribute(i,t[i]):n.removeAttribute(i)})}function di(n){return tt(n.instance.popper,n.styles),ki(n.instance.popper,n.attributes),n.arrowElement&&Object.keys(n.arrowStyles).length&&tt(n.arrowElement,n.arrowStyles),n}function gi(n,t,i,r,u){var f=yt(u,t,n),e=vt(i.placement,f,t,n,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",e),tt(t,{position:"absolute"}),i}function nr(t,i){var d=i.x,g=i.y,f=t.offsets.popper,c=o(t.instance.modifiers,function(n){return n.name==="applyStyle"}).gpuAcceleration,p,w,b;c!==undefined&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var nt=c!==undefined?c:i.gpuAcceleration,tt=r(t.instance.popper),v=k(tt),u={position:f.position},h={left:Math.floor(f.left),top:Math.floor(f.top),bottom:Math.floor(f.bottom),right:Math.floor(f.right)},e=d==="bottom"?"top":"bottom",s=g==="right"?"left":"right",y=dt("transform"),l=void 0,a=void 0;return a=e==="bottom"?-v.height+h.bottom:h.top,l=s==="right"?-v.width+h.right:h.left,nt&&y?(u[y]="translate3d("+l+"px, "+a+"px, 0)",u[e]=0,u[s]=0,u.willChange="transform"):(p=e==="bottom"?-1:1,w=s==="right"?-1:1,u[e]=a*p,u[s]=l*w,u.willChange=e+", "+s),b={"x-placement":t.placement},t.attributes=n({},b,t.attributes),t.styles=n({},u,t.styles),t.arrowStyles=n({},t.offsets.arrow,t.arrowStyles),t}function ti(n,t,i){var u=o(n,function(n){var i=n.name;return i===t}),f=!!u&&n.some(function(n){return n.name===i&&n.enabled&&n.order<u.order}),r,e;return f||(r="`"+t+"`",e="`"+i+"`",console.warn(e+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")),f}function tr(n,r){var f;if(!ti(n.instance.modifiers,"arrow","keepTogether"))return n;if(f=r.element,typeof f=="string"){if(f=n.instance.popper.querySelector(f),!f)return n}else if(!n.instance.popper.contains(f))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),n;var p=n.placement.split("-")[0],v=n.offsets,s=v.popper,e=v.reference,h=["left","right"].indexOf(p)!==-1,l=h?"height":"width",y=h?"Top":"Left",u=y.toLowerCase(),w=h?"left":"top",c=h?"bottom":"right",o=pt(f)[l];e[c]-o<s[u]&&(n.offsets.popper[u]-=s[u]-(e[c]-o));e[u]+o>s[c]&&(n.offsets.popper[u]+=e[u]+o-s[c]);var b=e[u]+e[l]/2-o/2,k=i(n.instance.popper,"margin"+y).replace("px",""),a=b-t(n.offsets.popper)[u]-k;return a=Math.max(Math.min(s[l]-o,a),0),n.arrowElement=f,n.offsets.arrow={},n.offsets.arrow[u]=Math.round(a),n.offsets.arrow[w]="",n}function ir(n){return n==="end"?"start":n==="start"?"end":n}function ii(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,t=a.indexOf(n),i=a.slice(t+1).concat(a.slice(0,t));return r?i.reverse():i}function rr(t,i){if(kt(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var e=g(t.instance.popper,t.instance.reference,i.padding,i.boundariesElement),r=t.placement.split("-")[0],o=l(r),u=t.placement.split("-")[1]||"",f=[];switch(i.behavior){case v.FLIP:f=[r,o];break;case v.CLOCKWISE:f=ii(r);break;case v.COUNTERCLOCKWISE:f=ii(r,!0);break;default:f=i.behavior}return f.forEach(function(s,h){if(r!==s||f.length===h+1)return t;r=t.placement.split("-")[0];o=l(r);var a=t.offsets.popper,v=t.offsets.reference,c=Math.floor,p=r==="left"&&c(a.right)>c(v.left)||r==="right"&&c(a.left)<c(v.right)||r==="top"&&c(a.bottom)>c(v.top)||r==="bottom"&&c(a.top)<c(v.bottom),w=c(a.left)<c(e.left),b=c(a.right)>c(e.right),k=c(a.top)<c(e.top),d=c(a.bottom)>c(e.bottom),g=r==="left"&&w||r==="right"&&b||r==="top"&&k||r==="bottom"&&d,y=["top","bottom"].indexOf(r)!==-1,nt=!!i.flipVariations&&(y&&u==="start"&&w||y&&u==="end"&&b||!y&&u==="start"&&k||!y&&u==="end"&&d);(p||g||nt)&&(t.flipped=!0,(p||g)&&(r=f[h+1]),nt&&(u=ir(u)),t.placement=r+(u?"-"+u:""),t.offsets.popper=n({},t.offsets.popper,wt(t.instance.popper,t.offsets.reference,t.placement)),t=bt(t.instance.modifiers,t,"flip"))}),t}function ur(n){var o=n.offsets,u=o.popper,i=o.reference,s=n.placement.split("-")[0],r=Math.floor,f=["top","bottom"].indexOf(s)!==-1,e=f?"right":"bottom",t=f?"left":"top",h=f?"width":"height";return u[e]<r(i[t])&&(n.offsets.popper[t]=r(i[t])-u[h]),u[t]>r(i[e])&&(n.offsets.popper[t]=r(i[e])),n}function fr(n,i,r,u){var h=n.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),e=+h[1],f=h[2],o,c,s;if(!e)return n;if(f.indexOf("%")===0){o=void 0;switch(f){case"%p":o=r;break;case"%":case"%r":default:o=u}return c=t(o),c[i]/100*e}return f==="vh"||f==="vw"?(s=void 0,s=f==="vh"?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),s/100*e):e}function er(n,t,i,r){var h=[0,0],c=["right","left"].indexOf(r)!==-1,u=n.split(/(\+|\-)/).map(function(n){return n.trim()}),f=u.indexOf(o(u,function(n){return n.search(/,|\s/)!==-1})),s,e;return u[f]&&u[f].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."),s=/\s*,\s*|\s+/,e=f!==-1?[u.slice(0,f).concat([u[f].split(s)[0]]),[u[f].split(s)[1]].concat(u.slice(f+1))]:[u],e=e.map(function(n,r){var f=(r===1?!c:c)?"height":"width",u=!1;return n.reduce(function(n,t){return n[n.length-1]===""&&["+","-"].indexOf(t)!==-1?(n[n.length-1]=t,u=!0,n):u?(n[n.length-1]+=t,u=!1,n):n.concat(t)},[]).map(function(n){return fr(n,f,t,i)})}),e.forEach(function(n,t){n.forEach(function(i,r){nt(i)&&(h[t]+=i*(n[r-1]==="-"?-1:1))})}),h}function or(n,t){var f=t.offset,o=n.placement,e=n.offsets,i=e.popper,s=e.reference,u=o.split("-")[0],r=void 0;return r=nt(+f)?[+f,0]:er(f,i,s,u),u==="left"?(i.top+=r[0],i.left-=r[1]):u==="right"?(i.top+=r[0],i.left+=r[1]):u==="top"?(i.left+=r[0],i.top-=r[1]):u==="bottom"&&(i.left+=r[0],i.top+=r[1]),n.popper=i,n}function sr(t,i){var e=i.boundariesElement||r(t.instance.popper),f;t.instance.reference===e&&(e=r(e));f=g(t.instance.popper,t.instance.reference,i.padding,e);i.boundaries=f;var o=i.priority,u=t.offsets.popper,s={primary:function(n){var t=u[n];return u[n]<f[n]&&!i.escapeWithReference&&(t=Math.max(u[n],f[n])),c({},n,t)},secondary:function(n){var t=n==="right"?"left":"top",r=u[t];return u[n]>f[n]&&!i.escapeWithReference&&(r=Math.min(u[t],f[n]-(n==="right"?u.width:u.height))),c({},t,r)}};return o.forEach(function(t){var i=["left","top"].indexOf(t)!==-1?"primary":"secondary";u=n({},u,s[i](t))}),t.offsets.popper=u,t}function hr(t){var u=t.placement,l=u.split("-")[0],f=u.split("-")[1];if(f){var e=t.offsets,r=e.reference,o=e.popper,s=["bottom","top"].indexOf(l)!==-1,i=s?"left":"top",h=s?"width":"height",a={start:c({},i,r[i]),end:c({},i,r[i]+r[h]-o[h])};t.offsets.popper=n({},o,a[f])}return t}function cr(n){if(!ti(n.instance.modifiers,"hide","preventOverflow"))return n;var t=n.offsets.reference,i=o(n.instance.modifiers,function(n){return n.name==="preventOverflow"}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(n.hide===!0)return n;n.hide=!0;n.attributes["x-out-of-boundaries"]=""}else{if(n.hide===!1)return n;n.hide=!1;n.attributes["x-out-of-boundaries"]=!1}return n}function lr(n){var u=n.placement,i=u.split("-")[0],f=n.offsets,r=f.popper,o=f.reference,e=["left","right"].indexOf(i)!==-1,s=["top","left"].indexOf(i)===-1;return r[e?"left":"top"]=o[i]-(s?r[e?"width":"height"]:0),n.placement=l(u),n.offsets.popper=t(r),n}for(var et,ot,h,e,it,a,v,rt=typeof window!="undefined"&&typeof document!="undefined",ut=["Edge","Trident","Firefox"],ft=0,p=0;p<ut.length;p+=1)if(rt&&navigator.userAgent.indexOf(ut[p])>=0){ft=1;break}et=rt&&window.Promise;ot=et?ri:ui;h=undefined;e=function(){return h===undefined&&(h=navigator.appVersion.indexOf("MSIE 10")!==-1),h};var oi=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},si=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),c=function(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n},n=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n};it=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];a=it.slice(3);v={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};var ar={shift:{order:100,enabled:!0,fn:hr},offset:{order:200,enabled:!0,fn:or,offset:0},preventOverflow:{order:300,enabled:!0,fn:sr,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:ur},arrow:{order:500,enabled:!0,fn:tr,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:rr,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:lr},hide:{order:800,enabled:!0,fn:cr},computeStyle:{order:850,enabled:!0,fn:nr,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:di,onLoad:gi,gpuAcceleration:undefined}},vr={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ar},y=function(){function t(i,r){var u=this,f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},e;oi(this,t);this.scheduleUpdate=function(){return requestAnimationFrame(u.update)};this.update=ot(this.update.bind(this));this.options=n({},t.Defaults,f);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=i&&i.jquery?i[0]:i;this.popper=r&&r.jquery?r[0]:r;this.options.modifiers={};Object.keys(n({},t.Defaults.modifiers,f.modifiers)).forEach(function(i){u.options.modifiers[i]=n({},t.Defaults.modifiers[i]||{},f.modifiers?f.modifiers[i]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(t){return n({name:t},u.options.modifiers[t])}).sort(function(n,t){return n.order-t.order});this.modifiers.forEach(function(n){if(n.enabled&&st(n.onLoad))n.onLoad(u.reference,u.popper,u.options,n,u.state)});this.update();e=this.options.eventsEnabled;e&&this.enableEventListeners();this.state.eventsEnabled=e}return si(t,[{key:"update",value:function(){return ai.call(this)}},{key:"destroy",value:function(){return vi.call(this)}},{key:"enableEventListeners",value:function(){return pi.call(this)}},{key:"disableEventListeners",value:function(){return bi.call(this)}}]),t}();return y.Utils=(typeof window!="undefined"?window:global).PopperUtils,y.placements=it,y.Defaults=vr,y});
/*! tether 1.4.0 */
(function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t(require,exports,module):n.Tether=t()})(this,function(){"use strict";function ut(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function l(n){var f=n.getBoundingClientRect(),t={},r,u,i;for(r in f)t[r]=f[r];return n.ownerDocument!==document&&(u=n.ownerDocument.defaultView.frameElement,u&&(i=l(u),t.top+=i.top,t.bottom+=i.top,t.left+=i.left,t.right+=i.left)),t}function ft(n){var e=getComputedStyle(n)||{},f=e.position,i=[],t,r;if(f==="fixed")return[n];for(t=n;(t=t.parentNode)&&t&&t.nodeType===1;){r=undefined;try{r=getComputedStyle(t)}catch(c){}if(typeof r=="undefined"||r===null)return i.push(t),i;var u=r,o=u.overflow,s=u.overflowX,h=u.overflowY;/(auto|scroll)/.test(o+h+s)&&(f!=="absolute"||["relative","absolute","fixed"].indexOf(r.position)>=0)&&i.push(t)}return i.push(n.ownerDocument.body),n.ownerDocument!==document&&i.push(n.ownerDocument.defaultView),i}function ot(){e&&document.body.removeChild(e);e=null}function i(n){var i=undefined;n===document?(i=document,n=document.documentElement):i=n.ownerDocument;var r=i.documentElement,t=l(n),u=bt();return t.top-=u.top,t.left-=u.left,typeof t.width=="undefined"&&(t.width=document.body.scrollWidth-t.left-t.right),typeof t.height=="undefined"&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-r.clientTop,t.left=t.left-r.clientLeft,t.right=i.body.clientWidth-t.width-t.left,t.bottom=i.body.clientHeight-t.height-t.top,t}function v(n){return n.offsetParent||document.documentElement}function b(){var t,n,u,i,f;return s?s:(t=document.createElement("div"),t.style.width="100%",t.style.height="200px",n=document.createElement("div"),r(n.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),n.appendChild(t),document.body.appendChild(n),u=t.offsetWidth,n.style.overflow="scroll",i=t.offsetWidth,u===i&&(i=n.clientWidth),document.body.removeChild(n),f=u-i,s={width:f,height:f})}function r(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}),n}function h(n,t){if(typeof n.classList!="undefined")t.split(" ").forEach(function(t){t.trim()&&n.classList.remove(t)});else{var i=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),r=d(n).replace(i," ");st(n,r)}}function o(n,t){if(typeof n.classList!="undefined")t.split(" ").forEach(function(t){t.trim()&&n.classList.add(t)});else{h(n,t);var i=d(n)+(" "+t);st(n,i)}}function k(n,t){if(typeof n.classList!="undefined")return n.classList.contains(t);var i=d(n);return new RegExp("(^| )"+t+"( |$)","gi").test(i)}function d(n){return n.className instanceof n.ownerDocument.defaultView.SVGAnimatedString?n.className.baseVal:n.className}function st(n,t){n.setAttribute("class",t)}function u(n,t,i){i.forEach(function(i){t.indexOf(i)===-1&&k(n,i)&&h(n,i)});t.forEach(function(t){k(n,t)||o(n,t)})}function ut(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function dt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function gt(n,t){var i=arguments.length<=2||arguments[2]===undefined?1:arguments[2];return n+i>=t&&t>=n-i}function tt(){return typeof performance!="undefined"&&typeof performance.now!="undefined"?performance.now():+new Date}function vt(){for(var t={top:0,left:0},i=arguments.length,r=Array(i),n=0;n<i;n++)r[n]=arguments[n];return r.forEach(function(n){var i=n.top,r=n.left;typeof i=="string"&&(i=parseFloat(i,10));typeof r=="string"&&(r=parseFloat(r,10));t.top+=i;t.left+=r}),t}function w(n,t){return typeof n.left=="string"&&n.left.indexOf("%")!==-1&&(n.left=parseFloat(n.left,10)/100*t.width),typeof n.top=="string"&&n.top.indexOf("%")!==-1&&(n.top=parseFloat(n.top,10)/100*t.height),n}function ui(n,t){return t==="scrollParent"?t=n.scrollParents[0]:t==="window"&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),typeof t.nodeType!="undefined"&&function(){var f=t,u=i(t),r=u,e=getComputedStyle(t),n;t=[r.left,r.top,u.width+r.left,u.height+r.top];f.ownerDocument!==document&&(n=f.ownerDocument.defaultView,t[0]+=n.pageXOffset,t[1]+=n.pageYOffset,t[2]+=n.pageXOffset,t[3]+=n.pageYOffset);ri.forEach(function(n,i){n=n[0].toUpperCase()+n.substr(1);n==="Top"||n==="Left"?t[i]+=parseFloat(e["border"+n+"Width"]):t[i]-=parseFloat(e["border"+n+"Width"])})}(),t}var rt=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),t=undefined,e,s,wt,y;typeof t=="undefined"&&(t={modules:[]});e=null;var et=function(){var n=0;return function(){return++n}}(),a={},bt=function(){var n=e,t;return n&&document.body.contains(n)||(n=document.createElement("div"),n.setAttribute("data-tether-id",et()),r(n.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(n),e=n),t=n.getAttribute("data-tether-id"),typeof a[t]=="undefined"&&(a[t]=l(n),f(function(){delete a[t]})),a[t]};s=null;var ht=[],f=function(n){ht.push(n)},g=function(){for(var n=undefined;n=ht.pop();)n()},ct=function(){function n(){ut(this,n)}return rt(n,[{key:"on",value:function(n,t,i){var r=arguments.length<=3||arguments[3]===undefined?!1:arguments[3];typeof this.bindings=="undefined"&&(this.bindings={});typeof this.bindings[n]=="undefined"&&(this.bindings[n]=[]);this.bindings[n].push({handler:t,ctx:i,once:r})}},{key:"once",value:function(n,t,i){this.on(n,t,i,!0)}},{key:"off",value:function(n,t){if(typeof this.bindings!="undefined"&&typeof this.bindings[n]!="undefined")if(typeof t=="undefined")delete this.bindings[n];else for(var i=0;i<this.bindings[n].length;)this.bindings[n][i].handler===t?this.bindings[n].splice(i,1):++i}},{key:"trigger",value:function(n){var t;if(typeof this.bindings!="undefined"&&this.bindings[n]){t=0;for(var r=arguments.length,e=Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];while(t<this.bindings[n].length){var u=this.bindings[n][t],o=u.handler,s=u.ctx,h=u.once,f=s;typeof f=="undefined"&&(f=this);o.apply(f,e);h?this.bindings[n].splice(t,1):++t}}}}]),n}();t.Utils={getActualBoundingClientRect:l,getScrollParents:ft,getBounds:i,getOffsetParent:v,extend:r,addClass:o,removeClass:h,hasClass:k,updateClasses:u,defer:f,flush:g,uniqueId:et,Evented:ct,getScrollBarSize:b,removeUtilElements:ot};"use strict";var y=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,o;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),rt=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),kt=function(n,t,i){var e=!0,r,f,o;n:while(e){var u=n,s=t,h=i;if(e=!1,u===null&&(u=Function.prototype),r=Object.getOwnPropertyDescriptor(u,s),r===undefined){if(f=Object.getPrototypeOf(u),f===null)return undefined;n=f;t=s;i=h;e=!0;r=f=undefined;continue n}else return"value"in r?r.value:(o=r.get,o===undefined)?undefined:o.call(h)}};if(typeof t=="undefined")throw new Error("You must include the utils.js file before tether.js");var n=t.Utils,ft=n.getScrollParents,i=n.getBounds,v=n.getOffsetParent,r=n.extend,o=n.addClass,h=n.removeClass,u=n.updateClasses,f=n.defer,g=n.flush,b=n.getScrollBarSize,ot=n.removeUtilElements;var nt=function(){var r,t,n,i;if(typeof document=="undefined")return"";for(r=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n)if(i=t[n],r.style[i]!==undefined)return i}(),c=[],lt=function(){c.forEach(function(n){n.position(!1)});g()};(function(){var t=null,n=null,i=null,r=function r(){if(typeof n!="undefined"&&n>16){n=Math.min(n-16,250);i=setTimeout(r,250);return}typeof t!="undefined"&&tt()-t<10||(i!=null&&(clearTimeout(i),i=null),t=tt(),lt(),n=tt()-t)};typeof window!="undefined"&&typeof addEventListener!="undefined"&&["resize","scroll","touchmove"].forEach(function(n){window.addEventListener(n,r)})})();var ni={center:"center",left:"right",right:"left"},ti={middle:"middle",top:"bottom",bottom:"top"},p={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},ii=function(n,t){var i=n.left,r=n.top;return i==="auto"&&(i=ni[t.left]),r==="auto"&&(r=ti[t.top]),{left:i,top:r}},at=function(n){var t=n.left,i=n.top;return typeof p[n.left]!="undefined"&&(t=p[n.left]),typeof p[n.top]!="undefined"&&(i=p[n.top]),{left:t,top:i}};var it=function(n){var i=n.split(" "),t=y(i,2),r=t[0],u=t[1];return{top:r,left:u}},yt=it,pt=function(n){function e(n){var i=this;ut(this,e);kt(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);this.position=this.position.bind(this);c.push(this);this.history=[];this.setOptions(n,!1);t.modules.forEach(function(n){typeof n.initialize!="undefined"&&n.initialize.call(i)});this.position()}return dt(e,n),rt(e,[{key:"getClass",value:function(){var n=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t=this.options.classes;return typeof t!="undefined"&&t[n]?this.options.classes[n]:this.options.classPrefix?this.options.classPrefix+"-"+n:n}},{key:"setOptions",value:function(n){var t=this,u=arguments.length<=1||arguments[1]===undefined?!0:arguments[1];this.options=r({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},n);var i=this.options,f=i.element,e=i.target,s=i.targetModifier;if(this.element=f,this.target=e,this.targetModifier=s,this.target==="viewport"?(this.target=document.body,this.targetModifier="visible"):this.target==="scroll-handle"&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(n){if(typeof t[n]=="undefined")throw new Error("Tether Error: Both element and target must be defined");typeof t[n].jquery!="undefined"?t[n]=t[n][0]:typeof t[n]=="string"&&(t[n]=document.querySelector(t[n]))}),o(this.element,this.getClass("element")),this.options.addTargetClasses===!1||o(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=yt(this.options.targetAttachment);this.attachment=yt(this.options.attachment);this.offset=it(this.options.offset);this.targetOffset=it(this.options.targetOffset);typeof this.scrollParents!="undefined"&&this.disable();this.scrollParents=this.targetModifier==="scroll-handle"?[this.target]:ft(this.target);this.options.enabled===!1||this.enable(u)}},{key:"getTargetBounds",value:function(){var n,t,r,s;if(typeof this.targetModifier!="undefined"){if(this.targetModifier==="visible")return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(t=i(this.target),n={height:t.height,width:t.width,top:t.top,left:t.left},n.height=Math.min(n.height,t.height-(pageYOffset-t.top)),n.height=Math.min(n.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),n.height=Math.min(innerHeight,n.height),n.height-=2,n.width=Math.min(n.width,t.width-(pageXOffset-t.left)),n.width=Math.min(n.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),n.width=Math.min(innerWidth,n.width),n.width-=2,n.top<pageYOffset&&(n.top=pageYOffset),n.left<pageXOffset&&(n.left=pageXOffset),n);if(this.targetModifier==="scroll-handle"){t=undefined;r=this.target;r===document.body?(r=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=i(r);var f=getComputedStyle(r),h=r.scrollWidth>r.clientWidth||[f.overflow,f.overflowX].indexOf("scroll")>=0||this.target!==document.body,e=0;h&&(e=15);var u=t.height-parseFloat(f.borderTopWidth)-parseFloat(f.borderBottomWidth)-e,n={width:15,height:u*.975*(u/r.scrollHeight),left:t.left+t.width-parseFloat(f.borderLeftWidth)-15},o=0;return u<408&&this.target===document.body&&(o=-.00011*Math.pow(u,2)-.00727*u+22.58),this.target!==document.body&&(n.height=Math.max(n.height,24)),s=this.target.scrollTop/(r.scrollHeight-u),n.top=s*(u-n.height-o)+t.top+parseFloat(f.borderTopWidth),this.target===document.body&&(n.height=Math.max(n.height,24)),n}}else return i(this.target)}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(n,t){return typeof this._cache=="undefined"&&(this._cache={}),typeof this._cache[n]=="undefined"&&(this._cache[n]=t.call(this)),this._cache[n]}},{key:"enable",value:function(){var n=this,t=arguments.length<=0||arguments[0]===undefined?!0:arguments[0];this.options.addTargetClasses===!1||o(this.target,this.getClass("enabled"));o(this.element,this.getClass("enabled"));this.enabled=!0;this.scrollParents.forEach(function(t){t!==n.target.ownerDocument&&t.addEventListener("scroll",n.position)});t&&this.position()}},{key:"disable",value:function(){var n=this;h(this.target,this.getClass("enabled"));h(this.element,this.getClass("enabled"));this.enabled=!1;typeof this.scrollParents!="undefined"&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",n.position)})}},{key:"destroy",value:function(){var n=this;this.disable();c.forEach(function(t,i){t===n&&c.splice(i,1)});c.length===0&&ot()}},{key:"updateAttachClasses",value:function(n,t){var i=this,o,r,e;n=n||this.attachment;t=t||this.targetAttachment;o=["left","top","bottom","right","middle","center"];typeof this._addAttachClasses!="undefined"&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length);typeof this._addAttachClasses=="undefined"&&(this._addAttachClasses=[]);r=this._addAttachClasses;n.top&&r.push(this.getClass("element-attached")+"-"+n.top);n.left&&r.push(this.getClass("element-attached")+"-"+n.left);t.top&&r.push(this.getClass("target-attached")+"-"+t.top);t.left&&r.push(this.getClass("target-attached")+"-"+t.left);e=[];o.forEach(function(n){e.push(i.getClass("element-attached")+"-"+n);e.push(i.getClass("target-attached")+"-"+n)});f(function(){typeof i._addAttachClasses!="undefined"&&(u(i.element,i._addAttachClasses,e),i.options.addTargetClasses===!1||u(i.target,i._addAttachClasses,e),delete i._addAttachClasses)})}},{key:"position",value:function(){var h=this,et=arguments.length<=0||arguments[0]===undefined?!0:arguments[0],y,nt,e,o,k,ut,s;if(this.enabled){this.clearCache();y=ii(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,y);var d=this.cache("element-bounds",function(){return i(h.element)}),u=d.width,f=d.height;u===0&&f===0&&typeof this.lastSize!="undefined"?(nt=this.lastSize,u=nt.width,f=nt.height):this.lastSize={width:u,height:f};var p=this.cache("target-bounds",function(){return h.getTargetBounds()}),tt=p,c=w(at(this.attachment),{width:u,height:f}),l=w(at(y),tt),it=w(this.offset,{width:u,height:f}),rt=w(this.targetOffset,tt);for(c=vt(c,it),l=vt(l,rt),e=p.left+l.left-c.left,o=p.top+l.top-c.top,k=0;k<t.modules.length;++k){if(ut=t.modules[k],s=ut.position.call(this,{left:e,top:o,targetAttachment:y,targetPos:p,elementPos:d,offset:c,targetOffset:l,manualOffset:it,manualTargetOffset:rt,scrollbarSize:a,attachment:this.attachment}),s===!1)return!1;if(typeof s=="undefined"||typeof s!="object")continue;else o=s.top,e=s.left}var n={page:{top:o,left:e},viewport:{top:o-pageYOffset,bottom:pageYOffset-o-f+innerHeight,left:e-pageXOffset,right:pageXOffset-e-u+innerWidth}},r=this.target.ownerDocument,ft=r.defaultView,a=undefined;return ft.innerHeight>r.documentElement.clientHeight&&(a=this.cache("scrollbar-size",b),n.viewport.bottom-=a.height),ft.innerWidth>r.documentElement.clientWidth&&(a=this.cache("scrollbar-size",b),n.viewport.right-=a.width),(["","static"].indexOf(r.body.style.position)===-1||["","static"].indexOf(r.body.parentElement.style.position)===-1)&&(n.page.bottom=r.body.scrollHeight-o-f,n.page.right=r.body.scrollWidth-e-u),typeof this.options.optimizations=="undefined"||this.options.optimizations.moveElement===!1||typeof this.targetModifier!="undefined"||function(){var f=h.cache("target-offsetparent",function(){return v(h.target)}),t=h.cache("target-offsetparent-bounds",function(){return i(f)}),c=getComputedStyle(f),e=t,u={},o,s;["Top","Left","Bottom","Right"].forEach(function(n){u[n.toLowerCase()]=parseFloat(c["border"+n+"Width"])});t.right=r.body.scrollWidth-t.left-e.width+u.right;t.bottom=r.body.scrollHeight-t.top-e.height+u.bottom;n.page.top>=t.top+u.top&&n.page.bottom>=t.bottom&&n.page.left>=t.left+u.left&&n.page.right>=t.right&&(o=f.scrollTop,s=f.scrollLeft,n.offset={top:n.page.top-t.top+o-u.top,left:n.page.left-t.left+s-u.left})}(),this.move(n),this.history.unshift(n),this.history.length>3&&this.history.pop(),et&&g(),!0}}},{key:"move",value:function(n){var u=this,t,o,l,h,a,y,s,p,w,e,b,d;if(typeof this.element.parentNode!="undefined"){t={};for(o in n){t[o]={};for(e in n[o]){for(l=!1,h=0;h<this.history.length;++h)if(a=this.history[h],typeof a[o]!="undefined"&&!gt(a[o][e],n[o][e])){l=!0;break}l||(t[o][e]=!0)}}var i={top:"",left:"",right:"",bottom:""},c=function(n,t){var o=typeof u.options.optimizations!="undefined",s=o?u.options.optimizations.gpu:null,r,f,e;s!==!1?(r=undefined,f=undefined,n.top?(i.top=0,r=t.top):(i.bottom=0,r=-t.bottom),n.left?(i.left=0,f=t.left):(i.right=0,f=-t.right),window.matchMedia&&(e=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches,e||(f=Math.round(f),r=Math.round(r))),i[nt]="translateX("+f+"px) translateY("+r+"px)",nt!=="msTransform"&&(i[nt]+=" translateZ(0)")):(n.top?i.top=t.top+"px":i.bottom=t.bottom+"px",n.left?i.left=t.left+"px":i.right=t.right+"px")},k=!1;if((t.page.top||t.page.bottom)&&(t.page.left||t.page.right)?(i.position="absolute",c(t.page,n.page)):(t.viewport.top||t.viewport.bottom)&&(t.viewport.left||t.viewport.right)?(i.position="fixed",c(t.viewport,n.viewport)):typeof t.offset!="undefined"&&t.offset.top&&t.offset.left?function(){i.position="absolute";var r=u.cache("target-offsetparent",function(){return v(u.target)});v(u.element)!==r&&f(function(){u.element.parentNode.removeChild(u.element);r.appendChild(u.element)});c(t.offset,n.offset);k=!0}():(i.position="absolute",c({top:!0,left:!0},n.page)),!k)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(y=!0,s=this.element.parentNode;s&&s.nodeType===1&&s.tagName!=="BODY";){if(getComputedStyle(s).position!=="static"){y=!1;break}s=s.parentNode}y||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}p={};w=!1;for(e in i)b=i[e],d=this.element.style[e],d!==b&&(w=!0,p[e]=b);w&&f(function(){r(u.element.style,p);u.trigger("repositioned")})}}}]),e}(ct);pt.modules=[];t.position=lt;wt=r(pt,t);"use strict";var y=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,o;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),n=t.Utils,i=n.getBounds,r=n.extend,u=n.updateClasses,f=n.defer,ri=["left","top","right","bottom"];t.modules.push({position:function(n){var l=this,e=n.top,o=n.left,b=n.targetAttachment,k;if(!this.options.constraints)return!0;var d=this.cache("element-bounds",function(){return i(l.element)}),h=d.height,c=d.width;c===0&&h===0&&typeof this.lastSize!="undefined"&&(k=this.lastSize,c=k.width,h=k.height);var g=this.cache("target-bounds",function(){return l.getTargetBounds()}),a=g.height,v=g.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(n){var t=n.outOfBoundsClass,i=n.pinnedClass;t&&p.push(t);i&&p.push(i)});p.forEach(function(n){["left","top","right","bottom"].forEach(function(t){p.push(n+"-"+t)})});var w=[],s=r({},b),t=r({},this.attachment);return this.options.constraints.forEach(function(n){var tt=n.to,d=n.attachment,r=n.pin,f,p,nt,g,i,u,k;typeof d=="undefined"&&(d="");f=undefined;p=undefined;d.indexOf(" ")>=0?(nt=d.split(" "),g=y(nt,2),p=g[0],f=g[1]):f=p=d;i=ui(l,tt);(p==="target"||p==="both")&&(e<i[1]&&s.top==="top"&&(e+=a,s.top="bottom"),e+h>i[3]&&s.top==="bottom"&&(e-=a,s.top="top"));p==="together"&&(s.top==="top"&&(t.top==="bottom"&&e<i[1]?(e+=a,s.top="bottom",e+=h,t.top="top"):t.top==="top"&&e+h>i[3]&&e-(h-a)>=i[1]&&(e-=h-a,s.top="bottom",t.top="bottom")),s.top==="bottom"&&(t.top==="top"&&e+h>i[3]?(e-=a,s.top="top",e-=h,t.top="bottom"):t.top==="bottom"&&e<i[1]&&e+(h*2-a)<=i[3]&&(e+=h-a,s.top="top",t.top="top")),s.top==="middle"&&(e+h>i[3]&&t.top==="top"?(e-=h,t.top="bottom"):e<i[1]&&t.top==="bottom"&&(e+=h,t.top="top")));(f==="target"||f==="both")&&(o<i[0]&&s.left==="left"&&(o+=v,s.left="right"),o+c>i[2]&&s.left==="right"&&(o-=v,s.left="left"));f==="together"&&(o<i[0]&&s.left==="left"?t.left==="right"?(o+=v,s.left="right",o+=c,t.left="left"):t.left==="left"&&(o+=v,s.left="right",o-=c,t.left="right"):o+c>i[2]&&s.left==="right"?t.left==="left"?(o-=v,s.left="left",o-=c,t.left="right"):t.left==="right"&&(o-=v,s.left="left",o+=c,t.left="left"):s.left==="center"&&(o+c>i[2]&&t.left==="left"?(o-=c,t.left="right"):o<i[0]&&t.left==="right"&&(o+=c,t.left="left")));(p==="element"||p==="both")&&(e<i[1]&&t.top==="bottom"&&(e+=h,t.top="top"),e+h>i[3]&&t.top==="top"&&(e-=h,t.top="bottom"));(f==="element"||f==="both")&&(o<i[0]&&(t.left==="right"?(o+=c,t.left="left"):t.left==="center"&&(o+=c/2,t.left="left")),o+c>i[2]&&(t.left==="left"?(o-=c,t.left="right"):t.left==="center"&&(o-=c/2,t.left="right")));typeof r=="string"?r=r.split(",").map(function(n){return n.trim()}):r===!0&&(r=["top","left","right","bottom"]);r=r||[];u=[];k=[];e<i[1]&&(r.indexOf("top")>=0?(e=i[1],u.push("top")):k.push("top"));e+h>i[3]&&(r.indexOf("bottom")>=0?(e=i[3]-h,u.push("bottom")):k.push("bottom"));o<i[0]&&(r.indexOf("left")>=0?(o=i[0],u.push("left")):k.push("left"));o+c>i[2]&&(r.indexOf("right")>=0?(o=i[2]-c,u.push("right")):k.push("right"));u.length&&function(){var n=undefined;n=typeof l.options.pinnedClass!="undefined"?l.options.pinnedClass:l.getClass("pinned");w.push(n);u.forEach(function(t){w.push(n+"-"+t)})}();k.length&&function(){var n=undefined;n=typeof l.options.outOfBoundsClass!="undefined"?l.options.outOfBoundsClass:l.getClass("out-of-bounds");w.push(n);k.forEach(function(t){w.push(n+"-"+t)})}();(u.indexOf("left")>=0||u.indexOf("right")>=0)&&(t.left=s.left=!1);(u.indexOf("top")>=0||u.indexOf("bottom")>=0)&&(t.top=s.top=!1);(s.top!==b.top||s.left!==b.left||t.top!==l.attachment.top||t.left!==l.attachment.left)&&(l.updateAttachClasses(t,s),l.trigger("update",{attachment:t,targetAttachment:s}))}),f(function(){l.options.addTargetClasses===!1||u(l.target,w,p);u(l.element,w,p)}),{top:e,left:o}}});"use strict";var n=t.Utils,i=n.getBounds,u=n.updateClasses,f=n.defer;return t.modules.push({position:function(n){var t=this,h=n.top,c=n.left,l=this.cache("element-bounds",function(){return i(t.element)}),y=l.height,p=l.width,r=this.getTargetBounds(),a=h+y,v=c+p,e=[];h<=r.bottom&&a>=r.top&&["left","right"].forEach(function(n){var t=r[n];(t===c||t===v)&&e.push(n)});c<=r.right&&v>=r.left&&["top","bottom"].forEach(function(n){var t=r[n];(t===h||t===a)&&e.push(n)});var o=[],s=[];return o.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(n){o.push(t.getClass("abutted")+"-"+n)}),e.length&&s.push(this.getClass("abutted")),e.forEach(function(n){s.push(t.getClass("abutted")+"-"+n)}),f(function(){t.options.addTargetClasses===!1||u(t.target,s,o);u(t.element,s,o)}),!0}}),y=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,o;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),t.modules.push({position:function(n){var u=n.top,f=n.left,t,i,r,o,e;if(this.options.shift)return t=this.options.shift,typeof this.options.shift=="function"&&(t=this.options.shift.call(this,{top:u,left:f})),i=undefined,r=undefined,typeof t=="string"?(t=t.split(" "),t[1]=t[1]||t[0],o=t,e=y(o,2),i=e[0],r=e[1],i=parseFloat(i,10),r=parseFloat(r,10)):(i=t.top,r=t.left),u+=i,f+=r,{top:u,left:f}}}),wt});
/*!
  * Bootstrap v4.0.0-beta.2 (https://getbootstrap.com)
  * Copyright 2011-2017 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
bootstrap=function(n,t,i){"use strict";function e(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function o(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}function s(n,t){n.prototype=Object.create(t.prototype);n.prototype.constructor=n;n.__proto__=t}var r,u;t=t&&t.hasOwnProperty("default")?t["default"]:t;i=i&&i.hasOwnProperty("default")?i["default"]:i;r=function(){function f(n){return{}.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function e(){return{bindType:i.end,delegateType:i.end,handle:function(n){return t(n.target).is(this)?n.handleObj.handler.apply(this,arguments):undefined}}}function o(){var t,n;if(window.QUnit)return!1;t=document.createElement("bootstrap");for(n in r)if(typeof t.style[n]!="undefined")return{end:r[n]};return!1}function s(i){var u=this,r=!1;t(this).one(n.TRANSITION_END,function(){r=!0});return setTimeout(function(){r||n.triggerTransitionEnd(u)},i),this}function h(){i=o();t.fn.emulateTransitionEnd=s;n.supportsTransitionEnd()&&(t.event.special[n.TRANSITION_END]=e())}var i=!1,u=1e6,r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n={TRANSITION_END:"bsTransitionEnd",getUID:function(n){do n+=~~(Math.random()*u);while(document.getElementById(n));return n},getSelectorFromElement:function(n){var i=n.getAttribute("data-target"),r;i&&i!=="#"||(i=n.getAttribute("href")||"");try{return r=t(document).find(i),r.length>0?i:null}catch(u){return null}},reflow:function(n){return n.offsetHeight},triggerTransitionEnd:function(n){t(n).trigger(i.end)},supportsTransitionEnd:function(){return Boolean(i)},isElement:function(n){return(n[0]||n).nodeType},typeCheckConfig:function(t,i,r){for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)){var o=r[u],e=i[u],s=e&&n.isElement(e)?"element":f(e);if(!new RegExp(o).test(s))throw new Error(t.toUpperCase()+": "+('Option "'+u+'" provided type "'+s+'" ')+('but expected type "'+o+'".'));}}};return h(),n}(t);u=o;var h=s,c=function(){var i="alert",h="4.0.0-beta.2",f="bs.alert",e="."+f,c=t.fn[i],l=150,o={CLOSE:"close"+e,CLOSED:"closed"+e,CLICK_DATA_API:"click"+e+".data-api"},s={ALERT:"alert",FADE:"fade",SHOW:"show"},n=function(){function n(n){this._element=n}var i=n.prototype;return i.close=function(n){n=n||this._element;var t=this._getRootElement(n),i=this._triggerCloseEvent(t);i.isDefaultPrevented()||this._removeElement(t)},i.dispose=function(){t.removeData(this._element,f);this._element=null},i._getRootElement=function(n){var u=r.getSelectorFromElement(n),i=!1;return u&&(i=t(u)[0]),i||(i=t(n).closest("."+s.ALERT)[0]),i},i._triggerCloseEvent=function(n){var i=t.Event(o.CLOSE);return t(n).trigger(i),i},i._removeElement=function(n){var i=this;if(t(n).removeClass(s.SHOW),!r.supportsTransitionEnd()||!t(n).hasClass(s.FADE)){this._destroyElement(n);return}t(n).one(r.TRANSITION_END,function(t){return i._destroyElement(n,t)}).emulateTransitionEnd(l)},i._destroyElement=function(n){t(n).detach().trigger(o.CLOSED).remove()},n._jQueryInterface=function(i){return this.each(function(){var u=t(this),r=u.data(f);r||(r=new n(this),u.data(f,r));i==="close"&&r[i](this)})},n._handleDismiss=function(n){return function(t){t&&t.preventDefault();n.close(this)}},u(n,null,[{key:"VERSION",get:function(){return h}}]),n}();t(document).on(o.CLICK_DATA_API,{DISMISS:'[data-dismiss="alert"]'}.DISMISS,n._handleDismiss(new n));return t.fn[i]=n._jQueryInterface,t.fn[i].Constructor=n,t.fn[i].noConflict=function(){return t.fn[i]=c,n._jQueryInterface},n}(t),l=function(){var r="button",c="4.0.0-beta.2",e="bs.button",o="."+e,s=".data-api",l=t.fn[r],n={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},i={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},h={CLICK_DATA_API:"click"+o+s,FOCUS_BLUR_DATA_API:"focus"+o+s+" "+("blur"+o+s)},f=function(){function r(n){this._element=n}var f=r.prototype;return f.toggle=function(){var f=!0,o=!0,u=t(this._element).closest(i.DATA_TOGGLE)[0],r,e;if(u&&(r=t(this._element).find(i.INPUT)[0],r)){if(r.type==="radio"&&(r.checked&&t(this._element).hasClass(n.ACTIVE)?f=!1:(e=t(u).find(i.ACTIVE)[0],e&&t(e).removeClass(n.ACTIVE))),f){if(r.hasAttribute("disabled")||u.hasAttribute("disabled")||r.classList.contains("disabled")||u.classList.contains("disabled"))return;r.checked=!t(this._element).hasClass(n.ACTIVE);t(r).trigger("change")}r.focus();o=!1}o&&this._element.setAttribute("aria-pressed",!t(this._element).hasClass(n.ACTIVE));f&&t(this._element).toggleClass(n.ACTIVE)},f.dispose=function(){t.removeData(this._element,e);this._element=null},r._jQueryInterface=function(n){return this.each(function(){var i=t(this).data(e);i||(i=new r(this),t(this).data(e,i));n==="toggle"&&i[n]()})},u(r,null,[{key:"VERSION",get:function(){return c}}]),r}();t(document).on(h.CLICK_DATA_API,i.DATA_TOGGLE_CARROT,function(r){r.preventDefault();var u=r.target;t(u).hasClass(n.BUTTON)||(u=t(u).closest(i.BUTTON));f._jQueryInterface.call(t(u),"toggle")}).on(h.FOCUS_BLUR_DATA_API,i.DATA_TOGGLE_CARROT,function(r){var u=t(r.target).closest(i.BUTTON)[0];t(u).toggleClass(n.FOCUS,/^focus(in)?$/.test(r.type))});return t.fn[r]=f._jQueryInterface,t.fn[r].Constructor=f,t.fn[r].noConflict=function(){return t.fn[r]=l,f._jQueryInterface},f}(t),a=function(){var s="carousel",v="4.0.0-beta.2",c="bs.carousel",f="."+c,a=".data-api",y=t.fn[s],p=600,w=37,b=39,k=500,l={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},d={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},i={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},e={SLIDE:"slide"+f,SLID:"slid"+f,KEYDOWN:"keydown"+f,MOUSEENTER:"mouseenter"+f,MOUSELEAVE:"mouseleave"+f,TOUCHEND:"touchend"+f,LOAD_DATA_API:"load"+f+a,CLICK_DATA_API:"click"+f+a},n={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},o={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},h=function(){function a(n,i){this._items=null;this._interval=null;this._activeElement=null;this._isPaused=!1;this._isSliding=!1;this.touchTimeout=null;this._config=this._getConfig(i);this._element=t(n)[0];this._indicatorsElement=t(this._element).find(o.INDICATORS)[0];this._addEventListeners()}var h=a.prototype;return h.next=function(){this._isSliding||this._slide(i.NEXT)},h.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&t(this._element).css("visibility")!=="hidden"&&this.next()},h.prev=function(){this._isSliding||this._slide(i.PREV)},h.pause=function(n){n||(this._isPaused=!0);t(this._element).find(o.NEXT_PREV)[0]&&r.supportsTransitionEnd()&&(r.triggerTransitionEnd(this._element),this.cycle(!0));clearInterval(this._interval);this._interval=null},h.cycle=function(n){n||(this._isPaused=!1);this._interval&&(clearInterval(this._interval),this._interval=null);this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},h.to=function(n){var f=this,r,u;if(this._activeElement=t(this._element).find(o.ACTIVE_ITEM)[0],r=this._getItemIndex(this._activeElement),!(n>this._items.length-1)&&!(n<0)){if(this._isSliding){t(this._element).one(e.SLID,function(){return f.to(n)});return}if(r===n){this.pause();this.cycle();return}u=n>r?i.NEXT:i.PREV;this._slide(u,this._items[n])}},h.dispose=function(){t(this._element).off(f);t.removeData(this._element,c);this._items=null;this._config=null;this._element=null;this._interval=null;this._isPaused=null;this._isSliding=null;this._activeElement=null;this._indicatorsElement=null},h._getConfig=function(n){return n=t.extend({},l,n),r.typeCheckConfig(s,n,d),n},h._addEventListeners=function(){var n=this;if(this._config.keyboard)t(this._element).on(e.KEYDOWN,function(t){return n._keydown(t)});if(this._config.pause==="hover"){t(this._element).on(e.MOUSEENTER,function(t){return n.pause(t)}).on(e.MOUSELEAVE,function(t){return n.cycle(t)});if("ontouchstart"in document.documentElement)t(this._element).on(e.TOUCHEND,function(){n.pause();n.touchTimeout&&clearTimeout(n.touchTimeout);n.touchTimeout=setTimeout(function(t){return n.cycle(t)},k+n._config.interval)})}},h._keydown=function(n){if(!/input|textarea/i.test(n.target.tagName))switch(n.which){case w:n.preventDefault();this.prev();break;case b:n.preventDefault();this.next();break;default:return}},h._getItemIndex=function(n){return this._items=t.makeArray(t(n).parent().find(o.ITEM)),this._items.indexOf(n)},h._getItemByDirection=function(n,t){var e=n===i.NEXT,o=n===i.PREV,r=this._getItemIndex(t),s=this._items.length-1,h=o&&r===0||e&&r===s,f,u;return h&&!this._config.wrap?t:(f=n===i.PREV?-1:1,u=(r+f)%this._items.length,u===-1?this._items[this._items.length-1]:this._items[u])},h._triggerSlideEvent=function(n,i){var u=this._getItemIndex(n),f=this._getItemIndex(t(this._element).find(o.ACTIVE_ITEM)[0]),r=t.Event(e.SLIDE,{relatedTarget:n,direction:i,from:f,to:u});return t(this._element).trigger(r),r},h._setActiveIndicatorElement=function(i){if(this._indicatorsElement){t(this._indicatorsElement).find(o.ACTIVE).removeClass(n.ACTIVE);var r=this._indicatorsElement.children[this._getItemIndex(i)];r&&t(r).addClass(n.ACTIVE)}},h._slide=function(u,f){var y=this,h=t(this._element).find(o.ACTIVE_ITEM)[0],k=this._getItemIndex(h),s=f||h&&this._getItemByDirection(u,h),d=this._getItemIndex(s),w=Boolean(this._interval),c,l,a,b,v;if(u===i.NEXT?(c=n.LEFT,l=n.NEXT,a=i.LEFT):(c=n.RIGHT,l=n.PREV,a=i.RIGHT),s&&t(s).hasClass(n.ACTIVE)){this._isSliding=!1;return}(b=this._triggerSlideEvent(s,a),b.isDefaultPrevented())||h&&s&&(this._isSliding=!0,w&&this.pause(),this._setActiveIndicatorElement(s),v=t.Event(e.SLID,{relatedTarget:s,direction:a,from:k,to:d}),r.supportsTransitionEnd()&&t(this._element).hasClass(n.SLIDE)?(t(s).addClass(l),r.reflow(s),t(h).addClass(c),t(s).addClass(c),t(h).one(r.TRANSITION_END,function(){t(s).removeClass(c+" "+l).addClass(n.ACTIVE);t(h).removeClass(n.ACTIVE+" "+l+" "+c);y._isSliding=!1;setTimeout(function(){return t(y._element).trigger(v)},0)}).emulateTransitionEnd(p)):(t(h).removeClass(n.ACTIVE),t(s).addClass(n.ACTIVE),this._isSliding=!1,t(this._element).trigger(v)),w&&this.cycle())},a._jQueryInterface=function(n){return this.each(function(){var i=t(this).data(c),u=t.extend({},l,t(this).data()),r;if(typeof n=="object"&&t.extend(u,n),r=typeof n=="string"?n:u.slide,i||(i=new a(this,u),t(this).data(c,i)),typeof n=="number")i.to(n);else if(typeof r=="string"){if(typeof i[r]=="undefined")throw new Error('No method named "'+r+'"');i[r]()}else u.interval&&(i.pause(),i.cycle())})},a._dataApiClickHandler=function(i){var o=r.getSelectorFromElement(this),u,e,f;o&&(u=t(o)[0],u&&t(u).hasClass(n.CAROUSEL))&&(e=t.extend({},t(u).data(),t(this).data()),f=this.getAttribute("data-slide-to"),f&&(e.interval=!1),a._jQueryInterface.call(t(u),e),f&&t(u).data(c).to(f),i.preventDefault())},u(a,null,[{key:"VERSION",get:function(){return v}},{key:"Default",get:function(){return l}}]),a}();t(document).on(e.CLICK_DATA_API,o.DATA_SLIDE,h._dataApiClickHandler);t(window).on(e.LOAD_DATA_API,function(){t(o.DATA_RIDE).each(function(){var n=t(this);h._jQueryInterface.call(n,n.data())})});return t.fn[s]=h._jQueryInterface,t.fn[s].Constructor=h,t.fn[s].noConflict=function(){return t.fn[s]=y,h._jQueryInterface},h}(t),v=function(){var f="collapse",v="4.0.0-beta.2",i="bs.collapse",e="."+i,y=t.fn[f],a=600,h={toggle:!0,parent:""},p={toggle:"boolean",parent:"(string|element)"},o={SHOW:"show"+e,SHOWN:"shown"+e,HIDE:"hide"+e,HIDDEN:"hidden"+e,CLICK_DATA_API:"click"+e+".data-api"},n={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},c={WIDTH:"width",HEIGHT:"height"},l={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},s=function(){function s(n,i){var f,u,e,o;for(this._isTransitioning=!1,this._element=n,this._config=this._getConfig(i),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+n.id+'"],'+('[data-toggle="collapse"][data-target="#'+n.id+'"]'))),f=t(l.DATA_TOGGLE),u=0;u<f.length;u++)e=f[u],o=r.getSelectorFromElement(e),o!==null&&t(o).filter(n).length>0&&this._triggerArray.push(e);this._parent=this._config.parent?this._getParent():null;this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray);this._config.toggle&&this.toggle()}var e=s.prototype;return e.toggle=function(){t(this._element).hasClass(n.SHOW)?this.hide():this.show()},e.show=function(){var e=this,u,h,c,f,v,y,p;if(!this._isTransitioning&&!t(this._element).hasClass(n.SHOW)&&(this._parent&&(u=t.makeArray(t(this._parent).children().children(l.ACTIVES)),u.length||(u=null)),!u||(h=t(u).data(i),!h||!h._isTransitioning))&&(c=t.Event(o.SHOW),t(this._element).trigger(c),!c.isDefaultPrevented())){if(u&&(s._jQueryInterface.call(t(u),"hide"),h||t(u).data(i,null)),f=this._getDimension(),t(this._element).removeClass(n.COLLAPSE).addClass(n.COLLAPSING),this._element.style[f]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(n.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0),v=function(){t(e._element).removeClass(n.COLLAPSING).addClass(n.COLLAPSE).addClass(n.SHOW);e._element.style[f]="";e.setTransitioning(!1);t(e._element).trigger(o.SHOWN)},!r.supportsTransitionEnd()){v();return}y=f[0].toUpperCase()+f.slice(1);p="scroll"+y;t(this._element).one(r.TRANSITION_END,v).emulateTransitionEnd(a);this._element.style[f]=this._element[p]+"px"}},e.hide=function(){var c=this,f,i,u,e,s,l,h;if(!this._isTransitioning&&t(this._element).hasClass(n.SHOW)&&(f=t.Event(o.HIDE),t(this._element).trigger(f),!f.isDefaultPrevented())){if(i=this._getDimension(),this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",r.reflow(this._element),t(this._element).addClass(n.COLLAPSING).removeClass(n.COLLAPSE).removeClass(n.SHOW),this._triggerArray.length)for(u=0;u<this._triggerArray.length;u++)e=this._triggerArray[u],s=r.getSelectorFromElement(e),s!==null&&(l=t(s),l.hasClass(n.SHOW)||t(e).addClass(n.COLLAPSED).attr("aria-expanded",!1));if(this.setTransitioning(!0),h=function(){c.setTransitioning(!1);t(c._element).removeClass(n.COLLAPSING).addClass(n.COLLAPSE).trigger(o.HIDDEN)},this._element.style[i]="",!r.supportsTransitionEnd()){h();return}t(this._element).one(r.TRANSITION_END,h).emulateTransitionEnd(a)}},e.setTransitioning=function(n){this._isTransitioning=n},e.dispose=function(){t.removeData(this._element,i);this._config=null;this._parent=null;this._element=null;this._triggerArray=null;this._isTransitioning=null},e._getConfig=function(n){return n=t.extend({},h,n),n.toggle=Boolean(n.toggle),r.typeCheckConfig(f,n,p),n},e._getDimension=function(){var n=t(this._element).hasClass(c.WIDTH);return n?c.WIDTH:c.HEIGHT},e._getParent=function(){var u=this,n=null,i;return r.isElement(this._config.parent)?(n=this._config.parent,typeof this._config.parent.jquery!="undefined"&&(n=this._config.parent[0])):n=t(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',t(n).find(i).each(function(n,t){u._addAriaAndCollapsedClass(s._getTargetFromElement(t),[t])}),n},e._addAriaAndCollapsedClass=function(i,r){if(i){var u=t(i).hasClass(n.SHOW);r.length&&t(r).toggleClass(n.COLLAPSED,!u).attr("aria-expanded",u)}},s._getTargetFromElement=function(n){var i=r.getSelectorFromElement(n);return i?t(i)[0]:null},s._jQueryInterface=function(n){return this.each(function(){var u=t(this),r=u.data(i),f=t.extend({},h,u.data(),typeof n=="object"&&n);if(!r&&f.toggle&&/show|hide/.test(n)&&(f.toggle=!1),r||(r=new s(this,f),u.data(i,r)),typeof n=="string"){if(typeof r[n]=="undefined")throw new Error('No method named "'+n+'"');r[n]()}})},u(s,null,[{key:"VERSION",get:function(){return v}},{key:"Default",get:function(){return h}}]),s}();t(document).on(o.CLICK_DATA_API,l.DATA_TOGGLE,function(n){n.currentTarget.tagName==="A"&&n.preventDefault();var u=t(this),f=r.getSelectorFromElement(this);t(f).each(function(){var n=t(this),r=n.data(i),f=r?"toggle":u.data();s._jQueryInterface.call(n,f)})});return t.fn[f]=s._jQueryInterface,t.fn[f].Constructor=s,t.fn[f].noConflict=function(){return t.fn[f]=y,s._jQueryInterface},s}(t),y=function(){if(typeof i=="undefined")throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");var h="dropdown",k="4.0.0-beta.2",c="bs.dropdown",e="."+c,v=".data-api",d=t.fn[h],l=27,y=32,p=9,w=38,b=40,g=3,nt=new RegExp(w+"|"+b+"|"+l),f={HIDE:"hide"+e,HIDDEN:"hidden"+e,SHOW:"show"+e,SHOWN:"shown"+e,CLICK:"click"+e,CLICK_DATA_API:"click"+e+v,KEYDOWN_DATA_API:"keydown"+e+v,KEYUP_DATA_API:"keyup"+e+v},n={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left"},o={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"},a={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end"},tt={offset:0,flip:!0},it={offset:"(number|string|function)",flip:"boolean"},s=function(){function s(n,t){this._element=n;this._popper=null;this._config=this._getConfig(t);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var v=s.prototype;return v.toggle=function(){var r,c,u,e,h;if(!this._element.disabled&&!t(this._element).hasClass(n.DISABLED)&&(r=s._getParentFromElement(this._element),c=t(this._menu).hasClass(n.SHOW),s._clearMenus(),!c)&&(u={relatedTarget:this._element},e=t.Event(f.SHOW,u),t(r).trigger(e),!e.isDefaultPrevented())){if(h=this._element,t(r).hasClass(n.DROPUP)&&(t(this._menu).hasClass(n.MENULEFT)||t(this._menu).hasClass(n.MENURIGHT))&&(h=r),this._popper=new i(h,this._menu,this._getPopperConfig()),"ontouchstart"in document.documentElement&&!t(r).closest(o.NAVBAR_NAV).length)t("body").children().on("mouseover",null,t.noop);this._element.focus();this._element.setAttribute("aria-expanded",!0);t(this._menu).toggleClass(n.SHOW);t(r).toggleClass(n.SHOW).trigger(t.Event(f.SHOWN,u))}},v.dispose=function(){t.removeData(this._element,c);t(this._element).off(e);this._element=null;this._menu=null;this._popper!==null&&this._popper.destroy();this._popper=null},v.update=function(){this._inNavbar=this._detectNavbar();this._popper!==null&&this._popper.scheduleUpdate()},v._addEventListeners=function(){var n=this;t(this._element).on(f.CLICK,function(t){t.preventDefault();t.stopPropagation();n.toggle()})},v._getConfig=function(n){return n=t.extend({},this.constructor.Default,t(this._element).data(),n),r.typeCheckConfig(h,n,this.constructor.DefaultType),n},v._getMenuElement=function(){if(!this._menu){var n=s._getParentFromElement(this._element);this._menu=t(n).find(o.MENU)[0]}return this._menu},v._getPlacement=function(){var r=t(this._element).parent(),i=a.BOTTOM;return r.hasClass(n.DROPUP)?(i=a.TOP,t(this._menu).hasClass(n.MENURIGHT)&&(i=a.TOPEND)):t(this._menu).hasClass(n.MENURIGHT)&&(i=a.BOTTOMEND),i},v._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},v._getPopperConfig=function(){var r=this,n={},i;return typeof this._config.offset=="function"?n.fn=function(n){return n.offsets=t.extend({},n.offsets,r._config.offset(n.offsets)||{}),n}:n.offset=this._config.offset,i={placement:this._getPlacement(),modifiers:{offset:n,flip:{enabled:this._config.flip}}},this._inNavbar&&(i.modifiers.applyStyle={enabled:!this._inNavbar}),i},s._jQueryInterface=function(n){return this.each(function(){var i=t(this).data(c),r=typeof n=="object"?n:null;if(i||(i=new s(this,r),t(this).data(c,i)),typeof n=="string"){if(typeof i[n]=="undefined")throw new Error('No method named "'+n+'"');i[n]()}})},s._clearMenus=function(i){var u,r,v,h;if(!i||i.which!==g&&(i.type!=="keyup"||i.which===p))for(u=t.makeArray(t(o.DATA_TOGGLE)),r=0;r<u.length;r++){var e=s._getParentFromElement(u[r]),l=t(u[r]).data(c),a={relatedTarget:u[r]};l&&(v=l._menu,t(e).hasClass(n.SHOW))&&(i&&(i.type==="click"&&/input|textarea/i.test(i.target.tagName)||i.type==="keyup"&&i.which===p)&&t.contains(e,i.target)||(h=t.Event(f.HIDE,a),t(e).trigger(h),h.isDefaultPrevented())||("ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),u[r].setAttribute("aria-expanded","false"),t(v).removeClass(n.SHOW),t(e).removeClass(n.SHOW).trigger(t.Event(f.HIDDEN,a))))}},s._getParentFromElement=function(n){var i,u=r.getSelectorFromElement(n);return u&&(i=t(u)[0]),i||n.parentNode},s._dataApiKeydownHandler=function(i){var f,e,h,u,r;if(nt.test(i.which)&&(!/button/i.test(i.target.tagName)||i.which!==y)&&!/input|textarea/i.test(i.target.tagName)&&(i.preventDefault(),i.stopPropagation(),!this.disabled&&!t(this).hasClass(n.DISABLED))){if(f=s._getParentFromElement(this),e=t(f).hasClass(n.SHOW),!e&&(i.which!==l||i.which!==y)||e&&(i.which===l||i.which===y)){i.which===l&&(h=t(f).find(o.DATA_TOGGLE)[0],t(h).trigger("focus"));t(this).trigger("click");return}(u=t(f).find(o.VISIBLE_ITEMS).get(),u.length)&&(r=u.indexOf(i.target),i.which===w&&r>0&&r--,i.which===b&&r<u.length-1&&r++,r<0&&(r=0),u[r].focus())}},u(s,null,[{key:"VERSION",get:function(){return k}},{key:"Default",get:function(){return tt}},{key:"DefaultType",get:function(){return it}}]),s}();t(document).on(f.KEYDOWN_DATA_API,o.DATA_TOGGLE,s._dataApiKeydownHandler).on(f.KEYDOWN_DATA_API,o.MENU,s._dataApiKeydownHandler).on(f.CLICK_DATA_API+" "+f.KEYUP_DATA_API,s._clearMenus).on(f.CLICK_DATA_API,o.DATA_TOGGLE,function(n){n.preventDefault();n.stopPropagation();s._jQueryInterface.call(t(this),"toggle")}).on(f.CLICK_DATA_API,o.FORM_CHILD,function(n){n.stopPropagation()});return t.fn[h]=s._jQueryInterface,t.fn[h].Constructor=s,t.fn[h].noConflict=function(){return t.fn[h]=d,s._jQueryInterface},s}(t,i),p=function(){var o="modal",v="4.0.0-beta.2",s="bs.modal",f="."+s,y=t.fn[o],c=300,l=150,p=27,a={backdrop:!0,keyboard:!0,focus:!0,show:!0},w={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},n={HIDE:"hide"+f,HIDDEN:"hidden"+f,SHOW:"show"+f,SHOWN:"shown"+f,FOCUSIN:"focusin"+f,RESIZE:"resize"+f,CLICK_DISMISS:"click.dismiss"+f,KEYDOWN_DISMISS:"keydown.dismiss"+f,MOUSEUP_DISMISS:"mouseup.dismiss"+f,MOUSEDOWN_DISMISS:"mousedown.dismiss"+f,CLICK_DATA_API:"click"+f+".data-api"},i={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},e={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},h=function(){function y(n,i){this._config=this._getConfig(i);this._element=n;this._dialog=t(n).find(e.DIALOG)[0];this._backdrop=null;this._isShown=!1;this._isBodyOverflowing=!1;this._ignoreBackdropClick=!1;this._originalBodyPadding=0;this._scrollbarWidth=0}var h=y.prototype;return h.toggle=function(n){return this._isShown?this.hide():this.show(n)},h.show=function(u){var f=this,o;if(!this._isTransitioning&&!this._isShown&&(r.supportsTransitionEnd()&&t(this._element).hasClass(i.FADE)&&(this._isTransitioning=!0),o=t.Event(n.SHOW,{relatedTarget:u}),t(this._element).trigger(o),!this._isShown&&!o.isDefaultPrevented())){this._isShown=!0;this._checkScrollbar();this._setScrollbar();this._adjustDialog();t(document.body).addClass(i.OPEN);this._setEscapeEvent();this._setResizeEvent();t(this._element).on(n.CLICK_DISMISS,e.DATA_DISMISS,function(n){return f.hide(n)});t(this._dialog).on(n.MOUSEDOWN_DISMISS,function(){t(f._element).one(n.MOUSEUP_DISMISS,function(n){t(n.target).is(f._element)&&(f._ignoreBackdropClick=!0)})});this._showBackdrop(function(){return f._showElement(u)})}},h.hide=function(u){var o=this,f,e;(u&&u.preventDefault(),!this._isTransitioning&&this._isShown)&&(f=t.Event(n.HIDE),t(this._element).trigger(f),this._isShown&&!f.isDefaultPrevented())&&(this._isShown=!1,e=r.supportsTransitionEnd()&&t(this._element).hasClass(i.FADE),e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(n.FOCUSIN),t(this._element).removeClass(i.SHOW),t(this._element).off(n.CLICK_DISMISS),t(this._dialog).off(n.MOUSEDOWN_DISMISS),e?t(this._element).one(r.TRANSITION_END,function(n){return o._hideModal(n)}).emulateTransitionEnd(c):this._hideModal())},h.dispose=function(){t.removeData(this._element,s);t(window,document,this._element,this._backdrop).off(f);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._scrollbarWidth=null},h.handleUpdate=function(){this._adjustDialog()},h._getConfig=function(n){return n=t.extend({},a,n),r.typeCheckConfig(o,n,w),n},h._showElement=function(u){var f=this,o=r.supportsTransitionEnd()&&t(this._element).hasClass(i.FADE),s,e;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.scrollTop=0;o&&r.reflow(this._element);t(this._element).addClass(i.SHOW);this._config.focus&&this._enforceFocus();s=t.Event(n.SHOWN,{relatedTarget:u});e=function(){f._config.focus&&f._element.focus();f._isTransitioning=!1;t(f._element).trigger(s)};o?t(this._dialog).one(r.TRANSITION_END,e).emulateTransitionEnd(c):e()},h._enforceFocus=function(){var i=this;t(document).off(n.FOCUSIN).on(n.FOCUSIN,function(n){document===n.target||i._element===n.target||t(i._element).has(n.target).length||i._element.focus()})},h._setEscapeEvent=function(){var i=this;if(this._isShown&&this._config.keyboard)t(this._element).on(n.KEYDOWN_DISMISS,function(n){n.which===p&&(n.preventDefault(),i.hide())});else this._isShown||t(this._element).off(n.KEYDOWN_DISMISS)},h._setResizeEvent=function(){var i=this;if(this._isShown)t(window).on(n.RESIZE,function(n){return i.handleUpdate(n)});else t(window).off(n.RESIZE)},h._hideModal=function(){var r=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._isTransitioning=!1;this._showBackdrop(function(){t(document.body).removeClass(i.OPEN);r._resetAdjustments();r._resetScrollbar();t(r._element).trigger(n.HIDDEN)})},h._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},h._showBackdrop=function(u){var f=this,e=t(this._element).hasClass(i.FADE)?i.FADE:"",o,s;if(this._isShown&&this._config.backdrop){o=r.supportsTransitionEnd()&&e;this._backdrop=document.createElement("div");this._backdrop.className=i.BACKDROP;e&&t(this._backdrop).addClass(e);t(this._backdrop).appendTo(document.body);t(this._element).on(n.CLICK_DISMISS,function(n){if(f._ignoreBackdropClick){f._ignoreBackdropClick=!1;return}n.target===n.currentTarget&&(f._config.backdrop==="static"?f._element.focus():f.hide())});if(o&&r.reflow(this._backdrop),t(this._backdrop).addClass(i.SHOW),!u)return;if(!o){u();return}t(this._backdrop).one(r.TRANSITION_END,u).emulateTransitionEnd(l)}else!this._isShown&&this._backdrop?(t(this._backdrop).removeClass(i.SHOW),s=function(){f._removeBackdrop();u&&u()},r.supportsTransitionEnd()&&t(this._element).hasClass(i.FADE)?t(this._backdrop).one(r.TRANSITION_END,s).emulateTransitionEnd(l):s()):u&&u()},h._adjustDialog=function(){var n=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&n&&(this._element.style.paddingLeft=this._scrollbarWidth+"px");this._isBodyOverflowing&&!n&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},h._resetAdjustments=function(){this._element.style.paddingLeft="";this._element.style.paddingRight=""},h._checkScrollbar=function(){var n=document.body.getBoundingClientRect();this._isBodyOverflowing=n.left+n.right<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()},h._setScrollbar=function(){var n=this,i,r;this._isBodyOverflowing&&(t(e.FIXED_CONTENT).each(function(i,r){var u=t(r)[0].style.paddingRight,f=t(r).css("padding-right");t(r).data("padding-right",u).css("padding-right",parseFloat(f)+n._scrollbarWidth+"px")}),t(e.STICKY_CONTENT).each(function(i,r){var u=t(r)[0].style.marginRight,f=t(r).css("margin-right");t(r).data("margin-right",u).css("margin-right",parseFloat(f)-n._scrollbarWidth+"px")}),t(e.NAVBAR_TOGGLER).each(function(i,r){var u=t(r)[0].style.marginRight,f=t(r).css("margin-right");t(r).data("margin-right",u).css("margin-right",parseFloat(f)+n._scrollbarWidth+"px")}),i=document.body.style.paddingRight,r=t("body").css("padding-right"),t("body").data("padding-right",i).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px"))},h._resetScrollbar=function(){t(e.FIXED_CONTENT).each(function(n,i){var r=t(i).data("padding-right");typeof r!="undefined"&&t(i).css("padding-right",r).removeData("padding-right")});t(e.STICKY_CONTENT+", "+e.NAVBAR_TOGGLER).each(function(n,i){var r=t(i).data("margin-right");typeof r!="undefined"&&t(i).css("margin-right",r).removeData("margin-right")});var n=t("body").data("padding-right");typeof n!="undefined"&&t("body").css("padding-right",n).removeData("padding-right")},h._getScrollbarWidth=function(){var n=document.createElement("div"),t;return n.className=i.SCROLLBAR_MEASURER,document.body.appendChild(n),t=n.getBoundingClientRect().width-n.clientWidth,document.body.removeChild(n),t},y._jQueryInterface=function(n,i){return this.each(function(){var r=t(this).data(s),u=t.extend({},y.Default,t(this).data(),typeof n=="object"&&n);if(r||(r=new y(this,u),t(this).data(s,r)),typeof n=="string"){if(typeof r[n]=="undefined")throw new Error('No method named "'+n+'"');r[n](i)}else u.show&&r.show(i)})},u(y,null,[{key:"VERSION",get:function(){return v}},{key:"Default",get:function(){return a}}]),y}();t(document).on(n.CLICK_DATA_API,e.DATA_TOGGLE,function(i){var f=this,u,e=r.getSelectorFromElement(this),o,c;e&&(u=t(e)[0]);o=t(u).data(s)?"toggle":t.extend({},t(u).data(),t(this).data());(this.tagName==="A"||this.tagName==="AREA")&&i.preventDefault();c=t(u).one(n.SHOW,function(i){if(!i.isDefaultPrevented())c.one(n.HIDDEN,function(){t(f).is(":visible")&&f.focus()})});h._jQueryInterface.call(t(u),o,this)});return t.fn[o]=h._jQueryInterface,t.fn[o].Constructor=h,t.fn[o].noConflict=function(){return t.fn[o]=y,h._jQueryInterface},h}(t),f=function(){if(typeof i=="undefined")throw new Error("Bootstrap tooltips require Popper.js (https://popper.js.org)");var s="tooltip",v="4.0.0-beta.2",h="bs.tooltip",n="."+h,y=t.fn[s],p=150,l="bs-tooltip",w=new RegExp("(^|\\s)"+l+"\\S+","g"),b={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)"},k={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},d={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip"},o={SHOW:"show",OUT:"out"},g={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},f={FADE:"fade",SHOW:"show"},a={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},e={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},c=function(){function y(n,t){this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=n;this.config=this._getConfig(t);this.tip=null;this._setListeners()}var c=y.prototype;return c.enable=function(){this._isEnabled=!0},c.disable=function(){this._isEnabled=!1},c.toggleEnabled=function(){this._isEnabled=!this._isEnabled},c.toggle=function(n){if(this._isEnabled)if(n){var r=this.constructor.DATA_KEY,i=t(n.currentTarget).data(r);i||(i=new this.constructor(n.currentTarget,this._getDelegateConfig()),t(n.currentTarget).data(r,i));i._activeTrigger.click=!i._activeTrigger.click;i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(f.SHOW)){this._leave(null,this);return}this._enter(null,this)}},c.dispose=function(){clearTimeout(this._timeout);t.removeData(this.element,this.constructor.DATA_KEY);t(this.element).off(this.constructor.EVENT_KEY);t(this.element).closest(".modal").off("hide.bs.modal");this.tip&&t(this.tip).remove();this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;this._popper!==null&&this._popper.destroy();this._popper=null;this.element=null;this.config=null;this.tip=null},c.show=function(){var n=this,e,l,u,s,v,h,p,c;if(t(this.element).css("display")==="none")throw new Error("Please use show on visible elements");if(e=t.Event(this.constructor.Event.SHOW),this.isWithContent()&&this._isEnabled){if(t(this.element).trigger(e),l=t.contains(this.element.ownerDocument.documentElement,this.element),e.isDefaultPrevented()||!l)return;if(u=this.getTipElement(),s=r.getUID(this.constructor.NAME),u.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(u).addClass(f.FADE),v=typeof this.config.placement=="function"?this.config.placement.call(this,u,this.element):this.config.placement,h=this._getAttachment(v),this.addAttachmentClass(h),p=this.config.container===!1?document.body:t(this.config.container),t(u).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(u).appendTo(p),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new i(this.element,u,{placement:h,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:a.ARROW}},onCreate:function(t){t.originalPlacement!==t.placement&&n._handlePopperPlacementChange(t)},onUpdate:function(t){n._handlePopperPlacementChange(t)}}),t(u).addClass(f.SHOW),"ontouchstart"in document.documentElement)t("body").children().on("mouseover",null,t.noop);c=function(){n.config.animation&&n._fixTransition();var i=n._hoverState;n._hoverState=null;t(n.element).trigger(n.constructor.Event.SHOWN);i===o.OUT&&n._leave(null,n)};r.supportsTransitionEnd()&&t(this.tip).hasClass(f.FADE)?t(this.tip).one(r.TRANSITION_END,c).emulateTransitionEnd(y._TRANSITION_DURATION):c()}},c.hide=function(n){var i=this,u=this.getTipElement(),s=t.Event(this.constructor.Event.HIDE),h=function(){i._hoverState!==o.SHOW&&u.parentNode&&u.parentNode.removeChild(u);i._cleanTipClass();i.element.removeAttribute("aria-describedby");t(i.element).trigger(i.constructor.Event.HIDDEN);i._popper!==null&&i._popper.destroy();n&&n()};(t(this.element).trigger(s),s.isDefaultPrevented())||(t(u).removeClass(f.SHOW),"ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),this._activeTrigger[e.CLICK]=!1,this._activeTrigger[e.FOCUS]=!1,this._activeTrigger[e.HOVER]=!1,r.supportsTransitionEnd()&&t(this.tip).hasClass(f.FADE)?t(u).one(r.TRANSITION_END,h).emulateTransitionEnd(p):h(),this._hoverState="")},c.update=function(){this._popper!==null&&this._popper.scheduleUpdate()},c.isWithContent=function(){return Boolean(this.getTitle())},c.addAttachmentClass=function(n){t(this.getTipElement()).addClass(l+"-"+n)},c.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},c.setContent=function(){var n=t(this.getTipElement());this.setElementContent(n.find(a.TOOLTIP_INNER),this.getTitle());n.removeClass(f.FADE+" "+f.SHOW)},c.setElementContent=function(n,i){var r=this.config.html;typeof i=="object"&&(i.nodeType||i.jquery)?r?t(i).parent().is(n)||n.empty().append(i):n.text(t(i).text()):n[r?"html":"text"](i)},c.getTitle=function(){var n=this.element.getAttribute("data-original-title");return n||(n=typeof this.config.title=="function"?this.config.title.call(this.element):this.config.title),n},c._getAttachment=function(n){return k[n.toUpperCase()]},c._setListeners=function(){var n=this,i=this.config.trigger.split(" ");i.forEach(function(i){if(i==="click")t(n.element).on(n.constructor.Event.CLICK,n.config.selector,function(t){return n.toggle(t)});else if(i!==e.MANUAL){var r=i===e.HOVER?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,u=i===e.HOVER?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT;t(n.element).on(r,n.config.selector,function(t){return n._enter(t)}).on(u,n.config.selector,function(t){return n._leave(t)})}t(n.element).closest(".modal").on("hide.bs.modal",function(){return n.hide()})});this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},c._fixTitle=function(){var n=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||n!=="string")&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},c._enter=function(n,i){var r=this.constructor.DATA_KEY;if(i=i||t(n.currentTarget).data(r),i||(i=new this.constructor(n.currentTarget,this._getDelegateConfig()),t(n.currentTarget).data(r,i)),n&&(i._activeTrigger[n.type==="focusin"?e.FOCUS:e.HOVER]=!0),t(i.getTipElement()).hasClass(f.SHOW)||i._hoverState===o.SHOW){i._hoverState=o.SHOW;return}if(clearTimeout(i._timeout),i._hoverState=o.SHOW,!i.config.delay||!i.config.delay.show){i.show();return}i._timeout=setTimeout(function(){i._hoverState===o.SHOW&&i.show()},i.config.delay.show)},c._leave=function(n,i){var r=this.constructor.DATA_KEY;if(i=i||t(n.currentTarget).data(r),i||(i=new this.constructor(n.currentTarget,this._getDelegateConfig()),t(n.currentTarget).data(r,i)),n&&(i._activeTrigger[n.type==="focusout"?e.FOCUS:e.HOVER]=!1),!i._isWithActiveTrigger()){if(clearTimeout(i._timeout),i._hoverState=o.OUT,!i.config.delay||!i.config.delay.hide){i.hide();return}i._timeout=setTimeout(function(){i._hoverState===o.OUT&&i.hide()},i.config.delay.hide)}},c._isWithActiveTrigger=function(){for(var n in this._activeTrigger)if(this._activeTrigger[n])return!0;return!1},c._getConfig=function(n){return n=t.extend({},this.constructor.Default,t(this.element).data(),n),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),r.typeCheckConfig(s,n,this.constructor.DefaultType),n},c._getDelegateConfig=function(){var t={},n;if(this.config)for(n in this.config)this.constructor.Default[n]!==this.config[n]&&(t[n]=this.config[n]);return t},c._cleanTipClass=function(){var i=t(this.getTipElement()),n=i.attr("class").match(w);n!==null&&n.length>0&&i.removeClass(n.join(""))},c._handlePopperPlacementChange=function(n){this._cleanTipClass();this.addAttachmentClass(this._getAttachment(n.placement))},c._fixTransition=function(){var n=this.getTipElement(),i=this.config.animation;n.getAttribute("x-placement")===null&&(t(n).removeClass(f.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},y._jQueryInterface=function(n){return this.each(function(){var i=t(this).data(h),r=typeof n=="object"&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new y(this,r),t(this).data(h,i)),typeof n=="string")){if(typeof i[n]=="undefined")throw new Error('No method named "'+n+'"');i[n]()}})},u(y,null,[{key:"VERSION",get:function(){return v}},{key:"Default",get:function(){return d}},{key:"NAME",get:function(){return s}},{key:"DATA_KEY",get:function(){return h}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return b}}]),y}();return t.fn[s]=c._jQueryInterface,t.fn[s].Constructor=c,t.fn[s].noConflict=function(){return t.fn[s]=y,c._jQueryInterface},c}(t,i),w=function(){var i="popover",l="4.0.0-beta.2",r="bs.popover",n="."+r,a=t.fn[i],o="bs-popover",v=new RegExp("(^|\\s)"+o+"\\S+","g"),y=t.extend({},f.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-header"><\/h3><div class="popover-body"><\/div><\/div>'}),p=t.extend({},f.DefaultType,{content:"(string|element|function)"}),s={FADE:"fade",SHOW:"show"},c={TITLE:".popover-header",CONTENT:".popover-body"},w={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},e=function(f){function e(){return f.apply(this,arguments)||this}h(e,f);var a=e.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(n){t(this.getTipElement()).addClass(o+"-"+n)},a.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},a.setContent=function(){var n=t(this.getTipElement());this.setElementContent(n.find(c.TITLE),this.getTitle());this.setElementContent(n.find(c.CONTENT),this._getContent());n.removeClass(s.FADE+" "+s.SHOW)},a._getContent=function(){return this.element.getAttribute("data-content")||(typeof this.config.content=="function"?this.config.content.call(this.element):this.config.content)},a._cleanTipClass=function(){var i=t(this.getTipElement()),n=i.attr("class").match(v);n!==null&&n.length>0&&i.removeClass(n.join(""))},e._jQueryInterface=function(n){return this.each(function(){var i=t(this).data(r),u=typeof n=="object"?n:null;if((i||!/destroy|hide/.test(n))&&(i||(i=new e(this,u),t(this).data(r,i)),typeof n=="string")){if(typeof i[n]=="undefined")throw new Error('No method named "'+n+'"');i[n]()}})},u(e,null,[{key:"VERSION",get:function(){return l}},{key:"Default",get:function(){return y}},{key:"NAME",get:function(){return i}},{key:"DATA_KEY",get:function(){return r}},{key:"Event",get:function(){return w}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return p}}]),e}(f);return t.fn[i]=e._jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=function(){return t.fn[i]=a,e._jQueryInterface},e}(t),b=function(){var i="scrollspy",a="4.0.0-beta.2",o="bs.scrollspy",s="."+o,v=t.fn[i],l={offset:10,method:"auto",target:""},y={offset:"number",method:"string",target:"(string|element)"},h={ACTIVATE:"activate"+s,SCROLL:"scroll"+s,LOAD_DATA_API:"load"+s+".data-api"},f={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},n={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},c={OFFSET:"offset",POSITION:"position"},e=function(){function v(i,r){var u=this;this._element=i;this._scrollElement=i.tagName==="BODY"?window:i;this._config=this._getConfig(r);this._selector=this._config.target+" "+n.NAV_LINKS+","+(this._config.target+" "+n.LIST_ITEMS+",")+(this._config.target+" "+n.DROPDOWN_ITEMS);this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;t(this._scrollElement).on(h.SCROLL,function(n){return u._process(n)});this.refresh();this._process()}var e=v.prototype;return e.refresh=function(){var n=this,f=this._scrollElement!==this._scrollElement.window?c.POSITION:c.OFFSET,i=this._config.method==="auto"?f:this._config.method,e=i===c.POSITION?this._getScrollTop():0,u;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();u=t.makeArray(t(this._selector));u.map(function(n){var u,f=r.getSelectorFromElement(n),o;return(f&&(u=t(f)[0]),u&&(o=u.getBoundingClientRect(),o.width||o.height))?[t(u)[i]().top+e,f]:null}).filter(function(n){return n}).sort(function(n,t){return n[0]-t[0]}).forEach(function(t){n._offsets.push(t[0]);n._targets.push(t[1])})},e.dispose=function(){t.removeData(this._element,o);t(this._scrollElement).off(s);this._element=null;this._scrollElement=null;this._config=null;this._selector=null;this._offsets=null;this._targets=null;this._activeTarget=null;this._scrollHeight=null},e._getConfig=function(n){if(n=t.extend({},l,n),typeof n.target!="string"){var u=t(n.target).attr("id");u||(u=r.getUID(i),t(n.target).attr("id",u));n.target="#"+u}return r.typeCheckConfig(i,n,y),n},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,r=this._getScrollHeight(),f=this._config.offset+r-this._getOffsetHeight(),i,n,u;if(this._scrollHeight!==r&&this.refresh(),t>=f){i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i);return}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null;this._clear();return}for(n=this._offsets.length;n--;)u=this._activeTarget!==this._targets[n]&&t>=this._offsets[n]&&(typeof this._offsets[n+1]=="undefined"||t<this._offsets[n+1]),u&&this._activate(this._targets[n])},e._activate=function(i){var u,r;this._activeTarget=i;this._clear();u=this._selector.split(",");u=u.map(function(n){return n+'[data-target="'+i+'"],'+(n+'[href="'+i+'"]')});r=t(u.join(","));r.hasClass(f.DROPDOWN_ITEM)?(r.closest(n.DROPDOWN).find(n.DROPDOWN_TOGGLE).addClass(f.ACTIVE),r.addClass(f.ACTIVE)):(r.addClass(f.ACTIVE),r.parents(n.NAV_LIST_GROUP).prev(n.NAV_LINKS+", "+n.LIST_ITEMS).addClass(f.ACTIVE),r.parents(n.NAV_LIST_GROUP).prev(n.NAV_ITEMS).children(n.NAV_LINKS).addClass(f.ACTIVE));t(this._scrollElement).trigger(h.ACTIVATE,{relatedTarget:i})},e._clear=function(){t(this._selector).filter(n.ACTIVE).removeClass(f.ACTIVE)},v._jQueryInterface=function(n){return this.each(function(){var i=t(this).data(o),r=typeof n=="object"&&n;if(i||(i=new v(this,r),t(this).data(o,i)),typeof n=="string"){if(typeof i[n]=="undefined")throw new Error('No method named "'+n+'"');i[n]()}})},u(v,null,[{key:"VERSION",get:function(){return a}},{key:"Default",get:function(){return l}}]),v}();t(window).on(h.LOAD_DATA_API,function(){for(var i,r=t.makeArray(t(n.DATA_SPY)),u=r.length;u--;)i=t(r[u]),e._jQueryInterface.call(i,i.data())});return t.fn[i]=e._jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=function(){return t.fn[i]=v,e._jQueryInterface},e}(t),k=function(){var f="tab",c="4.0.0-beta.2",h="bs.tab",e="."+h,l=t.fn[f],a=150,o={HIDE:"hide"+e,HIDDEN:"hidden"+e,SHOW:"show"+e,SHOWN:"shown"+e,CLICK_DATA_API:"click"+e+".data-api"},n={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},i={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},s=function(){function f(n){this._element=n}var e=f.prototype;return e.show=function(){var a=this,e,u,f,s,v,h,c,l;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(n.ACTIVE)||t(this._element).hasClass(n.DISABLED)||(f=t(this._element).closest(i.NAV_LIST_GROUP)[0],s=r.getSelectorFromElement(this._element),f&&(v=f.nodeName==="UL"?i.ACTIVE_UL:i.ACTIVE,u=t.makeArray(t(f).find(v)),u=u[u.length-1]),h=t.Event(o.HIDE,{relatedTarget:this._element}),c=t.Event(o.SHOW,{relatedTarget:u}),u&&t(u).trigger(h),t(this._element).trigger(c),c.isDefaultPrevented()||h.isDefaultPrevented())||(s&&(e=t(s)[0]),this._activate(this._element,f),l=function(){var n=t.Event(o.HIDDEN,{relatedTarget:a._element}),i=t.Event(o.SHOWN,{relatedTarget:u});t(u).trigger(n);t(a._element).trigger(i)},e?this._activate(e,e.parentNode,l):l())},e.dispose=function(){t.removeData(this._element,h);this._element=null},e._activate=function(u,f,e){var c=this,l=f.nodeName==="UL"?t(f).find(i.ACTIVE_UL):t(f).children(i.ACTIVE);var o=l[0],s=e&&r.supportsTransitionEnd()&&o&&t(o).hasClass(n.FADE),h=function(){return c._transitionComplete(u,o,s,e)};o&&s?t(o).one(r.TRANSITION_END,h).emulateTransitionEnd(a):h();o&&t(o).removeClass(n.SHOW)},e._transitionComplete=function(u,f,e,o){var s,h;f&&(t(f).removeClass(n.ACTIVE),s=t(f.parentNode).find(i.DROPDOWN_ACTIVE_CHILD)[0],s&&t(s).removeClass(n.ACTIVE),f.getAttribute("role")==="tab"&&f.setAttribute("aria-selected",!1));t(u).addClass(n.ACTIVE);u.getAttribute("role")==="tab"&&u.setAttribute("aria-selected",!0);e?(r.reflow(u),t(u).addClass(n.SHOW)):t(u).removeClass(n.FADE);u.parentNode&&t(u.parentNode).hasClass(n.DROPDOWN_MENU)&&(h=t(u).closest(i.DROPDOWN)[0],h&&t(h).find(i.DROPDOWN_TOGGLE).addClass(n.ACTIVE),u.setAttribute("aria-expanded",!0));o&&o()},f._jQueryInterface=function(n){return this.each(function(){var r=t(this),i=r.data(h);if(i||(i=new f(this),r.data(h,i)),typeof n=="string"){if(typeof i[n]=="undefined")throw new Error('No method named "'+n+'"');i[n]()}})},u(f,null,[{key:"VERSION",get:function(){return c}}]),f}();t(document).on(o.CLICK_DATA_API,i.DATA_TOGGLE,function(n){n.preventDefault();s._jQueryInterface.call(t(this),"show")});return t.fn[f]=s._jQueryInterface,t.fn[f].Constructor=s,t.fn[f].noConflict=function(){return t.fn[f]=l,s._jQueryInterface},s}(t);return function(){if(typeof t=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var n=t.fn.jquery.split(" ")[0].split("."),i=9;if(n[0]<2&&n[1]<i||n[0]===1&&n[1]===i&&n[2]<1||n[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");}(t),n.Util=r,n.Alert=c,n.Button=l,n.Carousel=a,n.Collapse=v,n.Dropdown=y,n.Modal=p,n.Popover=w,n.Scrollspy=b,n.Tab=k,n.Tooltip=f,n}({},$,Popper),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):jQuery.sammy=window.Sammy=n(jQuery)}(function(n){var t,p="([^/]+)",s=/:([\w\d]+)/g,c=/\?([^#]*)?$/,r=function(n){return Array.prototype.slice.call(n)},i=function(n){return Object.prototype.toString.call(n)==="[object Function]"},u=function(n){return Object.prototype.toString.call(n)==="[object Array]"},l=function(n){return Object.prototype.toString.call(n)==="[object RegExp]"},e=function(n){return decodeURIComponent((n||"").replace(/\+/g," "))},a=encodeURIComponent,v=function(n){return String(n).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},f=function(n){return function(){return this.route.apply(this,[n].concat(Array.prototype.slice.call(arguments)))}},h={},o=!!(window.history&&history.pushState),y=[];return t=function(){var u=r(arguments),f,e;return(t.apps=t.apps||{},u.length===0||u[0]&&i(u[0]))?t.apply(t,["body"].concat(u)):typeof(e=u.shift())=="string"?(f=t.apps[e]||new t.Application,f.element_selector=e,u.length>0&&n.each(u,function(n,t){f.use(t)}),f.element_selector!=e&&delete t.apps[e],t.apps[f.element_selector]=f,f):void 0},t.VERSION="0.7.6",t.addLogger=function(n){y.push(n)},t.log=function(){var i=r(arguments);i.unshift("["+Date()+"]");n.each(y,function(n,r){r.apply(t,i)})},typeof console!="undefined"?typeof window.console.log=="function"&&i(window.console.log.apply)?t.addLogger(function(){window.console.log.apply(window.console,arguments)}):t.addLogger(function(){window.console.log(arguments)}):typeof console!="undefined"&&t.addLogger(function(){console.log.apply(console,arguments)}),n.extend(t,{makeArray:r,isFunction:i,isArray:u}),t.Object=function(t){return n.extend(this,t||{})},n.extend(t.Object.prototype,{escapeHTML:v,h:v,toHash:function(){var t={};return n.each(this,function(n,r){i(r)||(t[n]=r)}),t},toHTML:function(){var t="";return n.each(this,function(n,r){i(r)||(t+="<strong>"+n+"<\/strong> "+r+"<br />")}),t},keys:function(n){var t=[];for(var r in this)i(this[r])&&n||t.push(r);return t},has:function(t){return this[t]&&n.trim(this[t].toString())!==""},join:function(){var n=r(arguments),t=n.shift();return n.join(t)},log:function(){t.log.apply(t,arguments)},toString:function(t){var r=[];return n.each(this,function(n,u){(!i(u)||t)&&r.push('"'+n+'": '+u.toString())}),"Sammy.Object: {"+r.join(",")+"}"}}),t.targetIsThisWindow=function(t,i){var u=n(t.target).closest(i),r;return u.length===0?!0:(r=u.attr("target"),!r||r===window.name||r==="_self")?!0:r==="_blank"?!1:r==="top"&&window===window.top?!0:!1},t.DefaultLocationProxy=function(n,t){this.app=n;this.is_native=!1;this.has_history=o;this._startPolling(t)},t.DefaultLocationProxy.fullPath=function(n){var t=n.toString().match(/^[^#]*(#.+)$/),i=t?t[1]:"";return[n.pathname,n.search,i].join("")},n.extend(t.DefaultLocationProxy.prototype,{bind:function(){var u=this,r=this.app,i=t.DefaultLocationProxy;n(window).bind("hashchange."+this.app.eventNamespace(),function(n,t){u.is_native!==!1||t||(u.is_native=!0,window.clearInterval(i._interval),i._interval=null);r.trigger("location-changed")});o&&!r.disable_push_state&&(n(window).bind("popstate."+this.app.eventNamespace(),function(){r.trigger("location-changed")}),n(document).delegate("a","click.history-"+this.app.eventNamespace(),function(n){if(!n.isDefaultPrevented()&&!n.metaKey&&!n.ctrlKey){var f=i.fullPath(this),e=this.hostname?this.hostname:function(n){var t=document.createElement("a");return t.href=n.href,t.hostname}(this);if(e==window.location.hostname&&r.lookupRoute("get",f)&&t.targetIsThisWindow(n,"a"))return n.preventDefault(),u.setLocation(f),!1}}));i._bindings||(i._bindings=0);i._bindings++},unbind:function(){n(window).unbind("hashchange."+this.app.eventNamespace());n(window).unbind("popstate."+this.app.eventNamespace());n(document).undelegate("a","click.history-"+this.app.eventNamespace());t.DefaultLocationProxy._bindings--;t.DefaultLocationProxy._bindings<=0&&(window.clearInterval(t.DefaultLocationProxy._interval),t.DefaultLocationProxy._interval=null)},getLocation:function(){return t.DefaultLocationProxy.fullPath(window.location)},setLocation:function(n){if(/^([^#\/]|$)/.test(n)&&(n=o&&!this.app.disable_push_state?"/"+n:"#!/"+n),n!=this.getLocation())if(o&&!this.app.disable_push_state&&/^\//.test(n))history.pushState({path:n},window.title,n),this.app.trigger("location-changed");else return window.location=n},_startPolling:function(i){var u=this,r;t.DefaultLocationProxy._interval||(i||(i=10),r=function(){var i=u.getLocation();(typeof t.DefaultLocationProxy._last_location=="undefined"||i!=t.DefaultLocationProxy._last_location)&&window.setTimeout(function(){n(window).trigger("hashchange",[!0])},0);t.DefaultLocationProxy._last_location=i},r(),t.DefaultLocationProxy._interval=window.setInterval(r,i))}}),t.Application=function(n){var r=this;this.routes={};this.listeners=new t.Object({});this.arounds=[];this.befores=[];this.namespace=(new Date).getTime()+"-"+parseInt(Math.random()*1e3,10);this.context_prototype=function(){t.EventContext.apply(this,arguments)};this.context_prototype.prototype=new t.EventContext;i(n)&&n.apply(this,[this]);this._location_proxy||this.setLocationProxy(new t.DefaultLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(n,t){r.log(r.toString(),n.cleaned_type,t||{})})},t.Application.prototype=n.extend({},t.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:!1,element_selector:"body",debug:!1,raise_errors:!1,run_interval_every:50,disable_push_state:!1,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(t){return t?n(this.element_selector).find(t):n(this.element_selector)},use:function(){var u=r(arguments),n=u.shift(),f=n||"";try{u.unshift(this);typeof n=="string"&&(f="Sammy."+n,n=t[n]);n.apply(this,u)}catch(e){typeof n=="undefined"?this.error("Plugin Error: called use() but plugin ("+f.toString()+") is not defined",e):i(n)?this.error("Plugin Error",e):this.error("Plugin Error: called use() but '"+f.toString()+"' is not a function",e)}return this},setLocationProxy:function(n){var t=this._location_proxy;this._location_proxy=n;this.isRunning()&&(t&&t.unbind(),this._location_proxy.bind())},log:function(){t.log.apply(t,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(t,r){var f=this,o=[],e,h,u=Array.prototype.slice.call(arguments,2);if(u.length===0&&i(r)&&(u=[r],r=t,t="any"),t=t.toLowerCase(),r.constructor==String){for(s.lastIndex=0;(h=s.exec(r))!==null;)o.push(h[1]);r=new RegExp(r.replace(s,p)+"$")}return n.each(u,function(n,t){typeof t=="string"&&(u[n]=f[t])}),e=function(n){var t={verb:n,path:r,callback:u,param_names:o};f.routes[n]=f.routes[n]||[];f.routes[n].push(t)},t==="any"?n.each(this.ROUTE_VERBS,function(n,t){e(t)}):e(t),this},get:f("get"),post:f("post"),put:f("put"),del:f("delete"),any:f("any"),mapRoutes:function(t){var i=this;return n.each(t,function(n,t){i.route.apply(i,t)}),this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(n,t,i){var r=this,u;return typeof i=="undefined"&&(i=t),u=function(){var t,u,n;t=arguments[0];n=arguments[1];n&&n.context?(u=n.context,delete n.context):u=new r.context_prototype(r,"bind",t.type,n,t.target);t.cleaned_type=t.type.replace(r.eventNamespace(),"");i.apply(u,[t,n])},this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(u),this.isRunning()&&this._listen(n,u),this},trigger:function(n,t){return this.$element().trigger([n,this.eventNamespace()].join("."),[t]),this},refresh:function(){return this.last_location=null,this.trigger("location-changed"),this},before:function(n,t){return i(n)&&(t=n,n={}),this.befores.push([n,t]),this},after:function(n){return this.bind("event-context-after",n)},around:function(n){return this.arounds.push(n),this},onComplete:function(n){return this._onComplete=n,this},isRunning:function(){return this._running},helpers:function(t){return n.extend(this.context_prototype.prototype,t),this},helper:function(n,t){return this.context_prototype.prototype[n]=t,this},run:function(i){if(this.isRunning())return!1;var r=this;return n.each(this.listeners.toHash(),function(t,i){n.each(i,function(n,i){r._listen(t,i)})}),this.trigger("run",{start_url:i}),this._running=!0,this.last_location=null,/\#(.+)/.test(this.getLocation())||typeof i=="undefined"||this.setLocation(i),this._checkLocation(),this._location_proxy.bind(),this.bind("location-changed",function(){r._checkLocation()}),this.bind("submit",function(i){if(!t.targetIsThisWindow(i,"form"))return!0;var u=r._checkFormSubmission(n(i.target).closest("form"));return u===!1?i.preventDefault():!1}),n(window).bind("unload",function(){r.unload()}),this.trigger("changed")},unload:function(){if(!this.isRunning())return!1;var t=this;return this.trigger("unload"),this._location_proxy.unbind(),this.$element().unbind("submit").removeClass(t.eventNamespace()),n.each(this.listeners.toHash(),function(i,r){n.each(r,function(n,r){t._unlisten(i,r)})}),this._running=!1,this},destroy:function(){return this.unload(),delete t.apps[this.element_selector],this},bindToAllEvents:function(t){var i=this;return n.each(this.APP_EVENTS,function(n,r){i.bind(r,t)}),n.each(this.listeners.keys(!0),function(r,u){n.inArray(u,i.APP_EVENTS)==-1&&i.bind(u,t)}),this},routablePath:function(n){return n.replace(c,"")},lookupRoute:function(n,t){var e=this,u=!1,i=0,f,r;if(typeof this.routes[n]!="undefined")for(f=this.routes[n].length;i<f;i++)if(r=this.routes[n][i],e.routablePath(t).match(r.path)){u=r;break}return u},runRoute:function(t,i,r,u){var s=this,f=this.lookupRoute(t,i),o,c,y,l,a,h,v,p;if(this.debug&&this.log("runRoute",[t,i].join(" ")),this.trigger("run-route",{verb:t,path:i,params:r}),typeof r=="undefined"&&(r={}),n.extend(r,this._parseQueryString(i)),f){this.trigger("route-found",{route:f});(v=f.path.exec(this.routablePath(i)))!==null&&(v.shift(),n.each(v,function(n,t){f.param_names[n]?r[f.param_names[n]]=e(t):(r.splat||(r.splat=[]),r.splat.push(e(t)))}));o=new this.context_prototype(this,t,i,r,u);y=this.arounds.slice(0);l=this.befores.slice(0);h=[o];r.splat&&(h=h.concat(r.splat));c=function(){for(var n,t,i;l.length>0;)if(a=l.shift(),s.contextMatchesOptions(o,a[0])&&(n=a[1].apply(o,[o]),n===!1))return!1;return s.last_route=f,o.trigger("event-context-before",{context:o}),typeof f.callback=="function"&&(f.callback=[f.callback]),f.callback&&f.callback.length&&(t=-1,i=function(){t++;f.callback[t]?n=f.callback[t].apply(o,h):s._onComplete&&typeof(s._onComplete==="function")&&s._onComplete(o)},h.push(i),i()),o.trigger("event-context-after",{context:o}),n};n.each(y.reverse(),function(n,t){var i=c;c=function(){return t.apply(o,[i])}});try{p=c()}catch(w){this.error(["500 Error",t,i].join(" "),w)}return p}return this.notFound(t,i)},contextMatchesOptions:function(t,i,r){var f=i,h,e,a,v,c,o,s;if((typeof f=="string"||l(f))&&(f={path:f}),typeof r=="undefined"&&(r=!0),n.isEmptyObject(f))return!0;if(u(f.path)){for(h=[],e=0,v=f.path.length;e<v;e+=1)a=n.extend({},f,{path:f.path[e]}),h.push(this.contextMatchesOptions(t,a));return c=n.inArray(!0,h)>-1?!0:!1,r?c:!c}return f.only?this.contextMatchesOptions(t,f.only,!0):f.except?this.contextMatchesOptions(t,f.except,!1):(o=!0,s=!0,f.path&&(l(f.path)||(f.path=new RegExp(f.path.toString()+"$")),o=f.path.test(t.path)),f.verb&&(s=typeof f.verb=="string"?f.verb===t.verb:f.verb.indexOf(t.verb)>-1),r?s&&o:!(s&&o))},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(n){return this._location_proxy.setLocation(n)},swap:function(n,t){var r=this.$element().html(n);return i(t)&&t(n),r},templateCache:function(n,t){return typeof t!="undefined"?h[n]=t:h[n]},clearTemplateCache:function(){return h={}},notFound:function(n,t){var i=this.error(["404 Not Found",n,t].join(" "));return n==="get"?i:!0},error:function(n,t){if(t||(t=new Error),t.message=[n,t.message].join(" "),this.trigger("error",{message:t.message,error:t}),this.raise_errors)throw t;else this.log(t.message,t)},_checkLocation:function(){var n,t;return n=this.getLocation(),this.last_location&&this.last_location[0]=="get"&&this.last_location[1]==n||(this.last_location=["get",n],t=this.runRoute("get",n)),t},_getFormVerb:function(t){var u=n(t),i,r;return r=u.find('input[name="_method"]'),r.length>0&&(i=r.val()),i||(i=u[0].getAttribute("method")),i&&i!==""||(i="get"),n.trim(i.toString().toLowerCase())},_checkFormSubmission:function(t){var i,r,f,u,e;return this.trigger("check-form-submission",{form:t}),i=n(t),r=i.attr("action")||"",f=this._getFormVerb(i),this.debug&&this.log("_checkFormSubmission",i,r,f),f==="get"?(u=this._serializeFormParams(i),u!==""&&(r+="?"+u),this.setLocation(r),e=!1):(u=n.extend({},this._parseFormParams(i)),e=this.runRoute(f,r,u,t.get(0))),typeof e=="undefined"?!1:e},_serializeFormParams:function(n){var r="",t=n.serializeArray(),i;if(t.length>0)for(r=this._encodeFormPair(t[0].name,t[0].value),i=1;i<t.length;i++)r=r+"&"+this._encodeFormPair(t[i].name,t[i].value);return r},_encodeFormPair:function(n,t){return a(n)+"="+a(t)},_parseFormParams:function(n){for(var i={},r=n.serializeArray(),t=0;t<r.length;t++)i=this._parseParamPair(i,r[t].name,r[t].value);return i},_parseQueryString:function(n){var r={},t,u,f,i;if(t=n.match(c),t&&t[1])for(u=t[1].split("&"),i=0;i<u.length;i++)f=u[i].split("="),r=this._parseParamPair(r,e(f[0]),e(f[1]||""));return r},_parseParamPair:function(n,t,i){return typeof n[t]!="undefined"?u(n[t])?n[t].push(i):n[t]=[n[t],i]:n[t]=i,n},_listen:function(n,t){return this.$element().bind([n,this.eventNamespace()].join("."),t)},_unlisten:function(n,t){return this.$element().unbind([n,this.eventNamespace()].join("."),t)}}),t.RenderContext=function(n){this.event_context=n;this.callbacks=[];this.previous_content=null;this.content=null;this.next_engine=!1;this.waiting=!1},t.RenderContext.prototype=n.extend({},t.Object.prototype,{then:function(n){var r,t;if(!i(n))if(typeof n=="string"&&n in this.event_context)r=this.event_context[n],n=function(n){return r.apply(this.event_context,[n])};else return this;return t=this,this.waiting?this.callbacks.push(n):(this.wait(),window.setTimeout(function(){var i=n.apply(t,[t.content,t.previous_content]);i!==!1&&t.next(i)},0)),this},wait:function(){this.waiting=!0},next:function(n){this.waiting=!1;typeof n!="undefined"&&(this.previous_content=this.content,this.content=n);this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(t,r,u){var f=this;return this.then(function(){var e,s,o;return(i(r)?(u=r,r={}):r=n.extend({},r),u&&this.then(u),typeof t=="string")?(o=t.match(/\.json(\?|$)/)||r.json,e=o?r.cache===!0:r.cache!==!1,f.next_engine=f.event_context.engineFor(t),delete r.cache,delete r.json,r.engine&&(f.next_engine=r.engine,delete r.engine),e&&(s=this.event_context.app.templateCache(t)))?s:(this.wait(),n.ajax(n.extend({url:t,data:{},dataType:o?"json":"text",type:"get",success:function(n){e&&f.event_context.app.templateCache(t,n);f.next(n)}},r)),!1):t.nodeType?t.innerHTML:t.selector?(f.next_engine=t.attr("data-engine"),r.clone===!1?t.remove()[0].innerHTML.toString():t[0].innerHTML.toString()):void 0})},loadPartials:function(n){var t;if(n){this.partials=this.partials||{};for(t in n)(function(t,i){t.load(n[i]).then(function(n){this.partials[i]=n})})(this,t)}return this},render:function(n,t,r,u){return i(n)&&!t?this.then(n):(i(t)?(u=r,r=t,t=null):r&&!i(r)&&(u=r,r=null),this.loadPartials(u).load(n).interpolate(t,n).then(r))},partial:function(n,t,r,u){return i(r)?this.render(n,t,u).swap(r):i(t)?this.render(n,{},r).swap(t):this.render(n,t,r).swap()},send:function(){var t=this,n=r(arguments),i=n.shift();return u(n[0])&&(n=n[0]),this.then(function(){return n.push(function(n){t.next(n)}),t.wait(),i.apply(i,n),!1})},collect:function(t,r,u){var e=this,f=function(){i(t)&&(r=t,t=this.content);var u=[],f=!1;return n.each(t,function(n,t){var i=r.apply(e,[n,t]);return i.jquery&&i.length==1&&(i=i[0],f=!0),u.push(i),i}),f?u:u.join("")};return u?f():this.then(f)},renderEach:function(t,i,r,f){return u(i)&&(f=r,r=i,i=null),this.load(t).then(function(e){var o=this;if(r||(r=u(this.previous_content)?this.previous_content:[]),f)n.each(r,function(n,r){var u={},s=this.next_engine||t;i?u[i]=r:u=r;f(r,o.event_context.interpolate(e,u,s))});else return this.collect(r,function(n,r){var u={},f=this.next_engine||t;return i?u[i]=r:u=r,this.event_context.interpolate(e,u,f)},!0)})},interpolate:function(n,t,i){var r=this;return this.then(function(u,f){!n&&f&&(n=f);this.next_engine&&(t=this.next_engine,this.next_engine=!1);var e=r.event_context.interpolate(u,n,t,this.partials);return i?f+e:e})},swap:function(n){return this.then(function(t){return this.event_context.swap(t,n),t}).trigger("changed",{})},appendTo:function(t){return this.then(function(i){n(t).append(i)}).trigger("changed",{})},prependTo:function(t){return this.then(function(i){n(t).prepend(i)}).trigger("changed",{})},replace:function(t){return this.then(function(i){n(t).html(i)}).trigger("changed",{})},trigger:function(n,t){return this.then(function(i){return typeof t=="undefined"&&(t={content:i}),this.event_context.trigger(n,t),i})}}),t.EventContext=function(n,i,r,u,f){this.app=n;this.verb=i;this.path=r;this.params=new t.Object(u);this.target=f},t.EventContext.prototype=n.extend({},t.Object.prototype,{$element:function(){return this.app.$element(r(arguments).shift())},engineFor:function(n){var t=this,r;return i(n)?n:(n=(n||t.app.template_engine).toString(),(r=n.match(/\.([^\.\?\#]+)(\?|$)/))&&(n=r[1]),n&&i(t[n]))?t[n]:t.app.template_engine?this.engineFor(t.app.template_engine):function(n){return n}},interpolate:function(n,t,i,r){return this.engineFor(i).apply(this,[n,t,r])},render:function(n,i,r,u){return new t.RenderContext(this).render(n,i,r,u)},renderEach:function(n,i,r,u){return new t.RenderContext(this).renderEach(n,i,r,u)},load:function(n,i,r){return new t.RenderContext(this).load(n,i,r)},loadPartials:function(n){return new t.RenderContext(this).loadPartials(n)},partial:function(n,i,r,u){return new t.RenderContext(this).partial(n,i,r,u)},send:function(){var n=new t.RenderContext(this);return n.send.apply(n,arguments)},redirect:function(){var t,i=r(arguments),l=this.app.getLocation(),o=i.length,e;if(o>1){for(var u=0,s=[],h=[],f={},c=!1;u<o;u++)typeof i[u]=="string"?s.push(i[u]):(n.extend(f,i[u]),c=!0);if(t=s.join("/"),c){for(e in f)h.push(this.app._encodeFormPair(e,f[e]));t+="?"+h.join("&")}}else t=i[0];this.trigger("redirect",{to:t});this.app.last_location=[this.verb,this.path];this.app.setLocation(t);new RegExp(t).test(l)&&this.app.trigger("location-changed")},trigger:function(n,t){return typeof t=="undefined"&&(t={}),t.context||(t.context=this),this.app.trigger(n,t)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(n,t){return this.app.swap(n,t)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(t){return n.parseJSON(t)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}}),t}),function(n){typeof define=="function"&&define.amd?define(["jquery","sammy"],n):(window.Sammy=window.Sammy||{}).Title=n(window.jQuery,window.Sammy)}(function(n,t){return t.Title=function(){this.setTitle=function(t){this.title_function=n.isFunction(t)?t:function(n){return[t,n].join(" ")}};this.helper("title",function(){var t=n.makeArray(arguments).join(" ");this.app.title_function&&(t=this.app.title_function(t));document.title=t})},t.Title}),function(n,t){"object"==typeof module&&module.exports?module.exports=n.document?t(n):t:n.Highcharts=t(n)}("undefined"!=typeof window?window:this,function(n){var t=function(){var t=n.document,i=n.navigator&&n.navigator.userAgent||"",u=t&&t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,f=/(edge|msie|trident)/i.test(i)&&!n.opera,r=/Firefox/.test(i),e=r&&4>parseInt(i.split("Firefox/")[1],10);return n.Highcharts?n.Highcharts.error(16,!0):{product:"Highcharts",version:"6.0.2",deg2rad:Math.PI/180,doc:t,hasBidiBug:e,hasTouch:t&&void 0!==t.documentElement.ontouchstart,isMS:f,isWebKit:/AppleWebKit/.test(i),isFirefox:r,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:u,win:n,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}(),i;return function(n){n.timers=[];var r=n.charts,i=n.doc,t=n.win;n.error=function(i,r){if(i=n.isNumber(i)?"Highcharts error #"+i+": www.highcharts.com/errors/"+i:i,r)throw Error(i);t.console&&console.log(i)};n.Fx=function(n,t,i){this.options=t;this.elem=n;this.prop=i};n.Fx.prototype={dSetter:function(){var r=this.paths[0],u=this.paths[1],t=[],f=this.now,n=r.length,i;if(1===f)t=this.toD;else if(n===u.length&&1>f)for(;n--;)i=parseFloat(r[n]),t[n]=isNaN(i)?r[n]:f*parseFloat(u[n]-i)+i;else t=u;this.elem.attr("d",t,null,!0)},update:function(){var n=this.elem,t=this.prop,i=this.now,r=this.options.step;this[t+"Setter"]?this[t+"Setter"]():n.attr?n.element&&n.attr(t,i,null,!0):n.style[t]=i+this.unit;r&&r.call(n,i,this)},run:function(i,r,u){var o=this,e=o.options,f=function(n){return f.stopped?!1:o.step(n)},s=t.requestAnimationFrame||function(n){setTimeout(n,13)},h=function(){n.timers=n.grep(n.timers,function(n){return n()});n.timers.length&&s(h)};i===r?(delete e.curAnim[this.prop],e.complete&&0===n.keys(e.curAnim).length&&e.complete()):(this.startTime=+new Date,this.start=i,this.end=r,this.unit=u,this.now=this.start,this.pos=0,f.elem=this.elem,f.prop=this.prop,f()&&1===n.timers.push(f)&&s(h))},step:function(t){var f=+new Date,r,i=this.options,u=this.elem,e=i.complete,o=i.duration,s=i.curAnim;return u.attr&&!u.element?t=!1:t||f>=o+this.startTime?(this.now=this.end,this.pos=1,this.update(),r=s[this.prop]=!0,n.objectEach(s,function(n){!0!==n&&(r=!1)}),r&&e&&e.call(u),t=!1):(this.pos=i.easing((f-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0),t},initPath:function(t,i,r){function y(n){var t,i;for(u=n.length;u--;)t="M"===n[u]||"L"===n[u],i=/[a-zA-Z]/.test(n[u+3]),t&&i&&n.splice(u+1,0,n[u+1],n[u+2],n[u+1],n[u+2])}function p(n,t){for(;n.length<h;){n[0]=t[h-n.length];var i=n.slice(0,f);[].splice.apply(n,[0,0].concat(i));a&&(i=n.slice(n.length-f),[].splice.apply(n,[n.length,0].concat(i)),u--)}n[0]="M"}function w(n,t){for(var i=(h-n.length)/f;0<i&&i--;)e=n.slice().splice(n.length/c-f,f*c),e[0]=t[h-f-i*f],v&&(e[f-6]=e[f-2],e[f-5]=e[f-1]),[].splice.apply(n,[n.length/c,0].concat(e)),a&&i--}var a,c,b;i=i||"";var o,s=t.startX,l=t.endX,v=-1<i.indexOf("C"),f=v?7:3,h,e,u;if(i=i.split(" "),r=r.slice(),a=t.isArea,c=a?2:1,v&&(y(i),y(r)),s&&l){for(u=0;u<s.length;u++)if(s[u]===l[0]){o=u;break}else if(s[0]===l[l.length-s.length+u]){o=u;b=!0;break}void 0===o&&(i=[])}return i.length&&n.isNumber(o)&&(h=r.length+o*c*f,b?(p(i,r),w(r,i)):(p(r,i),w(i,r))),[i,r]}};n.Fx.prototype.fillSetter=n.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,n.color(this.start).tweenTo(n.color(this.end),this.pos),null,!0)};n.extend=function(n,t){var i;n||(n={});for(i in t)n[i]=t[i];return n};n.merge=function(){var i,t=arguments,u,r={},f=function(t,i){return"object"!=typeof t&&(t={}),n.objectEach(i,function(r,u){t[u]=!n.isObject(r,!0)||n.isClass(r)||n.isDOMElement(r)?i[u]:f(t[u]||{},r)}),t};for(!0===t[0]&&(r=t[1],t=Array.prototype.slice.call(t,2)),u=t.length,i=0;i<u;i++)r=f(r,t[i]);return r};n.pInt=function(n,t){return parseInt(n,t||10)};n.isString=function(n){return"string"==typeof n};n.isArray=function(n){return n=Object.prototype.toString.call(n),"[object Array]"===n||"[object Array Iterator]"===n};n.isObject=function(t,i){return!!t&&"object"==typeof t&&(!i||!n.isArray(t))};n.isDOMElement=function(t){return n.isObject(t)&&"number"==typeof t.nodeType};n.isClass=function(t){var i=t&&t.constructor;return!(!n.isObject(t,!0)||n.isDOMElement(t)||!i||!i.name||"Object"===i.name)};n.isNumber=function(n){return"number"==typeof n&&!isNaN(n)};n.erase=function(n,t){for(var i=n.length;i--;)if(n[i]===t){n.splice(i,1);break}};n.defined=function(n){return void 0!==n&&null!==n};n.attr=function(t,i,r){var u;return n.isString(i)?n.defined(r)?t.setAttribute(i,r):t&&t.getAttribute&&(u=t.getAttribute(i)):n.defined(i)&&n.isObject(i)&&n.objectEach(i,function(n,i){t.setAttribute(i,n)}),u};n.splat=function(t){return n.isArray(t)?t:[t]};n.syncTimeout=function(n,t,i){if(t)return setTimeout(n,t,i);n.call(0,i)};n.pick=function(){for(var i=arguments,t,r=i.length,n=0;n<r;n++)if(t=i[n],void 0!==t&&null!==t)return t};n.css=function(t,i){n.isMS&&!n.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")");n.extend(t.style,i)};n.createElement=function(t,r,u,f,e){t=i.createElement(t);var o=n.css;return r&&n.extend(t,r),e&&o(t,{padding:0,border:"none",margin:0}),u&&o(t,u),f&&f.appendChild(t),t};n.extendClass=function(t,i){var r=function(){};return r.prototype=new t,n.extend(r.prototype,i),r};n.pad=function(n,t,i){return Array((t||2)+1-String(n).length).join(i||0)+n};n.relativeLength=function(n,t,i){return/%$/.test(n)?t*parseFloat(n)/100+(i||0):parseFloat(n)};n.wrap=function(n,t,i){var r=n[t];n[t]=function(){var n=Array.prototype.slice.call(arguments),u=arguments,t=this;return t.proceed=function(){r.apply(t,arguments.length?arguments:u)},n.unshift(r),n=i.apply(this,n),t.proceed=null,n}};n.getTZOffset=function(t){var i=n.Date;return 6e4*(i.hcGetTimezoneOffset&&i.hcGetTimezoneOffset(t)||i.hcTimezoneOffset||0)};n.dateFormat=function(t,i,r){if(!n.defined(i)||isNaN(i))return n.defaultOptions.lang.invalidDate||"";t=n.pick(t,"%Y-%m-%d %H:%M:%S");var u=n.Date,e=new u(i-n.getTZOffset(i)),o=e[u.hcGetHours](),s=e[u.hcGetDay](),l=e[u.hcGetDate](),c=e[u.hcGetMonth](),a=e[u.hcGetFullYear](),h=n.defaultOptions.lang,v=h.weekdays,y=h.shortWeekdays,f=n.pad,u=n.extend({a:y?y[s]:v[s].substr(0,3),A:v[s],d:f(l),e:f(l,2," "),w:s,b:h.shortMonths[c],B:h.months[c],m:f(c+1),y:a.toString().substr(2,2),Y:a,H:f(o),k:o,I:f(o%12||12),l:o%12||12,M:f(e[u.hcGetMinutes]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:f(e.getSeconds()),L:f(Math.round(i%1e3),3)},n.dateFormats);return n.objectEach(u,function(n,r){for(;-1!==t.indexOf("%"+r);)t=t.replace("%"+r,"function"==typeof n?n(i):n)}),r?t.substr(0,1).toUpperCase()+t.substr(1):t};n.formatSingle=function(t,i){var r=/\.([0-9])/,u=n.defaultOptions.lang;return/f$/.test(t)?(r=(r=t.match(r))?r[1]:-1,null!==i&&(i=n.numberFormat(i,r,u.decimalPoint,-1<t.indexOf(",")?u.thousandsSep:""))):i=n.dateFormat(t,i),i};n.format=function(t,i){for(var f="{",s=!1,r,h,e,c,o=[],u;t;){if(f=t.indexOf(f),-1===f)break;if(r=t.slice(0,f),s){for(r=r.split(":"),h=r.shift().split("."),c=h.length,u=i,e=0;e<c;e++)u&&(u=u[h[e]]);r.length&&(u=n.formatSingle(r.join(":"),u));o.push(u)}else o.push(r);t=t.slice(f+1);f=(s=!s)?"}":"{"}return o.push(t),o.join("")};n.getMagnitude=function(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))};n.normalizeTickInterval=function(t,i,r,u,f){var o,e=t;for(r=n.pick(r,1),o=t/r,i||(i=f?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===u&&(1===r?i=n.grep(i,function(n){return 0==n%1}):.1>=r&&(i=[1/r]))),u=0;u<i.length&&!(e=i[u],f&&e*r>=t||!f&&o<=(i[u]+(i[u+1]||i[u]))/2);u++);return n.correctFloat(e*r,-Math.round(Math.log(.001)/Math.LN10))};n.stableSort=function(n,t){for(var u=n.length,r,i=0;i<u;i++)n[i].safeI=i;for(n.sort(function(n,i){return r=t(n,i),0===r?n.safeI-i.safeI:r}),i=0;i<u;i++)delete n[i].safeI};n.arrayMin=function(n){for(var t=n.length,i=n[0];t--;)n[t]<i&&(i=n[t]);return i};n.arrayMax=function(n){for(var t=n.length,i=n[0];t--;)n[t]>i&&(i=n[t]);return i};n.destroyObjectProperties=function(t,i){n.objectEach(t,function(n,r){n&&n!==i&&n.destroy&&n.destroy();delete t[r]})};n.discardElement=function(t){var i=n.garbageBin;i||(i=n.createElement("div"));t&&i.appendChild(t);i.innerHTML=""};n.correctFloat=function(n,t){return parseFloat(n.toPrecision(t||14))};n.setAnimation=function(t,i){i.renderer.globalAnimation=n.pick(t,i.options.chart.animation,!0)};n.animObject=function(t){return n.isObject(t)?n.merge(t):{duration:t?500:0}};n.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5};n.numberFormat=function(t,i,r,u){t=+t||0;i=+i;var h=n.defaultOptions.lang,f=(t.toString().split(".")[1]||"").split("e")[0].length,e,s,o=t.toString().split("e");return-1===i?i=Math.min(f,20):n.isNumber(i)||(i=2),s=(Math.abs(o[1]?o[0]:t)+Math.pow(10,-Math.max(i,f)-1)).toFixed(i),f=String(n.pInt(s)),e=3<f.length?f.length%3:0,r=n.pick(r,h.decimalPoint),u=n.pick(u,h.thousandsSep),t=(0>t?"-":"")+(e?f.substr(0,e)+u:""),t+=f.substr(e).replace(/(\d{3})(?=\d)/g,"$1"+u),i&&(t+=r+s.slice(-i)),o[1]&&(t+="e"+o[1]),t};Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};n.getStyle=function(i,r,u){return"width"===r?Math.min(i.offsetWidth,i.scrollWidth)-n.getStyle(i,"padding-left")-n.getStyle(i,"padding-right"):"height"===r?Math.min(i.offsetHeight,i.scrollHeight)-n.getStyle(i,"padding-top")-n.getStyle(i,"padding-bottom"):(t.getComputedStyle||n.error(27,!0),(i=t.getComputedStyle(i,void 0))&&(i=i.getPropertyValue(r),n.pick(u,"opacity"!==r)&&(i=n.pInt(i))),i)};n.inArray=function(t,i){return(n.indexOfPolyfill||Array.prototype.indexOf).call(i,t)};n.grep=function(t,i){return(n.filterPolyfill||Array.prototype.filter).call(t,i)};n.find=Array.prototype.find?function(n,t){return n.find(t)}:function(n,t){for(var r=n.length,i=0;i<r;i++)if(t(n[i],i))return n[i]};n.map=function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)r[i]=t.call(n[i],n[i],i,n);return r};n.keys=function(t){return(n.keysPolyfill||Object.keys).call(void 0,t)};n.reduce=function(t,i,r){return(n.reducePolyfill||Array.prototype.reduce).call(t,i,r)};n.offset=function(n){var r=i.documentElement;return n=n.parentElement?n.getBoundingClientRect():{top:0,left:0},{top:n.top+(t.pageYOffset||r.scrollTop)-(r.clientTop||0),left:n.left+(t.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}};n.stop=function(t,i){for(var r=n.timers.length;r--;)n.timers[r].elem!==t||i&&i!==n.timers[r].prop||(n.timers[r].stopped=!0)};n.each=function(t,i,r){return(n.forEachPolyfill||Array.prototype.forEach).call(t,i,r)};n.objectEach=function(n,t,i){for(var r in n)n.hasOwnProperty(r)&&t.call(i,n[r],r,n)};n.addEvent=function(t,i,r){var u=t.hcEvents=t.hcEvents||{},f=t.addEventListener||n.addEventListenerPolyfill;return f&&f.call(t,i,r,!1),u[i]||(u[i]=[]),u[i].push(r),function(){n.removeEvent(t,i,r)}};n.removeEvent=function(t,i,r){function o(i,r){var u=t.removeEventListener||n.removeEventListenerPolyfill;u&&u.call(t,i,r,!1)}function s(){var r,f;t.nodeName&&(i?(r={},r[i]=!0):r=u,n.objectEach(r,function(n,t){if(u[t])for(f=u[t].length;f--;)o(t,u[t][f])}))}var f,u=t.hcEvents,e;u&&(i?(f=u[i]||[],r?(e=n.inArray(r,f),-1<e&&(f.splice(e,1),u[i]=f),o(i,r)):(s(),u[i]=[])):(s(),t.hcEvents={}))};n.fireEvent=function(t,r,u,f){var e,o,s;if(e=t.hcEvents,u=u||{},i.createEvent&&(t.dispatchEvent||t.fireEvent))e=i.createEvent("Events"),e.initEvent(r,!0,!0),n.extend(e,u),t.dispatchEvent?t.dispatchEvent(e):t.fireEvent(r,e);else if(e)for(e=e[r]||[],o=e.length,u.target||n.extend(u,{preventDefault:function(){u.defaultPrevented=!0},target:t,type:r}),r=0;r<o;r++)(s=e[r])&&!1===s.call(t,u)&&u.preventDefault();f&&!u.defaultPrevented&&f(u)};n.animate=function(t,i,r){var e,s="",u,f,o;n.isObject(r)||(o=arguments,r={duration:o[2],easing:o[3],complete:o[4]});n.isNumber(r.duration)||(r.duration=400);r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine;r.curAnim=n.merge(i);n.objectEach(i,function(o,h){n.stop(t,h);f=new n.Fx(t,r,h);u=null;"d"===h?(f.paths=f.initPath(t,t.d,i.d),f.toD=i.d,e=0,u=1):t.attr?e=t.attr(h):(e=parseFloat(n.getStyle(t,h))||0,"opacity"!==h&&(s="px"));u||(u=o);u&&u.match&&u.match("px")&&(u=u.replace(/px/g,""));f.run(e,u,s)})};n.seriesType=function(t,i,r,u,f){var o=n.getOptions(),e=n.seriesTypes;return o.plotOptions[t]=n.merge(o.plotOptions[i],r),e[t]=n.extendClass(e[i]||function(){},u),e[t].prototype.type=t,f&&(e[t].prototype.pointClass=n.extendClass(n.Point,f)),e[t]};n.uniqueKey=function(){var n=Math.random().toString(36).substring(2,9),t=0;return function(){return"highcharts-"+n+"-"+t++}}();t.jQuery&&(t.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new n[n.isString(t[0])?t.shift():"Chart"](this[0],t[0],t[1]),this):r[n.attr(this[0],"data-highcharts-chart")]})}(t),function(n){var i=n.each,r=n.isNumber,u=n.map,f=n.merge,t=n.pInt;n.Color=function(t){if(!(this instanceof n.Color))return new n.Color(t);this.init(t)};n.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(n){return[t(n[1]),t(n[2]),t(n[3]),parseFloat(n[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(n){return[t(n[1]),t(n[2]),t(n[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(t){var r,i,f,e;if((this.input=t=this.names[t&&t.toLowerCase?t.toLowerCase():""]||t)&&t.stops)this.stops=u(t.stops,function(t){return new n.Color(t[1])});else if(t&&t.charAt&&"#"===t.charAt()&&(r=t.length,t=parseInt(t.substr(1),16),7===r?i=[(t&16711680)>>16,(t&65280)>>8,t&255,1]:4===r&&(i=[(t&3840)>>4|(t&3840)>>8,(t&240)>>4|t&240,(t&15)<<4|t&15,1])),!i)for(f=this.parsers.length;f--&&!i;)e=this.parsers[f],(r=e.regex.exec(t))&&(i=e.parse(r));this.rgba=i||[]},get:function(n){var e=this.input,t=this.rgba,u;return this.stops?(u=f(e),u.stops=[].concat(u.stops),i(this.stops,function(t,i){u.stops[i]=[u.stops[i][0],t.get(n)]})):u=t&&r(t[0])?"rgb"===n||!n&&1===t[3]?"rgb("+t[0]+","+t[1]+","+t[2]+")":"a"===n?t[3]:"rgba("+t.join(",")+")":e,u},brighten:function(n){var u,f=this.rgba;if(this.stops)i(this.stops,function(t){t.brighten(n)});else if(r(n)&&0!==n)for(u=0;3>u;u++)f[u]+=t(255*n),0>f[u]&&(f[u]=0),255<f[u]&&(f[u]=255);return this},setOpacity:function(n){return this.rgba[3]=n,this},tweenTo:function(n,t){var r=this.rgba,i=n.rgba;return i.length&&r&&r.length?(n=1!==i[3]||1!==r[3],t=(n?"rgba(":"rgb(")+Math.round(i[0]+(r[0]-i[0])*(1-t))+","+Math.round(i[1]+(r[1]-i[1])*(1-t))+","+Math.round(i[2]+(r[2]-i[2])*(1-t))+(n?","+(i[3]+(r[3]-i[3])*(1-t)):"")+")"):t=n.input||"none",t}};n.color=function(t){return new n.Color(t)}}(t),function(n){var i,p,w=n.addEvent,ot=n.animate,u=n.attr,st=n.charts,ht=n.color,c=n.css,tt=n.createElement,t=n.defined,b=n.deg2rad,ct=n.destroyObjectProperties,f=n.doc,o=n.each,e=n.extend,k=n.erase,lt=n.grep,at=n.hasTouch,it=n.inArray,rt=n.isArray,ut=n.isFirefox,d=n.isMS,l=n.isObject,vt=n.isString,yt=n.isWebKit,h=n.merge,pt=n.noop,s=n.objectEach,r=n.pick,a=n.pInt,ft=n.removeEvent,et=n.stop,y=n.svg,g=n.SVG_NS,v=n.symbolSizes,nt=n.win;i=n.SVGElement=function(){return this};e(i.prototype,{opacity:1,SVG_NS:g,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(n,t){this.element="span"===t?tt(t):f.createElementNS(this.SVG_NS,t);this.renderer=n},animate:function(t,i,u){return i=n.animObject(r(i,this.renderer.globalAnimation,!0)),0!==i.duration?(u&&(i.complete=u),ot(this,t,i)):(this.attr(t,null,u),i.step&&i.step.call(this)),this},colorGradient:function(i,r,u){var l=this.renderer,p,c,f,w,y,v,b,k,d,a,e=[],g;i.radialGradient?c="radialGradient":i.linearGradient&&(c="linearGradient");c&&(f=i[c],y=l.gradients,b=i.stops,a=u.radialReference,rt(f)&&(i[c]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===c&&a&&!t(f.gradientUnits)&&(w=f,f=h(f,l.getRadialAttr(a,w),{gradientUnits:"userSpaceOnUse"})),s(f,function(n,t){"id"!==t&&e.push(t,n)}),s(b,function(n){e.push(n)}),e=e.join(","),y[e]?a=y[e].attr("id"):(f.id=a=n.uniqueKey(),y[e]=v=l.createElement(c).attr(f).add(l.defs),v.radAttr=w,v.stops=[],o(b,function(t){0===t[1].indexOf("rgba")?(p=n.color(t[1]),k=p.get("rgb"),d=p.get("a")):(k=t[1],d=1);t=l.createElement("stop").attr({offset:t[0],"stop-color":k,"stop-opacity":d}).add(v);v.stops.push(t)})),g="url("+l.url+"#"+a+")",u.setAttribute(r,g),u.gradient=e,i.toString=function(){return g})},applyTextOutline:function(t){var i=this.element,f,e,r,h,s;if(-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),t=t.split(" "),e=t[t.length-1],(r=t[0])&&"none"!==r&&n.svg){for(this.fakeTS=!0,t=[].slice.call(i.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(n,t,i){return 2*t+i}),s=t.length;s--;)f=t[s],"highcharts-text-outline"===f.getAttribute("class")&&k(t,i.removeChild(f));h=i.firstChild;o(t,function(n,t){0===t&&(n.setAttribute("x",i.getAttribute("x")),t=i.getAttribute("y"),n.setAttribute("y",t||0),null===t&&i.setAttribute("y",0));n=n.cloneNode(1);u(n,{"class":"highcharts-text-outline",fill:e,stroke:e,"stroke-width":r,"stroke-linejoin":"round"});i.insertBefore(n,h)})}},attr:function(n,t,i,r){var e,o=this.element,h,c=this,u,f;return"string"==typeof n&&void 0!==t&&(e=n,n={},n[e]=t),"string"==typeof n?c=(this[n+"Getter"]||this._defaultGetter).call(this,n,o):(s(n,function(t,i){u=!1;r||et(this,i);this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(h||(this.symbolAttr(n),h=!0),u=!0);this.rotation&&("x"===i||"y"===i)&&(this.doTransform=!0);u||(f=this[i+"Setter"]||this._defaultSetter,f.call(this,t,i,o),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,t,f))},this),this.afterSetters()),i&&i(),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(n,t,i){for(var r=this.shadows,u=r.length;u--;)i.call(r[u],"height"===n?Math.max(t-(r[u].cutHeight||0),0):"d"===n?this.d:t,n,r[u])},addClass:function(n,t){var i=this.attr("class")||"";return-1===i.indexOf(n)&&(t||(n=(i+(i?" ":"")+n).replace("  "," ")),this.attr("class",n)),this},hasClass:function(n){return-1!==it(n,(this.attr("class")||"").split(" "))},removeClass:function(n){return this.attr("class",(this.attr("class")||"").replace(n,""))},symbolAttr:function(n){var t=this;o("x y r start end width height innerR anchorX anchorY".split(" "),function(i){t[i]=r(n[i],t[i])});t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":"none")},crisp:function(n,i){var r=this,f={},u;return i=i||n.strokeWidth||0,u=Math.round(i)%2/2,n.x=Math.floor(n.x||r.x||0)+u,n.y=Math.floor(n.y||r.y||0)+u,n.width=Math.floor((n.width||r.width||0)-2*u),n.height=Math.floor((n.height||r.height||0)-2*u),t(n.strokeWidth)&&(n.strokeWidth=i),s(n,function(n,t){r[t]!==n&&(r[t]=f[t]=n)}),f},css:function(n){var t=this.styles,r={},f=this.element,o,i="",h,l=!t,v=["textOutline","textOverflow","width"];return n&&n.color&&(n.fill=n.color),t&&s(n,function(n,i){n!==t[i]&&(r[i]=n,l=!0)}),l&&(t&&(n=e(t,r)),o=this.textWidth=n&&n.width&&"auto"!==n.width&&"text"===f.nodeName.toLowerCase()&&a(n.width),this.styles=n,o&&!y&&this.renderer.forExport&&delete n.width,d&&!y?c(this.element,n):(h=function(n,t){return"-"+t.toLowerCase()},s(n,function(n,t){-1===it(t,v)&&(i+=t.replace(/([A-Z])/g,h)+":"+n+";")}),i&&u(f,"style",i)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),n&&n.textOutline&&this.applyTextOutline(n.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(n,t){var r=this,i=r.element;return at&&"click"===n?(i.ontouchstart=function(n){r.touchEventFired=Date.now();n.preventDefault();t.call(i,n)},i.onclick=function(n){(-1===nt.navigator.userAgent.indexOf("Android")||1100<Date.now()-(r.touchEventFired||0))&&t.call(i,n)}):i["on"+n]=t,this},setRadialReference:function(n){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=n,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(n,t.radAttr)),this},translate:function(n,t){return this.attr({translateX:n,translateY:t})},invert:function(n){return this.inverted=n,this.updateTransform(),this},updateTransform:function(){var n=this.translateX||0,u=this.translateY||0,f=this.scaleX,e=this.scaleY,o=this.inverted,s=this.rotation,h=this.matrix,i=this.element;o&&(n+=this.width,u+=this.height);n=["translate("+n+","+u+")"];t(h)&&n.push("matrix("+h.join(",")+")");o?n.push("rotate(90) scale(-1,1)"):s&&n.push("rotate("+s+" "+r(this.rotationOriginX,i.getAttribute("x"),0)+" "+r(this.rotationOriginY,i.getAttribute("y")||0)+")");(t(f)||t(e))&&n.push("scale("+r(f,1)+" "+r(e,1)+")");n.length&&i.setAttribute("transform",n.join(" "))},toFront:function(){var n=this.element;return n.parentNode.appendChild(n),this},align:function(n,t,i){var f,u,e,c,o={},s,h;return u=this.renderer,e=u.alignedObjects,n?(this.alignOptions=n,this.alignByTranslate=t,!i||vt(i))&&(this.alignTo=f=i||"renderer",k(e,this),e.push(this),i=null):(n=this.alignOptions,t=this.alignByTranslate,f=this.alignTo),i=r(i,u[f],u),f=n.align,u=n.verticalAlign,e=(i.x||0)+(n.x||0),c=(i.y||0)+(n.y||0),"right"===f?s=1:"center"===f&&(s=2),s&&(e+=(i.width-(n.width||0))/s),o[t?"translateX":"x"]=Math.round(e),"bottom"===u?h=1:"middle"===u&&(h=2),h&&(c+=(i.height-(n.height||0))/h),o[t?"translateY":"y"]=Math.round(c),this[this.placed?"animate":"attr"](o),this.placed=!0,this.alignAttr=o,this},getBBox:function(n,t){var i,f=this.renderer,c,h=this.element,s=this.styles,y,p=this.textStr,l,a=f.cache,v=f.cacheKeys,u;if(t=r(t,this.rotation),c=t*b,y=s&&s.fontSize,void 0!==p&&(u=p.toString(),-1===u.indexOf("<")&&(u=u.replace(/[0-9]/g,"0")),u+=["",t||0,y,s&&s.width,s&&s.textOverflow].join()),u&&!n&&(i=a[u]),!i){if(h.namespaceURI===this.SVG_NS||f.forExport){try{(l=this.fakeTS&&function(n){o(h.querySelectorAll(".highcharts-text-outline"),function(t){t.style.display=n})})&&l("none");i=h.getBBox?e({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight};l&&l("")}catch(w){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(f.isSVG&&(n=i.width,f=i.height,s&&"11px"===s.fontSize&&17===Math.round(f)&&(i.height=f=14),t&&(i.width=Math.abs(f*Math.sin(c))+Math.abs(n*Math.cos(c)),i.height=Math.abs(f*Math.cos(c))+Math.abs(n*Math.sin(c)))),u&&0<i.height){for(;250<v.length;)delete a[v.shift()];a[u]||v.push(u);a[u]=i}}return i},show:function(n){return this.attr({visibility:n?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(n){var t=this;t.animate({opacity:0},{duration:n||150,complete:function(){t.attr({y:-9999})}})},add:function(n){var t=this.renderer,r=this.element,i;return n&&(this.parentGroup=n),this.parentInverted=n&&n.inverted,void 0!==this.textStr&&t.buildText(this),this.added=!0,(!n||n.handleZ||this.zIndex)&&(i=this.zIndexSetter()),i||(n?n.element:t.box).appendChild(r),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(n){var t=n.parentNode;t&&t.removeChild(n)},destroy:function(){var n=this,t=n.element||{},i=n.renderer.isSVG&&"SPAN"===t.nodeName&&n.parentGroup,r=t.ownerSVGElement;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,et(n),n.clipPath&&r&&(o(r.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){t.getAttribute("clip-path").match(RegExp('[("]#'+n.clipPath.element.id+'[)"]'))&&t.removeAttribute("clip-path")}),n.clipPath=n.clipPath.destroy()),n.stops){for(r=0;r<n.stops.length;r++)n.stops[r]=n.stops[r].destroy();n.stops=null}for(n.safeRemoveChild(t),n.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)t=i.parentGroup,n.safeRemoveChild(i.div),delete i.div,i=t;return n.alignTo&&k(n.renderer.alignedObjects,n),s(n,function(t,i){delete n[i]}),null},shadow:function(n,t,i){var c=[],e,f,o=this.element,s,h,l,a;if(n){if(!this.shadows){for(h=r(n.width,3),l=(n.opacity||.15)/h,a=this.parentInverted?"(-1,-1)":"("+r(n.offsetX,1)+", "+r(n.offsetY,1)+")",e=1;e<=h;e++)f=o.cloneNode(0),s=2*h+1-2*e,u(f,{isShadow:"true",stroke:n.color||"#000000","stroke-opacity":l*e,"stroke-width":s,transform:"translate"+a,fill:"none"}),i&&(u(f,"height",Math.max(u(f,"height")-s,0)),f.cutHeight=s),t?t.element.appendChild(f):o.parentNode&&o.parentNode.insertBefore(f,o),c.push(f);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){o(this.shadows||[],function(n){this.safeRemoveChild(n)},this);this.shadows=void 0},xGetter:function(n){return"circle"===this.element.nodeName&&("x"===n?n="cx":"y"===n&&(n="cy")),this._defaultGetter(n)},_defaultGetter:function(n){return n=r(this[n],this.element?this.element.getAttribute(n):null,0),/^[\-0-9\.]+$/.test(n)&&(n=parseFloat(n)),n},dSetter:function(n,t,i){n&&n.join&&(n=n.join(" "));/(NaN| {2}|^$)/.test(n)&&(n="M 0 0");this[t]!==n&&(i.setAttribute(t,n),this[t]=n)},dashstyleSetter:function(n){var t,i=this["stroke-width"];if("inherit"===i&&(i=1),n=n&&n.toLowerCase()){for(n=n.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=n.length;t--;)n[t]=a(n[t])*i;n=n.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",n)}},alignSetter:function(n){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[n])},opacitySetter:function(n,t,i){this[t]=n;i.setAttribute(t,n)},titleSetter:function(n){var t=this.element.getElementsByTagName("title")[0];t||(t=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(t));t.firstChild&&t.removeChild(t.firstChild);t.appendChild(f.createTextNode(String(r(n),"").replace(/<[^>]*>/g,"")))},textSetter:function(n){n!==this.textStr&&(delete this.bBox,this.textStr=n,this.added&&this.renderer.buildText(this))},fillSetter:function(n,t,i){"string"==typeof n?i.setAttribute(t,n):n&&this.colorGradient(n,t,i)},visibilitySetter:function(n,t,i){"inherit"===n?i.removeAttribute(t):this[t]!==n&&i.setAttribute(t,n);this[t]=n},zIndexSetter:function(n,i){var o=this.renderer,u=this.parentGroup,s=(u||o).element||o.box,f,h=this.element,e,c,o=s===o.box,r;if(f=this.added,t(n)&&(h.zIndex=n,n=+n,this[i]===n&&(f=!1),this[i]=n),f){for((n=this.zIndex)&&u&&(u.handleZ=!0),i=s.childNodes,r=i.length-1;0<=r&&!e;r--)(u=i[r],f=u.zIndex,c=!t(f),u!==h)&&(0>n&&c&&!o&&!r?(s.insertBefore(h,i[r]),e=!0):(a(f)<=n||c&&(!t(n)||0<=n))&&(s.insertBefore(h,i[r+1]||null),e=!0));e||(s.insertBefore(h,i[o?3:0]||null),e=!0)}return e},_defaultSetter:function(n,t,i){i.setAttribute(t,n)}});i.prototype.yGetter=i.prototype.xGetter;i.prototype.translateXSetter=i.prototype.translateYSetter=i.prototype.rotationSetter=i.prototype.verticalAlignSetter=i.prototype.rotationOriginXSetter=i.prototype.rotationOriginYSetter=i.prototype.scaleXSetter=i.prototype.scaleYSetter=i.prototype.matrixSetter=function(n,t){this[t]=n;this.doTransform=!0};i.prototype["stroke-widthSetter"]=i.prototype.strokeSetter=function(n,t,r){this[t]=n;this.stroke&&this["stroke-width"]?(i.prototype.fillSetter.call(this,this.stroke,"stroke",r),r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===n&&this.hasStroke&&(r.removeAttribute("stroke"),this.hasStroke=!1)};p=n.SVGRenderer=function(){this.init.apply(this,arguments)};e(p.prototype,{Element:i,SVG_NS:g,init:function(n,t,i,r,e,o){var h,s;r=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(r));h=r.element;n.appendChild(h);-1===n.innerHTML.indexOf("xmlns")&&u(h,"xmlns",this.SVG_NS);this.isSVG=!0;this.box=h;this.boxWrapper=r;this.alignedObjects=[];this.url=(ut||yt)&&f.getElementsByTagName("base").length?nt.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highcharts 6.0.2"));this.defs=this.createElement("defs").add();this.allowHTML=o;this.forExport=e;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(t,i,!1);ut&&n.getBoundingClientRect&&(t=function(){c(n,{left:0,top:0});s=n.getBoundingClientRect();c(n,{left:Math.ceil(s.left)-s.left+"px",top:Math.ceil(s.top)-s.top+"px"})},t(),this.unSubPixelFix=w(nt,"resize",t))},getStyle:function(n){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},n)},setStyle:function(n){this.boxWrapper.css(this.getStyle(n))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),ct(this.gradients||{}),this.gradients=null,n&&(this.defs=n.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(n){var t=new this.Element;return t.init(this,n),t},draw:pt,getRadialAttr:function(n,t){return{cx:n[0]-n[2]/2+t.cx*n[2],cy:n[1]-n[2]/2+t.cy*n[2],r:t.r*n[2]}},getSpanWidth:function(n,t){var i=n.getBBox(!0).width;return!y&&this.forExport&&(i=this.measureSpanWidth(t.firstChild.data,n.styles)),i},applyEllipsis:function(n,t,i,r){var l=n.rotation,u=i,s,o=0,e=i.length,h=function(n){t.removeChild(t.firstChild);n&&t.appendChild(f.createTextNode(n))},c;if(n.rotation=0,u=this.getSpanWidth(n,t),c=u>r){for(;o<=e;)s=Math.ceil((o+e)/2),u=i.substring(0,s)+"",h(u),u=this.getSpanWidth(n,t),o===e?o=e+1:u>r?e=s-1:o=s;0===e&&h("")}return n.rotation=l,c},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot"},buildText:function(n){var i=n.element,l=this,ft=l.forExport,e=r(n.textStr,"").toString(),et=-1!==e.indexOf("<"),ot=i.childNodes,b,k,d,v,nt=u(i,"x"),t=n.styles,h=n.textWidth,tt=t&&t.lineHeight,p=t&&t.textOutline,w=t&&"ellipsis"===t.textOverflow,it=t&&"nowrap"===t.whiteSpace,st=t&&t.fontSize,rt,ut,ht=ot.length,t=h&&!n.added&&this.box,ct=function(n){var t;return t=/(px|em)$/.test(n&&n.style.fontSize)?n.style.fontSize:st||l.style.fontSize||12,tt?a(tt):l.fontMetrics(t,n.getAttribute("style")?n:i).h},at=function(n){return s(l.escapes,function(t,i){n=n.replace(new RegExp(t,"g"),i)}),n};if(rt=[e,w,it,tt,p,st,h].join(),rt!==n.textCache){for(n.textCache=rt;ht--;)i.removeChild(ot[ht]);et||p||w||h||-1!==e.indexOf(" ")?(b=/<.*class="([^"]+)".*>/,k=/<.*style="([^"]+)".*>/,d=/<.*href="([^"]+)".*>/,t&&t.appendChild(i),e=et?e.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"<\/span>").split(/<br.*?>/g):[e],e=lt(e,function(n){return""!==n}),o(e,function(t,r){var e,s=0;t=t.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"<\/span>|||");e=t.split("|||");o(e,function(t){var a,o,p,tt;if((""!==t||1===e.length)&&(a={},o=f.createElementNS(l.SVG_NS,"tspan"),b.test(t)&&(p=t.match(b)[1],u(o,"class",p)),k.test(t)&&(tt=t.match(k)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(o,"style",tt)),d.test(t)&&!ft&&(u(o,"onclick",'location.href="'+t.match(d)[1]+'"'),u(o,"class","highcharts-anchor"),c(o,{cursor:"pointer"})),t=at(t.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" ")," "!==t)){if(o.appendChild(f.createTextNode(t)),s?a.dx=0:r&&null!==nt&&(a.x=nt),u(o,a),i.appendChild(o),!s&&ut&&(!y&&ft&&c(o,{display:"block"}),u(o,"dy",ct(o))),h){a=t.replace(/([^\^])-/g,"$1- ").split(" ");p=1<e.length||r||1<a.length&&!it;var rt=[],et,ot=ct(o),st=n.rotation;for(w&&(v=l.applyEllipsis(n,o,t,h));!w&&p&&(a.length||rt.length);)n.rotation=0,et=l.getSpanWidth(n,o),t=et>h,void 0===v&&(v=t),t&&1!==a.length?(o.removeChild(o.firstChild),rt.unshift(a.pop())):(a=rt,rt=[],a.length&&!it&&(o=f.createElementNS(g,"tspan"),u(o,{dy:ot,x:nt}),tt&&u(o,"style",tt),i.appendChild(o)),et>h&&(h=et)),a.length&&o.appendChild(f.createTextNode(a.join(" ").replace(/- /g,"-")));n.rotation=st}s++}});ut=ut||i.childNodes.length}),v&&n.attr("title",n.textStr),t&&t.removeChild(i),p&&n.applyTextOutline&&n.applyTextOutline(p)):i.appendChild(f.createTextNode(at(e)))}},getContrast:function(n){return n=ht(n).rgba,510<n[0]+n[1]+n[2]?"#000000":"#FFFFFF"},button:function(n,t,i,r,u,f,o,s,c){var l=this.label(n,t,i,c,null,null,null,null,"button"),a=0,v,y,p,b;l.attr(h({padding:8,r:2},u));u=h({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},u);v=u.style;delete u.style;f=h(u,{fill:"#e6e6e6"},f);y=f.style;delete f.style;o=h(u,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},o);p=o.style;delete o.style;s=h(u,{style:{color:"#cccccc"}},s);b=s.style;delete s.style;w(l.element,d?"mouseover":"mouseenter",function(){3!==a&&l.setState(1)});w(l.element,d?"mouseout":"mouseleave",function(){3!==a&&l.setState(a)});l.setState=function(n){1!==n&&(l.state=a=n);l.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][n||0]);l.attr([u,f,o,s][n||0]).css([v,y,p,b][n||0])};l.attr(u).css(e({cursor:"default"},v));return l.on("click",function(n){3!==a&&r.call(l,n)})},crispLine:function(n,t){return n[1]===n[4]&&(n[1]=n[4]=Math.round(n[1])-t%2/2),n[2]===n[5]&&(n[2]=n[5]=Math.round(n[2])+t%2/2),n},path:function(n){var t={fill:"none"};return rt(n)?t.d=n:l(n)&&e(t,n),this.createElement("path").attr(t)},circle:function(n,t,i){return n=l(n)?n:{x:n,y:t,r:i},t=this.createElement("circle"),t.xSetter=t.ySetter=function(n,t,i){i.setAttribute("c"+t,n)},t.attr(n)},arc:function(n,t,i,r,u,f){return l(n)?(r=n,t=r.y,i=r.r,n=r.x):r={innerR:r,start:u,end:f},n=this.symbol("arc",n,t,i,i,r),n.r=i,n},rect:function(n,t,i,r,f,e){f=l(n)?n.r:f;var o=this.createElement("rect");return n=l(n)?n:void 0===n?{}:{x:n,y:t,width:Math.max(i,0),height:Math.max(r,0)},void 0!==e&&(n.strokeWidth=e,n=o.crisp(n)),n.fill="none",f&&(n.r=f),o.rSetter=function(n,t,i){u(i,{rx:n,ry:n})},o.attr(n)},setSize:function(n,t,i){var u=this.alignedObjects,f=u.length;for(this.width=n,this.height=t,this.boxWrapper.animate({width:n,height:t},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:r(i,!0)?void 0:0});f--;)u[f].align()},g:function(n){var t=this.createElement("g");return n?t.attr({"class":"highcharts-"+n}):t},image:function(n,t,i,r,u){var f={preserveAspectRatio:"none"};return 1<arguments.length&&e(f,{x:t,y:i,width:r,height:u}),f=this.createElement("image").attr(f),f.element.setAttributeNS?f.element.setAttributeNS("http://www.w3.org/1999/xlink","href",n):f.element.setAttribute("hc-svg-href",n),f},symbol:function(n,i,u,s,h,l){var p=this,a,d=/^url\((.*?)\)$/,g=d.test(n),w=!g&&(this.symbols[n]?n:"circle"),b=w&&this.symbols[w],nt=t(i)&&b&&b.call(this.symbols,Math.round(i),Math.round(u),s,h,l),y,k;return b?(a=this.path(nt),a.attr("fill","none"),e(a,{symbolName:w,x:i,y:u,width:s,height:h}),l&&e(a,l)):g&&(y=n.match(d)[1],a=this.image(y),a.imgwidth=r(v[y]&&v[y].width,l&&l.width),a.imgheight=r(v[y]&&v[y].height,l&&l.height),k=function(){a.attr({width:a.width,height:a.height})},o(["width","height"],function(n){a[n+"Setter"]=function(n,i){var u={},r=this["img"+i],f="width"===i?"translateX":"translateY";this[i]=n;t(r)&&(this.element&&this.element.setAttribute(i,r),this.alignByTranslate||(u[f]=((this[i]||0)-r)/2,this.attr(u)))}}),t(i)&&a.attr({x:i,y:u}),a.isImg=!0,t(a.imgwidth)&&t(a.imgheight)?k():(a.attr({width:0,height:0}),tt("img",{onload:function(){var n=st[p.chartIndex];0===this.width&&(c(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this));v[y]={width:this.width,height:this.height};a.imgwidth=this.width;a.imgheight=this.height;a.element&&k();this.parentNode&&this.parentNode.removeChild(this);p.imgCount--;!p.imgCount&&n&&n.onload&&n.onload()},src:y}),this.imgCount++)),a},symbols:{circle:function(n,t,i,r){return this.arc(n+i/2,t+r/2,i/2,r/2,{start:0,end:2*Math.PI,open:!1})},square:function(n,t,i,r){return["M",n,t,"L",n+i,t,n+i,t+r,n,t+r,"Z"]},triangle:function(n,t,i,r){return["M",n+i/2,t,"L",n+i,t+r,n,t+r,"Z"]},"triangle-down":function(n,t,i,r){return["M",n,t,"L",n+i,t,n+i/2,t+r,"Z"]},diamond:function(n,t,i,r){return["M",n+i/2,t,"L",n+i,t+r/2,n+i/2,t+r,n,t+r/2,"Z"]},arc:function(n,i,u,f,e){var h=e.start,o=e.r||u,c=e.r||f||u,s=e.end-.001;u=e.innerR;f=r(e.open,.001>Math.abs(e.end-e.start-2*Math.PI));var l=Math.cos(h),a=Math.sin(h),v=Math.cos(s),s=Math.sin(s);return e=.001>e.end-h-Math.PI?0:1,o=["M",n+o*l,i+c*a,"A",o,c,0,e,1,n+o*v,i+c*s],t(u)&&o.push(f?"M":"L",n+u*v,i+u*s,"A",u,u,0,e,0,n+u*l,i+u*a),o.push(f?"":"Z"),o},callout:function(n,t,i,r,u){var f=Math.min(u&&u.r||0,i,r),o=f+6,e=u&&u.anchorX,s;return u=u&&u.anchorY,s=["M",n+f,t,"L",n+i-f,t,"C",n+i,t,n+i,t,n+i,t+f,"L",n+i,t+r-f,"C",n+i,t+r,n+i,t+r,n+i-f,t+r,"L",n+f,t+r,"C",n,t+r,n,t+r,n,t+r-f,"L",n,t+f,"C",n,t,n,t,n+f,t],e&&e>i?u>t+o&&u<t+r-o?s.splice(13,3,"L",n+i,u-6,n+i+6,u,n+i,u+6,n+i,t+r-f):s.splice(13,3,"L",n+i,r/2,e,u,n+i,r/2,n+i,t+r-f):e&&0>e?u>t+o&&u<t+r-o?s.splice(33,3,"L",n,u+6,n-6,u,n,u-6,n,t+f):s.splice(33,3,"L",n,r/2,e,u,n,r/2,n,t+f):u&&u>r&&e>n+o&&e<n+i-o?s.splice(23,3,"L",e+6,t+r,e,t+r+6,e-6,t+r,n+f,t+r):u&&0>u&&e>n+o&&e<n+i-o&&s.splice(3,3,"L",e-6,t,e,t-6,e+6,t,i-f,t),s}},clipRect:function(t,i,r,u){var f=n.uniqueKey(),e=this.createElement("clipPath").attr({id:f}).add(this.defs);return t=this.rect(t,i,r,u,0).add(e),t.id=f,t.clipPath=e,t.count=0,t},text:function(n,t,i,r){var u={};return r&&(this.allowHTML||!this.forExport)?this.html(n,t,i):(u.x=Math.round(t||0),i&&(u.y=Math.round(i)),(n||0===n)&&(u.text=n),n=this.createElement("text").attr(u),r||(n.xSetter=function(n,t,i){for(var f=i.getElementsByTagName("tspan"),u,e=i.getAttribute(t),r=0;r<f.length;r++)u=f[r],u.getAttribute(t)===e&&u.setAttribute(t,n);i.setAttribute(t,n)}),n)},fontMetrics:function(n,t){return n=n||t&&t.style&&t.style.fontSize||this.style&&this.style.fontSize,n=/px/.test(n)?a(n):/em/.test(n)?parseFloat(n)*(t?this.fontMetrics(null,t.parentNode).f:16):12,t=24>n?n+3:Math.round(1.2*n),{h:t,b:Math.round(.8*t),f:n}},rotCorr:function(n,t,i){var r=n;return t&&i&&(r=Math.max(r*Math.cos(t*b),4)),{x:-n/3*Math.sin(t*b),y:r}},label:function(r,u,f,s,c,l,a,v,y){var g=this,p=g.g("button"!==y&&"label"),w=p.text=g.text("",0,0,a).attr({zIndex:1}),b,k,ut=0,d=3,et=0,nt,ct,ot,lt,it,at={},wt,vt,yt=/^url\((.*?)\)$/.test(s),st=yt,pt,ht,rt,tt,bt;return y&&p.addClass("highcharts-"+y),st=yt,pt=function(){return(wt||0)%2/2},ht=function(){var n=w.element.style,i={};k=(void 0===nt||void 0===ct||it)&&t(w.textStr)&&w.getBBox();p.width=(nt||k.width||0)+2*d+et;p.height=(ct||k.height||0)+2*d;vt=d+g.fontMetrics(n&&n.fontSize,w).b;st&&(b||(p.box=b=g.symbols[s]||yt?g.symbol(s):g.rect(),b.addClass(("button"===y?"":"highcharts-label-box")+(y?" highcharts-"+y+"-box":"")),b.add(p),n=pt(),i.x=n,i.y=(v?-vt:0)+n),i.width=Math.round(p.width),i.height=Math.round(p.height),b.attr(e(i,at)),at={})},rt=function(){var i=et+d,n;n=v?0:vt;t(nt)&&k&&("center"===it||"right"===it)&&(i+={center:.5,right:1}[it]*(nt-k.width));(i!==w.x||n!==w.y)&&(w.attr("x",i),void 0!==n&&w.attr("y",n));w.x=i;w.y=n},tt=function(n,t){b?b.attr(n,t):at[n]=t},p.onAdd=function(){w.add(p);p.attr({text:r||0===r?r:"",x:u,y:f});b&&t(c)&&p.attr({anchorX:c,anchorY:l})},p.widthSetter=function(t){nt=n.isNumber(t)?t:null},p.heightSetter=function(n){ct=n},p["text-alignSetter"]=function(n){it=n},p.paddingSetter=function(n){t(n)&&n!==d&&(d=p.padding=n,rt())},p.paddingLeftSetter=function(n){t(n)&&n!==et&&(et=n,rt())},p.alignSetter=function(n){n={left:0,center:.5,right:1}[n];n!==ut&&(ut=n,k&&p.attr({x:ot}))},p.textSetter=function(n){void 0!==n&&w.textSetter(n);ht();rt()},p["stroke-widthSetter"]=function(n,t){n&&(st=!0);wt=this["stroke-width"]=n;tt(t,n)},p.strokeSetter=p.fillSetter=p.rSetter=function(n,t){"r"!==t&&("fill"===t&&n&&(st=!0),p[t]=n);tt(t,n)},p.anchorXSetter=function(n,t){c=p.anchorX=n;tt(t,Math.round(n)-pt()-ot)},p.anchorYSetter=function(n,t){l=p.anchorY=n;tt(t,n-lt)},p.xSetter=function(n){p.x=n;ut&&(n-=ut*((nt||k.width)+2*d));ot=Math.round(n);p.attr("translateX",ot)},p.ySetter=function(n){lt=p.y=Math.round(n);p.attr("translateY",lt)},bt=p.css,e(p,{css:function(n){if(n){var t={};n=h(n);o(p.textProps,function(i){void 0!==n[i]&&(t[i]=n[i],delete n[i])});w.css(t)}return bt.call(p,n)},getBBox:function(){return{width:k.width+2*d,height:k.height+2*d,x:k.x-d,y:k.y-d}},shadow:function(n){return n&&(ht(),b&&b.shadow(n)),p},destroy:function(){ft(p.element,"mouseenter");ft(p.element,"mouseleave");w&&(w=w.destroy());b&&(b=b.destroy());i.prototype.destroy.call(p);p=g=ht=rt=tt=null}})}});n.Renderer=p}(t),function(n){var s=n.attr,h=n.createElement,t=n.css,c=n.defined,i=n.each,r=n.extend,u=n.isFirefox,f=n.isMS,e=n.isWebKit,l=n.pInt,a=n.SVGRenderer,o=n.win,v=n.wrap;r(n.SVGElement.prototype,{htmlCss:function(n){var i=this.element;return(i=n&&"SPAN"===i.tagName&&n.width)&&(delete n.width,this.textWidth=i,this.updateTransform()),n&&"ellipsis"===n.textOverflow&&(n.whiteSpace="nowrap",n.overflow="hidden"),this.styles=r(this.styles,n),t(this.element,n),this},htmlGetBBox:function(){var n=this.element;return{x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var o=this.renderer,n=this.element,s=this.translateX||0,h=this.translateY||0,w=this.x||0,b=this.y||0,f=this.textAlign||"left",a={left:0,center:.5,right:1}[f],r=this.styles;if(t(n,{marginLeft:s,marginTop:h}),this.shadows&&i(this.shadows,function(n){t(n,{marginLeft:s+1,marginTop:h+1})}),this.inverted&&i(n.childNodes,function(t){o.invertChild(t,n)}),"SPAN"===n.tagName){var u=this.rotation,v=l(this.textWidth),y=r&&r.whiteSpace,p=[u,f,n.innerHTML,this.textWidth,this.textAlign].join();p!==this.cTT&&(r=o.fontMetrics(n.style.fontSize).b,c(u)&&this.setSpanRotation(u,a,r),t(n,{width:"",whiteSpace:y||"nowrap"}),n.offsetWidth>v&&/[ \-]/.test(n.textContent||n.innerText)&&t(n,{width:v+"px",display:"block",whiteSpace:y||"normal"}),this.getSpanCorrection(n.offsetWidth,r,a,u,f));t(n,{left:w+(this.xCorr||0)+"px",top:b+(this.yCorr||0)+"px"});e&&(r=n.offsetHeight);this.cTT=p}}else this.alignOnAdd=!0},setSpanRotation:function(n,i,r){var f={},e=this.renderer.getTransformKey();f[e]=f.transform="rotate("+n+"deg)";f[e+(u?"Origin":"-origin")]=f.transformOrigin=100*i+"% "+r+"px";t(this.element,f)},getSpanCorrection:function(n,t,i){this.xCorr=-n*i;this.yCorr=-t}});r(a.prototype,{getTransformKey:function(){return f&&!/Edge/.test(o.navigator.userAgent)?"-ms-transform":e?"-webkit-transform":u?"MozTransform":o.opera?"-o-transform":""},html:function(n,t,u){var e=this.createElement("span"),o=e.element,c=e.renderer,l=c.isSVG,a=function(n,t){i(["opacity","visibility"],function(i){v(n,i+"Setter",function(n,i,r,u){n.call(this,i,r,u);t[r]=i})})};return e.textSetter=function(n){n!==o.innerHTML&&delete this.bBox;o.innerHTML=this.textStr=n;e.htmlUpdateTransform()},l&&a(e,e.element.style),e.xSetter=e.ySetter=e.alignSetter=e.rotationSetter=function(n,t){"align"===t&&(t="textAlign");e[t]=n;e.htmlUpdateTransform()},e.attr({text:n,x:Math.round(t),y:Math.round(u)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),o.style.whiteSpace="nowrap",e.css=e.htmlCss,l&&(e.add=function(n){var t,l=c.box.parentNode,u=[];if(this.parentGroup=n){if(t=n.div,!t){for(;n;)u.push(n),n=n.parentGroup;i(u.reverse(),function(n){function v(t,r){n[r]=t;f?i[c.getTransformKey()]="translate("+(n.x||n.translateX)+"px,"+(n.y||n.translateY)+"px)":"translateX"===r?i.left=t+"px":i.top=t+"px";n.doTransform=!0}var i,o=s(n.element,"class");o&&(o={className:o});t=n.div=n.div||h("div",o,{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px",display:n.display,opacity:n.opacity,pointerEvents:n.styles&&n.styles.pointerEvents},t||l);i=t.style;r(n,{classSetter:function(n){this.element.setAttribute("class",n);t.className=n},on:function(){return u[0].div&&e.on.apply({element:u[0].div},arguments),n},translateXSetter:v,translateYSetter:v});a(n,i)})}}else t=l;return t.appendChild(o),e.added=!0,e.alignOnAdd&&e.htmlUpdateTransform(),e}),e}})}(t),function(n){function u(){var t=n.defaultOptions.global,i=r.moment;if(t.timezone){if(i)return function(n){return-i.tz(n,t.timezone).utcOffset()};n.error(25)}return t.useUTC&&t.getTimezoneOffset}function i(){var i=n.defaultOptions.global,f,o=i.useUTC,c=o?"getUTC":"get",l=o?"setUTC":"set",s="Minutes Hours Day Date Month FullYear".split(" "),h=s.concat(["Milliseconds","Seconds"]);for(n.Date=f=i.Date||r.Date,f.hcTimezoneOffset=o&&i.timezoneOffset,f.hcGetTimezoneOffset=u(),f.hcMakeTime=function(n,i,r,u,s,h){var c;return o?(c=f.UTC.apply(0,arguments),c+=e(c)):c=new f(n,i,t(r,1),t(u,0),t(s,0),t(h,0)).getTime(),c},i=0;i<s.length;i++)f["hcGet"+s[i]]=c+s[i];for(i=0;i<h.length;i++)f["hcSet"+h[i]]=l+h[i]}var f=n.color,e=n.getTZOffset,o=n.merge,t=n.pick,r=n.win;n.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:n.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:n.isTouchDevice?25:10,backgroundColor:f("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}<\/span><br/>',pointFormat:'<span style="color:{point.color}"><\/span> {series.name}: <b>{point.y}<\/b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};n.setOptions=function(t){return n.defaultOptions=o(!0,n.defaultOptions,t),i(),n.defaultOptions};n.getOptions=function(){return n.defaultOptions};n.defaultPlotOptions=n.defaultOptions.plotOptions;i()}(t),function(n){var f=n.correctFloat,i=n.defined,e=n.destroyObjectProperties,u=n.isNumber,o=n.merge,t=n.pick,r=n.deg2rad;n.Tick=function(n,t,i,r){this.axis=n;this.pos=t;this.type=i||"";this.isNewLabel=this.isNew=!0;i||r||this.addLabel()};n.Tick.prototype={addLabel:function(){var n=this.axis,s=n.options,l=n.chart,u=n.categories,h=n.names,r=this.pos,c=s.labels,e=n.tickPositions,a=r===e[0],v=r===e[e.length-1],h=u?t(u[r],h[r],r):r,u=this.label,e=e.info,y;n.isDatetimeAxis&&e&&(y=s.dateTimeLabelFormats[e.higherRanks[r]||e.unitName]);this.isFirst=a;this.isLast=v;s=n.labelFormatter.call({axis:n,chart:l,isFirst:a,isLast:v,dateTimeLabelFormat:y,value:n.isLog?f(n.lin2log(h)):h,pos:r});i(u)?u&&u.attr({text:s}):(this.labelLength=(this.label=u=i(s)&&c.enabled?l.renderer.text(s,0,0,c.useHTML).css(o(c.style)).add(n.labelGroup):null)&&u.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(n){var i=this.axis,e=n.x,a=i.chart.chartWidth,s=i.chart.spacing,v=t(i.labelLeft,Math.min(i.pos,s[3])),s=t(i.labelRight,Math.max(i.pos+i.len,a-s[1])),y=this.label,h=this.rotation,f={left:0,center:.5,right:1}[i.labelAlign],o=y.getBBox().width,c=i.getSlotWidth(),u=c,w=1,l,p={};h?0>h&&e-f*o<v?l=Math.round(e/Math.cos(h*r)-v):0<h&&e+f*o>s&&(l=Math.round((a-e)/Math.cos(h*r))):(a=e+(1-f)*o,e-f*o<v?u=n.x+u*(1-f)-v:a>s&&(u=s-n.x+u*f,w=-1),u=Math.min(c,u),u<c&&"center"===i.labelAlign&&(n.x+=w*(c-u-f*(c-Math.min(o,u)))),o>u||i.autoRotation&&(y.styles||{}).width)&&(l=u);l&&(p.width=l,(i.options.labels.style||{}).textOverflow||(p.textOverflow="ellipsis"),y.css(p))},getPosition:function(n,t,i,r){var u=this.axis,f=u.chart,e=r&&f.oldChartHeight||f.chartHeight;return{x:n?u.translate(t+i,null,null,r)+u.transB:u.left+u.offset+(u.opposite?(r&&f.oldChartWidth||f.chartWidth)-u.right-u.left:0),y:n?e-u.bottom+u.offset-(u.opposite?u.height:0):e-u.translate(t+i,null,null,r)-u.transB}},getLabelPosition:function(n,t,u,f,e,o,s,h){var c=this.axis,y=c.transA,p=c.reversed,l=c.staggerLines,a=c.tickRotCorr||{x:0,y:0},v=e.y;return i(v)||(v=0===c.side?u.rotation?-8:-u.getBBox().height:2===c.side?a.y+8:Math.cos(u.rotation*r)*(a.y-u.getBBox(!1,0).height/2)),n=n+e.x+a.x-(o&&f?o*y*(p?-1:1):0),t=t+v-(o&&!f?o*y*(p?1:-1):0),l&&(u=s/(h||1)%l,c.opposite&&(u=l-u-1),t+=c.labelOffset/l*u),{x:n,y:Math.round(t)}},getMarkPath:function(n,t,i,r,u,f){return f.crispLine(["M",n,t,"L",n+(u?0:-i),t+(u?i:0)],r)},renderGridLine:function(n,t,i){var u=this.axis,f=u.options,e=this.gridLine,r={},h=this.pos,o=this.type,c=u.tickmarkOffset,l=u.chart.renderer,s=o?o+"Grid":"grid",a=f[s+"LineWidth"],v=f[s+"LineColor"],f=f[s+"LineDashStyle"];e||(r.stroke=v,r["stroke-width"]=a,f&&(r.dashstyle=f),o||(r.zIndex=1),n&&(r.opacity=0),this.gridLine=e=l.path().attr(r).addClass("highcharts-"+(o?o+"-":"")+"grid-line").add(u.gridGroup));!n&&e&&(n=u.getPlotLinePath(h+c,e.strokeWidth()*i,n,!0))&&e[this.isNew?"attr":"animate"]({d:n,opacity:t})},renderMark:function(n,i,r){var u=this.axis,o=u.options,c=u.chart.renderer,f=this.type,h=f?f+"Tick":"tick",s=u.tickSize(h),e=this.mark,l=!e,v=n.x,a;n=n.y;a=t(o[h+"Width"],!f&&u.isXAxis?1:0);o=o[h+"Color"];s&&(u.opposite&&(s[0]=-s[0]),l&&(this.mark=e=c.path().addClass("highcharts-"+(f?f+"-":"")+"tick").add(u.axisGroup),e.attr({stroke:o,"stroke-width":a})),e[l?"attr":"animate"]({d:this.getMarkPath(v,n,s[0],e.strokeWidth()*r,u.horiz,c),opacity:i}))},renderLabel:function(n,i,r,f){var o=this.axis,a=o.horiz,h=o.options,e=this.label,s=h.labels,c=s.step,y=o.tickmarkOffset,l=!0,v=n.x;n=n.y;e&&u(v)&&(e.xy=n=this.getLabelPosition(v,n,e,a,s,y,f,c),this.isFirst&&!this.isLast&&!t(h.showFirstLabel,1)||this.isLast&&!this.isFirst&&!t(h.showLastLabel,1)?l=!1:!a||o.isRadial||s.step||s.rotation||i||0===r||this.handleOverflow(n),c&&f%c&&(l=!1),l&&u(n.y)?(n.opacity=r,e[this.isNewLabel?"attr":"animate"](n),this.isNewLabel=!1):(e.attr("y",-9999),this.isNewLabel=!0))},render:function(n,i,r){var u=this.axis,e=u.horiz,f=this.getPosition(e,this.pos,u.tickmarkOffset,i),o=f.x,s=f.y,u=e&&o===u.pos+u.len||!e&&s===u.pos?-1:1;r=t(r,1);this.isActive=!0;this.renderGridLine(i,r,u);this.renderMark(f,r,u);this.renderLabel(f,i,r,n);this.isNew=!1},destroy:function(){e(this,this.axis)}}}(t),i=function(n){var b=n.addEvent,k=n.animObject,s=n.arrayMax,h=n.arrayMin,d=n.color,f=n.correctFloat,a=n.defaultOptions,i=n.defined,g=n.deg2rad,v=n.destroyObjectProperties,r=n.each,nt=n.extend,y=n.fireEvent,tt=n.format,it=n.getMagnitude,rt=n.grep,c=n.inArray,ut=n.isArray,u=n.isNumber,p=n.isString,l=n.merge,ft=n.normalizeTickInterval,e=n.objectEach,t=n.pick,et=n.removeEvent,ot=n.splat,st=n.syncTimeout,o=n.Tick,w=function(){this.init.apply(this,arguments)};return n.extend(w.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return n.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(n,r){var o=r.isX,u=this,f,s;u.chart=n;u.horiz=n.inverted&&!u.isZAxis?!o:o;u.isXAxis=o;u.coll=u.coll||(o?"xAxis":"yAxis");u.opposite=r.opposite;u.side=r.side||(u.horiz?u.opposite?0:2:u.opposite?1:3);u.setOptions(r);f=this.options;s=f.type;u.labelFormatter=f.labels.formatter||u.defaultLabelFormatter;u.userOptions=r;u.minPixelPadding=0;u.reversed=f.reversed;u.visible=!1!==f.visible;u.zoomEnabled=!1!==f.zoomEnabled;u.hasNames="category"===s||!0===f.categories;u.categories=f.categories||u.hasNames;u.names=u.names||[];u.plotLinesAndBandsGroups={};u.isLog="logarithmic"===s;u.isDatetimeAxis="datetime"===s;u.positiveValuesOnly=u.isLog&&!u.allowNegativeLog;u.isLinked=i(f.linkedTo);u.ticks={};u.labelEdge=[];u.minorTicks={};u.plotLinesAndBands=[];u.alternateBands={};u.len=0;u.minRange=u.userMinRange=f.minRange||f.maxZoom;u.range=f.range;u.offset=f.offset||0;u.stacks={};u.oldStacks={};u.stacksTouched=0;u.max=null;u.min=null;u.crosshair=t(f.crosshair,ot(n.options.tooltip.crosshairs)[o?0:1],!1);r=u.options.events;-1===c(u,n.axes)&&(o?n.axes.splice(n.xAxis.length,0,u):n.axes.push(u),n[u.coll].push(u));u.series=u.series||[];n.inverted&&!u.isZAxis&&o&&void 0===u.reversed&&(u.reversed=!0);e(r,function(n,t){b(u,t,n)});u.lin2log=f.linearToLogConverter||u.lin2log;u.isLog&&(u.val2lin=u.log2lin,u.lin2val=u.lin2log)},setOptions:function(n){this.options=l(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],l(a[this.coll],n))},defaultLabelFormatter:function(){var r=this.axis,t=this.value,u=r.categories,s=this.dateTimeLabelFormat,o=a.lang,e=o.numericSymbols,o=o.numericSymbolMagnitude||1e3,f=e&&e.length,i,h=r.options.labels.format,r=r.isLog?Math.abs(t):r.tickInterval;if(h)i=tt(h,this);else if(u)i=t;else if(s)i=n.dateFormat(s,t);else if(f&&1e3<=r)for(;f--&&void 0===i;)u=Math.pow(o,f+1),r>=u&&0==10*t%u&&null!==e[f]&&0!==t&&(i=n.numberFormat(t/u,-1)+e[f]);return void 0===i&&(i=1e4<=Math.abs(t)?n.numberFormat(t,-1):n.numberFormat(t,-1,void 0,"")),i},getSeriesExtremes:function(){var n=this,f=n.chart;n.hasVisibleSeries=!1;n.dataMin=n.dataMax=n.threshold=null;n.softThreshold=!n.isXAxis;n.buildStacks&&n.buildStacks();r(n.series,function(r){if(r.visible||!f.options.chart.ignoreHiddenSeries){var e=r.options,o=e.threshold,c;n.hasVisibleSeries=!0;n.positiveValuesOnly&&0>=o&&(o=null);n.isXAxis?(e=r.xData,e.length&&(r=h(e),u(r)||r instanceof Date||(e=rt(e,function(n){return u(n)}),r=h(e)),n.dataMin=Math.min(t(n.dataMin,e[0]),r),n.dataMax=Math.max(t(n.dataMax,e[0]),s(e)))):(r.getExtremes(),c=r.dataMax,r=r.dataMin,i(r)&&i(c)&&(n.dataMin=Math.min(t(n.dataMin,r),r),n.dataMax=Math.max(t(n.dataMax,c),c)),i(o)&&(n.threshold=o),!e.softThreshold||n.positiveValuesOnly)&&(n.softThreshold=!1)}})},translate:function(n,t,i,r,f,e){var o=this.linkedParent||this,s=1,c=0,h=r?o.oldTransA:o.transA,l;return r=r?o.oldMin:o.min,l=o.minPixelPadding,f=(o.isOrdinal||o.isBroken||o.isLog&&f)&&o.lin2val,h||(h=o.transA),i&&(s*=-1,c=o.len),o.reversed&&(s*=-1,c-=s*(o.sector||o.len)),t?(n=(n*s+c-l)/h+r,f&&(n=o.lin2val(n))):(f&&(n=o.val2lin(n)),n=u(r)?s*(n-r)*h+c+s*l+(u(e)?h*e:0):void 0),n},toPixels:function(n,t){return this.translate(n,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(n,t){return this.translate(n-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(n,i,r,f,e){var s=this.chart,c=this.left,l=this.top,o,h,y=r&&s.oldChartHeight||s.chartHeight,p=r&&s.oldChartWidth||s.chartWidth,a,v;return o=this.transB,v=function(n,t,i){return(n<t||n>i)&&(f?n=Math.min(Math.max(t,n),i):a=!0),n},e=t(e,this.translate(n,null,null,r)),n=r=Math.round(e+o),o=h=Math.round(y-e-o),u(e)?this.horiz?(o=l,h=y-this.bottom,n=r=v(n,c,c+this.width)):(n=c,r=p-this.right,o=h=v(o,l,l+this.height)):(a=!0,f=!1),a&&!f?null:s.renderer.crispLine(["M",n,o,"L",r,h],i||1)},getLinearTickPositions:function(n,t,i){var u,e=f(Math.floor(t/n)*n),r;if(i=f(Math.ceil(i/n)*n),r=[],this.single)return[t];for(t=e;t<=i;){if(r.push(t),t=f(t+n),t===u)break;u=t}return r},getMinorTickInterval:function(){var n=this.options;return!0===n.minorTicks?t(n.minorTickInterval,"auto"):!1===n.minorTicks?null:n.minorTickInterval},getMinorTickPositions:function(){var n=this,i=n.options,s=n.tickPositions,u=n.minorTickInterval,t=[],f=n.pointRangePadding||0,e=n.min-f,f=n.max+f,o=f-e;if(o&&o/u<n.len/3)if(n.isLog)r(this.paddedTicks,function(i,r,f){r&&t.push.apply(t,n.getLogTickPositions(u,f[r-1],f[r],!0))});else if(n.isDatetimeAxis&&"auto"===this.getMinorTickInterval())t=t.concat(n.getTimeTicks(n.normalizeTimeTickInterval(u),e,f,i.startOfWeek));else for(i=e+(s[0]-e)%u;i<=f&&i!==t[0];i+=u)t.push(i);return 0!==t.length&&n.trimTicks(t),t},adjustForMinRange:function(){var o=this.options,n=this.min,u=this.max,f,v,l,c,y,a,p,e;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(i(o.min)||i(o.max)?this.minRange=null:(r(this.series,function(n){for(a=n.xData,c=p=n.xIncrement?1:a.length-1;0<c;c--)(y=a[c]-a[c-1],void 0===l||y<l)&&(l=y)}),this.minRange=Math.min(5*l,this.dataMax-this.dataMin)));u-n<this.minRange&&(v=this.dataMax-this.dataMin>=this.minRange,e=this.minRange,f=(e-u+n)/2,f=[n-f,t(o.min,n-f)],v&&(f[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),n=s(f),u=[n+e,t(o.max,n+e)],v&&(u[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),u=h(u),u-n<e&&(f[0]=u-e,f[1]=t(o.min,u-e),n=s(f)));this.min=n;this.max=u},getClosest:function(){var n;return this.categories?n=1:r(this.series,function(t){var r=t.closestPointRange,u=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&i(r)&&u&&(n=i(n)?Math.min(n,r):r)}),n},nameToX:function(n){var u=ut(this.categories),f=u?this.categories:this.names,r=n.options.x,t;return n.series.requireSorting=!1,i(r)||(r=!1===this.options.uniqueNames?n.series.autoIncrement():c(n.name,f)),-1===r?u||(t=f.length):t=r,void 0!==t&&(this.names[t]=n.name),t},updateNames:function(){var n=this;0<this.names.length&&(this.names.length=0,this.minRange=this.userMinRange,r(this.series||[],function(t){t.xIncrement=null;(!t.points||t.isDirtyData)&&(t.processData(),t.generatePoints());r(t.points,function(i,r){var u;i.options&&(u=n.nameToX(i),void 0!==u&&u!==i.x&&(i.x=u,t.xData[r]=u))})}))},setAxisTranslation:function(n){var i=this,l=i.max-i.min,s=i.axisPointRange||0,f,e=0,o=0,u=i.linkedParent,a=!!i.categories,h=i.transA,c=i.isXAxis;(c||a||s)&&(f=i.getClosest(),u?(e=u.minPointOffset,o=u.pointRangePadding):r(i.series,function(n){var r=a?1:c?t(n.options.pointRange,f,0):i.axisPointRange||0;n=n.options.pointPlacement;s=Math.max(s,r);i.single||(e=Math.max(e,p(n)?0:r/2),o=Math.max(o,"on"===n?0:r))}),u=i.ordinalSlope&&f?i.ordinalSlope/f:1,i.minPointOffset=e*=u,i.pointRangePadding=o*=u,i.pointRange=Math.min(s,l),c&&(i.closestPointRange=f));n&&(i.oldTransA=h);i.translationSlope=i.transA=h=i.options.staticScale||i.len/(l+o||1);i.transB=i.horiz?i.left:i.bottom;i.minPixelPadding=h*e},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var o=this,c=o.chart,s=o.options,nt=o.isLog,a=o.log2lin,tt=o.isDatetimeAxis,ot=o.isXAxis,w=o.isLinked,b=s.maxPadding,k=s.minPadding,l=s.tickInterval,d=s.tickPixelInterval,g=o.categories,h=o.threshold,rt=o.softThreshold,ut,et,v,p;tt||g||w||this.getTickAmount();v=t(o.userMin,s.min);p=t(o.userMax,s.max);w?(o.linkedParent=c[o.coll][s.linkedTo],c=o.linkedParent.getExtremes(),o.min=t(c.min,c.dataMin),o.max=t(c.max,c.dataMax),s.type!==o.linkedParent.options.type&&n.error(11,1)):(!rt&&i(h)&&(o.dataMin>=h?(ut=h,k=0):o.dataMax<=h&&(et=h,b=0)),o.min=t(v,ut,o.dataMin),o.max=t(p,et,o.dataMax));nt&&(o.positiveValuesOnly&&!e&&0>=Math.min(o.min,t(o.dataMin,o.min))&&n.error(10,1),o.min=f(a(o.min),15),o.max=f(a(o.max),15));o.range&&i(o.max)&&(o.userMin=o.min=v=Math.max(o.dataMin,o.minFromRange()),o.userMax=p=o.max,o.range=null);y(o,"foundExtremes");o.beforePadding&&o.beforePadding();o.adjustForMinRange();!(g||o.axisPointRange||o.usePercentage||w)&&i(o.min)&&i(o.max)&&(a=o.max-o.min)&&(!i(v)&&k&&(o.min-=a*k),!i(p)&&b&&(o.max+=a*b));u(s.softMin)&&(o.min=Math.min(o.min,s.softMin));u(s.softMax)&&(o.max=Math.max(o.max,s.softMax));u(s.floor)&&(o.min=Math.max(o.min,s.floor));u(s.ceiling)&&(o.max=Math.min(o.max,s.ceiling));rt&&i(o.dataMin)&&(h=h||0,!i(v)&&o.min<h&&o.dataMin>=h?o.min=h:!i(p)&&o.max>h&&o.dataMax<=h&&(o.max=h));o.tickInterval=o.min===o.max||void 0===o.min||void 0===o.max?1:w&&!l&&d===o.linkedParent.options.tickPixelInterval?l=o.linkedParent.tickInterval:t(l,this.tickAmount?(o.max-o.min)/Math.max(this.tickAmount-1,1):void 0,g?1:(o.max-o.min)*d/Math.max(o.len,d));ot&&!e&&r(o.series,function(n){n.processData(o.min!==o.oldMin||o.max!==o.oldMax)});o.setAxisTranslation(!0);o.beforeSetTickPositions&&o.beforeSetTickPositions();o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval));o.pointRange&&!l&&(o.tickInterval=Math.max(o.pointRange,o.tickInterval));e=t(s.minTickInterval,o.isDatetimeAxis&&o.closestPointRange);!l&&o.tickInterval<e&&(o.tickInterval=e);tt||nt||l||(o.tickInterval=ft(o.tickInterval,null,it(o.tickInterval),t(s.allowDecimals,!(.5<o.tickInterval&&5>o.tickInterval&&1e3<o.max&&9999>o.max)),!!this.tickAmount));this.tickAmount||(o.tickInterval=o.unsquish());this.setTickPositions()},setTickPositions:function(){var t=this.options,n,u=t.tickPositions;n=this.getMinorTickInterval();var r=t.tickPositioner,f=t.startOnTick,e=t.endOnTick;this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0;this.minorTickInterval="auto"===n&&this.tickInterval?this.tickInterval/5:n;this.single=this.min===this.max&&i(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals);this.tickPositions=n=u&&u.slice();!n&&(n=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),n.length>this.len&&(n=[n[0],n.pop()]),this.tickPositions=n,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=n=r);this.paddedTicks=n.slice(0);this.trimTicks(n,f,e);this.isLinked||(this.single&&2>n.length&&(this.min-=.5,this.max+=.5),u||r||this.adjustTickAmount())},trimTicks:function(n,t,r){var u=n[0],f=n[n.length-1],e=this.minPointOffset||0;if(!this.isLinked){if(t&&-Infinity!==u)this.min=u;else for(;this.min-e>n[0];)n.shift();if(r)this.max=f;else for(;this.max+e<n[n.length-1];)n.pop();0===n.length&&i(u)&&n.push((f+u)/2)}},alignToOthers:function(){var n={},t,i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||this.isLog||r(this.chart[this.coll],function(i){var r=i.options,r=[i.horiz?r.left:r.top,r.width,r.height,r.pane].join();i.series.length&&(n[r]?t=!0:n[r]=1)}),t},getTickAmount:function(){var t=this.options,n=t.tickAmount,r=t.tickPixelInterval;!i(t.tickInterval)&&this.len<r&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(n=2);!n&&this.alignToOthers()&&(n=Math.ceil(this.len/r)+1);4>n&&(this.finalTickAmt=n,n=5);this.tickAmount=n},adjustTickAmount:function(){var t=this.tickInterval,n=this.tickPositions,r=this.tickAmount,u=this.finalTickAmt,e=n&&n.length;if(e<r){for(;n.length<r;)n.push(f(n[n.length-1]+t));this.transA*=(e-1)/(r-1);this.max=n[n.length-1]}else e>r&&(this.tickInterval*=2,this.setTickPositions());if(i(u)){for(t=r=n.length;t--;)(3===u&&1==t%2||2>=u&&0<t&&t<r-1)&&n.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,n;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();n=this.len!==this.oldAxisLength;r(this.series,function(n){(n.isDirtyData||n.isDirty||n.xAxis.isDirty)&&(t=!0)});n||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(n,i,u,f,e){var o=this,s=o.chart;u=t(u,!0);r(o.series,function(n){delete n.kdTree});e=nt(e,{min:n,max:i});y(o,"setExtremes",e,function(){o.userMin=n;o.userMax=i;o.eventArgs=e;u&&s.redraw(f)})},zoom:function(n,r){var e=this.dataMin,o=this.dataMax,u=this.options,f=Math.min(e,t(u.min,e)),u=Math.max(o,t(u.max,o));return(n!==this.min||r!==this.max)&&(this.allowZoomOutside||(i(e)&&(n<f&&(n=f),n>u&&(n=u)),i(o)&&(r<f&&(r=f),r>u&&(r=u))),this.displayBtn=void 0!==n||void 0!==r,this.setExtremes(n,r,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var i=this.chart,r=this.options,u=r.offsets||[0,0,0,0],f=this.horiz,e=this.width=Math.round(n.relativeLength(t(r.width,i.plotWidth-u[3]+u[1]),i.plotWidth)),o=this.height=Math.round(n.relativeLength(t(r.height,i.plotHeight-u[0]+u[2]),i.plotHeight)),s=this.top=Math.round(n.relativeLength(t(r.top,i.plotTop+u[0]),i.plotHeight,i.plotTop)),r=this.left=Math.round(n.relativeLength(t(r.left,i.plotLeft+u[3]),i.plotWidth,i.plotLeft));this.bottom=i.chartHeight-o-s;this.right=i.chartWidth-e-r;this.len=Math.max(f?e:o,0);this.pos=f?r:s},getExtremes:function(){var n=this.isLog,t=this.lin2log;return{min:n?f(t(this.min)):this.min,max:n?f(t(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(n){var t=this.isLog,r=this.lin2log,i=t?r(this.min):this.min,t=t?r(this.max):this.max;return null===n?n=i:i>n?n=i:t<n&&(n=t),this.translate(n,0,1,0,1)},autoLabelAlign:function(n){return n=(t(n,0)-90*this.side+720)%360,15<n&&165>n?"right":195<n&&345>n?"left":"center"},tickSize:function(n){var r=this.options,i=r[n+"Length"],u=t(r[n+"Width"],"tick"===n&&this.isXAxis?1:0);if(u&&i)return"inside"===r[n+"Position"]&&(i=-i),[i,u]},labelMetrics:function(){var n=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[n]&&this.ticks[n].label)},unsquish:function(){var n=this.options.labels,y=this.horiz,f=this.tickInterval,e=f,h=this.len/(((this.categories?1:0)+this.max-this.min)/f),c,u=n.rotation,l=this.labelMetrics(),o,a=Number.MAX_VALUE,s,v=function(n){return n/=h||1,n=1<n?Math.ceil(n):1,n*f};return y?(s=!n.staggerLines&&!n.step&&(i(u)?[u]:h<t(n.autoRotationLimit,80)&&n.autoRotation))&&r(s,function(n){var t;(n===u||n&&-90<=n&&90>=n)&&(o=v(Math.abs(l.h/Math.sin(g*n))),t=o+Math.abs(n/360),t<a&&(a=t,c=n,e=o))}):n.step||(e=v(l.h)),this.autoRotation=s,this.labelRotation=t(c,u),e},getSlotWidth:function(){var t=this.chart,i=this.horiz,n=this.options.labels,u=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return i&&2>(n.step||0)&&!n.rotation&&(this.staggerLines||1)*this.len/u||!i&&(n.style&&parseInt(n.style.width,10)||r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var o=this.chart,w=o.renderer,e=this.tickPositions,s=this.ticks,t=this.options.labels,b=this.horiz,h=this.getSlotWidth(),n=Math.max(1,Math.round(h-2*(t.padding||5))),i={},c=this.labelMetrics(),y=t.style&&t.style.textOverflow,u,f=0,a,v;if(p(t.rotation)||(i.rotation=t.rotation||0),r(e,function(n){(n=s[n])&&n.labelLength>f&&(f=n.labelLength)}),this.maxLabelLength=f,this.autoRotation)f>n&&f>c.h?i.rotation=this.labelRotation:this.labelRotation=0;else if(h&&(u={width:n+"px"},!y))for(u.textOverflow="clip",a=e.length;!b&&a--;)(v=e[a],n=s[v].label)&&(n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):s[v].labelLength>h&&n.css({width:h+"px"}),n.getBBox().height>this.len/e.length-(c.h-c.f)&&(n.specCss={textOverflow:"ellipsis"}));i.rotation&&(u={width:(f>.5*o.chartHeight?.33*o.chartHeight:o.chartHeight)+"px"},y||(u.textOverflow="ellipsis"));(this.labelAlign=t.align||this.autoLabelAlign(this.labelRotation))&&(i.align=this.labelAlign);r(e,function(n){var t=(n=s[n])&&n.label;t&&(t.attr(i),u&&t.css(l(u,t.specCss)),delete t.specCss,n.rotation=i.rotation)});this.tickRotCorr=w.rotCorr(c.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||i(this.min)&&i(this.max)&&!!this.tickPositions},addTitle:function(n){var u=this.chart.renderer,f=this.horiz,r=this.opposite,t=this.options.title,i;this.axisTitle||((i=t.textAlign)||(i=(f?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[t.align]),this.axisTitle=u.text(t.text,0,0,t.useHTML).attr({zIndex:7,rotation:t.rotation||0,align:i}).addClass("highcharts-axis-title").css(t.style).add(this.axisGroup),this.axisTitle.isNew=!0);t.style.width||this.isRadial||this.axisTitle.css({width:this.len});this.axisTitle[n?"show":"hide"](!0)},generateTick:function(n){var t=this.ticks;t[n]?t[n].addLabel():t[n]=new o(this,n)},getOffset:function(){var n=this,s=n.chart,l=s.renderer,f=n.options,p=n.tickPositions,w=n.ticks,b=n.horiz,u=n.side,it=s.inverted&&!n.isZAxis?[1,0,3,2][u]:u,y,k,rt=0,d,o=0,h=f.title,a=f.labels,c=0,g=s.axisOffset,s=s.clipOffset,v=[-1,1,1,-1][u],nt=f.className,tt=n.axisParent,ut=this.tickSize("tick");y=n.hasData();n.showAxis=k=y||t(f.showEmpty,!0);n.staggerLines=n.horiz&&a.staggerLines;n.axisGroup||(n.gridGroup=l.g("grid").attr({zIndex:f.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(nt||"")).add(tt),n.axisGroup=l.g("axis").attr({zIndex:f.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(nt||"")).add(tt),n.labelGroup=l.g("axis-labels").attr({zIndex:a.zIndex||7}).addClass("highcharts-"+n.coll.toLowerCase()+"-labels "+(nt||"")).add(tt));y||n.isLinked?(r(p,function(t,i){n.generateTick(t,i)}),n.renderUnsquish(),!1===a.reserveSpace||0!==u&&2!==u&&{1:"left",3:"right"}[u]!==n.labelAlign&&"center"!==n.labelAlign||r(p,function(n){c=Math.max(w[n].getLabelSize(),c)}),n.staggerLines&&(c*=n.staggerLines,n.labelOffset=c*(n.opposite?-1:1))):e(w,function(n,t){n.destroy();delete w[t]});h&&h.text&&!1!==h.enabled&&(n.addTitle(k),k&&!1!==h.reserveSpace&&(n.titleOffset=rt=n.axisTitle.getBBox()[b?"height":"width"],d=h.offset,o=i(d)?0:t(h.margin,b?5:10)));n.renderLine();n.offset=v*t(f.offset,g[u]);n.tickRotCorr=n.tickRotCorr||{x:0,y:0};l=0===u?-n.labelMetrics().h:2===u?n.tickRotCorr.y:0;o=Math.abs(c)+o;c&&(o=o-l+v*(b?t(a.y,n.tickRotCorr.y+8*v):a.x));n.axisTitleMargin=t(d,o);g[u]=Math.max(g[u],n.axisTitleMargin+rt+v*n.offset,o,y&&p.length&&ut?ut[0]+v*n.offset:0);f=f.offset?0:2*Math.floor(n.axisLine.strokeWidth()/2);s[it]=Math.max(s[it],f)},getLinePath:function(n){var t=this.chart,u=this.opposite,i=this.offset,r=this.horiz,f=this.left+(u?this.width:0)+i,i=t.chartHeight-this.bottom-(u?this.height:0)+i;return u&&(n*=-1),t.renderer.crispLine(["M",r?this.left:f,r?i:this.top,"L",r?t.chartWidth-this.right:f,r?i:t.chartHeight-this.bottom],n)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var n=this.horiz,u=this.left,o=this.top,t=this.len,i=this.options.title,f=n?u:o,e=this.opposite,s=this.offset,h=i.x||0,c=i.y||0,r=this.axisTitle,l=this.chart.renderer.fontMetrics(i.style&&i.style.fontSize,r),r=Math.max(r.getBBox(null,0).height-l.h-1,0),t={low:f+(n?0:t),middle:f+t/2,high:f+(n?t:0)}[i.align],u=(n?o+this.height:u)+(n?1:-1)*(e?-1:1)*this.axisTitleMargin+[-r,r,l.f,-r][this.side];return{x:n?t+h:u+(e?this.width:0)+s+h,y:n?u+c-(e?this.height:0)+s:t+c}},renderMinorTick:function(n){var i=this.chart.hasRendered&&u(this.oldMin),t=this.minorTicks;t[n]||(t[n]=new o(this,n,"minor"));i&&t[n].isNew&&t[n].render(null,!0);t[n].render(null,!1,1)},renderTick:function(n,t){var r=this.isLinked,i=this.ticks,f=this.chart.hasRendered&&u(this.oldMin);(!r||n>=this.min&&n<=this.max)&&(i[n]||(i[n]=new o(this,n)),f&&i[n].isNew&&i[n].render(t,!0,.1),i[n].render(t))},render:function(){var t=this,y=t.chart,f=t.options,w=t.isLog,b=t.lin2log,it=t.isLinked,l=t.tickPositions,s=t.axisTitle,a=t.ticks,d=t.minorTicks,i=t.alternateBands,g=f.stackLabels,nt=f.alternateGridColor,h=t.tickmarkOffset,c=t.axisLine,tt=t.showAxis,rt=k(y.renderer.globalAnimation),p,v;t.labelEdge.length=0;t.overlap=!1;r([a,d,i],function(n){e(n,function(n){n.isActive=!1})});(t.hasData()||it)&&(t.minorTickInterval&&!t.categories&&r(t.getMinorTickPositions(),function(n){t.renderMinorTick(n)}),l.length&&(r(l,function(n,i){t.renderTick(n,i)}),h&&(0===t.min||t.single)&&(a[-1]||(a[-1]=new o(t,-1,null,!0)),a[-1].render(-1))),nt&&r(l,function(r,u){v=void 0!==l[u+1]?l[u+1]+h:t.max-h;0==u%2&&r<t.max&&v<=t.max+(y.polar?-h:h)&&(i[r]||(i[r]=new n.PlotLineOrBand(t)),p=r+h,i[r].options={from:w?b(p):p,to:w?b(v):v,color:nt},i[r].render(),i[r].isActive=!0)}),t._addedPlotLB||(r((f.plotLines||[]).concat(f.plotBands||[]),function(n){t.addPlotBandOrLine(n)}),t._addedPlotLB=!0));r([a,d,i],function(n){var t,r=[],u=rt.duration;e(n,function(n,t){n.isActive||(n.render(t,!1,0),n.isActive=!1,r.push(t))});st(function(){for(t=r.length;t--;)n[r[t]]&&!n[r[t]].isActive&&(n[r[t]].destroy(),delete n[r[t]])},n!==i&&y.hasRendered&&u?u:0)});c&&(c[c.isPlaced?"animate":"attr"]({d:this.getLinePath(c.strokeWidth())}),c.isPlaced=!0,c[tt?"show":"hide"](!0));s&&tt&&(f=t.getTitlePosition(),u(f.y)?(s[s.isNew?"attr":"animate"](f),s.isNew=!1):(s.attr("y",-9999),s.isNew=!0));g&&g.enabled&&t.renderStackTotals();t.isDirty=!1},redraw:function(){this.visible&&(this.render(),r(this.plotLinesAndBands,function(n){n.render()}));r(this.series,function(n){n.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(n){var t=this,f=t.stacks,i=t.plotLinesAndBands,u;if(n||et(t),e(f,function(n,t){v(n);f[t]=null}),r([t.ticks,t.minorTicks,t.alternateBands],function(n){v(n)}),i)for(n=i.length;n--;)i[n].destroy();r("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(n){t[n]&&(t[n]=t[n].destroy())});for(u in t.plotLinesAndBandsGroups)t.plotLinesAndBandsGroups[u]=t.plotLinesAndBandsGroups[u].destroy();e(t,function(n,i){-1===c(i,t.keepProps)&&delete t[i]})},drawCrosshair:function(n,r){var o,u=this.crosshair,s=t(u.snap,!0),e,f=this.cross;n||(n=this.cross&&this.cross.e);this.crosshair&&!1!==(i(r)||!s)?(s?i(r)&&(e=this.isXAxis?r.plotX:this.len-r.plotY):e=n&&(this.horiz?n.chartX-this.pos:this.len-n.chartY+this.pos),i(e)&&(o=this.getPlotLinePath(r&&(this.isXAxis?r.x:t(r.stackY,r.y)),null,null,null,e)||null),i(o)?(r=this.categories&&!this.isRadial,f||(this.cross=f=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(r?"category ":"thin ")+u.className).attr({zIndex:t(u.zIndex,2)}).add(),f.attr({stroke:u.color||(r?d("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":t(u.width,1)}).css({"pointer-events":"none"}),u.dashStyle&&f.attr({dashstyle:u.dashStyle})),f.show().attr({d:o}),r&&!u.width&&f.attr({"stroke-width":this.transA}),this.cross.e=n):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),n.Axis=w}(t),function(n){var u=n.Axis,t=n.Date,f=n.dateFormat,e=n.defaultOptions,o=n.defined,s=n.each,h=n.extend,c=n.getMagnitude,r=n.getTZOffset,l=n.normalizeTickInterval,a=n.pick,i=n.timeUnits;u.prototype.getTimeTicks=function(n,u,c,l){var k=[],it={},b=e.global.useUTC,w,v=new t(u-Math.max(r(u),r(c))),d=t.hcMakeTime,y=n.unitRange,p=n.count,g,nt,tt,rt;if(o(u)){for(v[t.hcSetMilliseconds](y>=i.second?0:p*Math.floor(v.getMilliseconds()/p)),y>=i.second&&v[t.hcSetSeconds](y>=i.minute?0:p*Math.floor(v.getSeconds()/p)),y>=i.minute&&v[t.hcSetMinutes](y>=i.hour?0:p*Math.floor(v[t.hcGetMinutes]()/p)),y>=i.hour&&v[t.hcSetHours](y>=i.day?0:p*Math.floor(v[t.hcGetHours]()/p)),y>=i.day&&v[t.hcSetDate](y>=i.month?1:p*Math.floor(v[t.hcGetDate]()/p)),y>=i.month&&(v[t.hcSetMonth](y>=i.year?0:p*Math.floor(v[t.hcGetMonth]()/p)),w=v[t.hcGetFullYear]()),y>=i.year&&v[t.hcSetFullYear](w-w%p),y===i.week&&v[t.hcSetDate](v[t.hcGetDate]()-v[t.hcGetDay]()+a(l,1)),w=v[t.hcGetFullYear](),l=v[t.hcGetMonth](),tt=v[t.hcGetDate](),rt=v[t.hcGetHours](),(t.hcTimezoneOffset||t.hcGetTimezoneOffset)&&(nt=(!b||!!t.hcGetTimezoneOffset)&&(c-u>4*i.month||r(u)!==r(c)),v=v.getTime(),g=r(v),v=new t(v+g)),b=v.getTime(),u=1;b<c;)k.push(b),b=y===i.year?d(w+u*p,0):y===i.month?d(w,l+u*p):!nt||y!==i.day&&y!==i.week?nt&&y===i.hour?d(w,l,tt,rt+u*p,0,0,g)-g:b+y*p:d(w,l,tt+u*p*(y===i.day?1:7)),u++;k.push(b);y<=i.hour&&1e4>k.length&&s(k,function(n){0==n%18e5&&"000000000"===f("%H%M%S%L",n)&&(it[n]="day")})}return k.info=h(n,{higherRanks:it,totalRange:y*p}),k};u.prototype.normalizeTimeTickInterval=function(n,t){var u=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r,f,e;for(t=u[u.length-1],r=i[t[0]],f=t[1],e=0;e<u.length&&!(t=u[e],r=i[t[0]],f=t[1],u[e+1]&&n<=(r*f[f.length-1]+i[u[e+1][0]])/2);e++);return r===i.year&&n<5*r&&(f=[1,2,5]),n=l(n/r,f,"year"===t[0]?Math.max(c(n/r),1):1),{unitRange:r,count:n,unitName:t[0]}}}(t),function(n){var t=n.Axis,i=n.getMagnitude,r=n.map,u=n.normalizeTickInterval,f=n.pick;t.prototype.getLogTickPositions=function(n,t,e,o){var h=this.options,s=this.len,v=this.lin2log,w=this.log2lin,l=[],a,b,y,c,p;if(o||(this._minorAutoInterval=null),.5<=n)n=Math.round(n),l=this.getLinearTickPositions(n,t,e);else if(.08<=n)for(s=Math.floor(t),h=.3<n?[1,2,4]:.15<n?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<e+1&&!p;s++)for(b=h.length,a=0;a<b&&!p;a++)y=w(v(s)*h[a]),y>t&&(!o||c<=e)&&void 0!==c&&l.push(c),c>e&&(p=!0),c=y;else t=v(t),e=v(e),n=o?this.getMinorTickInterval():h.tickInterval,n=f("auto"===n?null:n,this._minorAutoInterval,h.tickPixelInterval/(o?5:1)*(e-t)/((o?s/this.tickPositions.length:s)||1)),n=u(n,null,i(n)),l=r(this.getLinearTickPositions(n,t,e),w),o||(this._minorAutoInterval=n/5);return o||(this.tickInterval=n),l};t.prototype.log2lin=function(n){return Math.log(n)/Math.LN10};t.prototype.lin2log=function(n){return Math.pow(10,n)}}(t),function(n,t){var r=n.arrayMax,u=n.arrayMin,i=n.defined,e=n.destroyObjectProperties,o=n.each,f=n.erase,s=n.merge,h=n.pick;n.PlotLineOrBand=function(n,t){this.axis=n;t&&(this.options=t,this.id=t.id)};n.PlotLineOrBand.prototype={render:function(){var o=this,f=o.axis,l=f.horiz,r=o.options,a=r.label,v=o.label,y=r.to,p=r.from,w=r.value,u=i(p)&&i(y),nt=i(w),e=o.svgElem,tt=!e,t=[],c=r.color,k=h(r.zIndex,0),d=r.events,t={"class":"highcharts-plot-"+(u?"band ":"line ")+(r.className||"")},it={},rt=f.chart.renderer,b=u?"bands":"lines",g=f.log2lin;if(f.isLog&&(p=g(p),y=g(y),w=g(w)),nt?(t={stroke:c,"stroke-width":r.width},r.dashStyle&&(t.dashstyle=r.dashStyle)):u&&(c&&(t.fill=c),r.borderWidth&&(t.stroke=r.borderColor,t["stroke-width"]=r.borderWidth)),it.zIndex=k,b+="-"+k,(c=f.plotLinesAndBandsGroups[b])||(f.plotLinesAndBandsGroups[b]=c=rt.g("plot-"+b).attr(it).add()),tt&&(o.svgElem=e=rt.path().attr(t).add(c)),nt)t=f.getPlotLinePath(w,e.strokeWidth());else if(u)t=f.getPlotBandPath(p,y,r);else return;return tt&&t&&t.length?(e.attr({d:t}),d&&n.objectEach(d,function(n,t){e.on(t,function(n){d[t].apply(o,[n])})})):e&&(t?(e.show(),e.animate({d:t})):(e.hide(),v&&(o.label=v=v.destroy()))),a&&i(a.text)&&t&&t.length&&0<f.width&&0<f.height&&!t.flat?(a=s({align:l&&u&&"center",x:l?!u&&4:10,verticalAlign:!l&&u&&"middle",y:l?u?16:10:u?6:-4,rotation:l&&!u&&90},a),this.renderLabel(a,t,u,k)):v&&v.hide(),o},renderLabel:function(n,t,i,f){var e=this.label,o=this.axis.chart.renderer;e||(e={align:n.textAlign||n.align,rotation:n.rotation,"class":"highcharts-plot-"+(i?"band":"line")+"-label "+(n.className||"")},e.zIndex=f,this.label=e=o.text(n.text,0,0,n.useHTML).attr(e).add(),e.css(n.style));f=t.xBounds||[t[1],t[4],i?t[6]:t[1]];t=t.yBounds||[t[2],t[5],i?t[7]:t[2]];i=u(f);o=u(t);e.align(n,!1,{x:i,y:o,width:r(f)-i,height:r(t)-o});e.show()},destroy:function(){f(this.axis.plotLinesAndBands,this);delete this.axis;e(this)}};n.extend(t.prototype,{getPlotBandPath:function(n,t){var i=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(n,null,null,!0),f=[],e=this.horiz,u=1,o;if(n=n<this.min&&t<this.min||n>this.max&&t>this.max,r&&i)for(n&&(o=r.toString()===i.toString(),u=0),n=0;n<r.length;n+=6)e&&i[n+1]===r[n+1]?(i[n+1]+=u,i[n+4]+=u):e||i[n+2]!==r[n+2]||(i[n+2]+=u,i[n+5]+=u),f.push("M",r[n+1],r[n+2],"L",r[n+4],r[n+5],i[n+4],i[n+5],i[n+1],i[n+2],"z"),f.flat=o;return f},addPlotBand:function(n){return this.addPlotBandOrLine(n,"plotBands")},addPlotLine:function(n){return this.addPlotBandOrLine(n,"plotLines")},addPlotBandOrLine:function(t,i){var r=new n.PlotLineOrBand(this,t).render(),u=this.userOptions;return r&&(i&&(u[i]=u[i]||[],u[i].push(t)),this.plotLinesAndBands.push(r)),r},removePlotBandOrLine:function(n){for(var i=this.plotLinesAndBands,r=this.options,u=this.userOptions,t=i.length;t--;)i[t].id===n&&i[t].destroy();o([r.plotLines||[],u.plotLines||[],r.plotBands||[],u.plotBands||[]],function(i){for(t=i.length;t--;)i[t].id===n&&f(i,i[t])})},removePlotBand:function(n){this.removePlotBandOrLine(n)},removePlotLine:function(n){this.removePlotBandOrLine(n)}})}(t,i),function(n){var f=n.dateFormat,i=n.each,s=n.extend,h=n.format,c=n.isNumber,e=n.map,o=n.merge,t=n.pick,r=n.splat,l=n.syncTimeout,u=n.timeUnits;n.Tooltip=function(){this.init.apply(this,arguments)};n.Tooltip.prototype={init:function(n,t){this.chart=n;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.split=t.split&&!n.inverted;this.shared=t.shared||this.split},cleanSplit:function(n){i(this.chart.series,function(t){var i=t&&t.tt;i&&(!i.isActive||n?t.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,n=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,"tooltip").attr({padding:n.padding,r:n.borderRadius}),this.label.attr({fill:n.backgroundColor,"stroke-width":n.borderWidth}).css(n.style).shadow(n.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(n){this.destroy();o(!0,this.chart.options.tooltip.userOptions,n);this.init(this.chart,o(!0,this.options,n))},destroy:function(){this.label&&(this.label=this.label.destroy());this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(n,t,i,r){var u=this,f=u.now,e=!1!==u.options.animation&&!u.isHidden&&(1<Math.abs(n-f.x)||1<Math.abs(t-f.y)),o=u.followPointer||1<u.len;s(f,{x:e?(2*f.x+n)/3:n,y:e?(f.y+t)/2:t,anchorX:o?void 0:e?(2*f.anchorX+i)/3:i,anchorY:o?void 0:e?(f.anchorY+r)/2:r});u.getLabel().attr(f);e&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){u&&u.move(n,t,i,r)},32))},hide:function(n){var i=this;clearTimeout(this.hideTimer);n=t(n,this.options.hideDelay,500);this.isHidden||(this.hideTimer=l(function(){i.getLabel()[n?"fadeOut":"hide"]();i.isHidden=!0},n))},getAnchor:function(n,t){var f,u=this.chart,o=u.inverted,c=u.plotTop,v=u.plotLeft,s=0,h=0,l,a;return n=r(n),f=n[0].tooltipPos,this.followPointer&&t&&(void 0===t.chartX&&(t=u.pointer.normalize(t)),f=[t.chartX-u.plotLeft,t.chartY-c]),f||(i(n,function(n){l=n.series.yAxis;a=n.series.xAxis;s+=n.plotX+(!o&&a?a.left-v:0);h+=(n.plotLow?(n.plotLow+n.plotHigh)/2:n.plotY)+(!o&&l?l.top-c:0)}),s/=n.length,h/=n.length,f=[o?u.plotWidth-h:s,this.shared&&!o&&1<n.length&&t?t.chartY-c:o?u.plotHeight-s:h]),e(f,Math.round)},getPosition:function(n,i,r){var u=this.chart,e=this.distance,f={},o=u.inverted&&r.h||0,s,h=["y",u.chartHeight,i,r.plotY+u.plotTop,u.plotTop,u.plotTop+u.plotHeight],c=["x",u.chartWidth,n,r.plotX+u.plotLeft,u.plotLeft,u.plotLeft+u.plotWidth],v=!this.followPointer&&t(r.ttBelow,!u.inverted==!!r.negative),y=function(n,t,i,r,u,s){var c=i<r-e,l=r+e+i<t,h=r-e-i;if(r+=e,v&&l)f[n]=r;else if(!v&&c)f[n]=h;else if(c)f[n]=Math.min(s-i,0>h-o?h:h-o);else if(l)f[n]=Math.max(u,r+o+i>t?r:r+o);else return!1},p=function(n,t,i,r){var u;return r<e||r>t-e?u=!1:f[n]=r<i/2?1:r>t-i/2?t-i-2:r-i/2,u},l=function(n){var t=h;h=c;c=t;s=n},a=function(){!1!==y.apply(0,h)?!1!==p.apply(0,c)||s||(l(!0),a()):s?f.x=f.y=0:(l(!0),a())};return(u.inverted||1<this.len)&&l(),a(),f},defaultFormatter:function(n){var i=this.points||r(this),t;return t=[n.tooltipFooterHeaderFormatter(i[0])],t=t.concat(n.bodyFormatter(i)),t.push(n.tooltipFooterHeaderFormatter(i[0],!0)),t},refresh:function(n,u){var o,s=this.options,a,f=n,h,e={},l=[],c;o=s.formatter||this.defaultFormatter;e=this.shared;s.enabled&&(clearTimeout(this.hideTimer),this.followPointer=r(f)[0].series.tooltipOptions.followPointer,h=this.getAnchor(f,u),u=h[0],a=h[1],!e||f.series&&f.series.noSharedTooltip?e=f.getLabelConfig():(i(f,function(n){n.setState("hover");l.push(n.getLabelConfig())}),e={x:f[0].category,y:f[0].y},e.points=l,f=f[0]),this.len=l.length,e=o.call(e,this),c=f.series,this.distance=t(c.tooltipOptions.distance,16),!1===e?this.hide():(o=this.getLabel(),this.isHidden&&o.attr({opacity:1}).show(),this.split?this.renderSplit(e,r(n)):(s.style.width||o.css({width:this.chart.spacingBox.width}),o.attr({text:e&&e.join?e.join(""):e}),o.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+t(f.colorIndex,c.colorIndex)),o.attr({stroke:s.borderColor||f.color||c.color||"#666666"}),this.updatePosition({plotX:u,plotY:a,negative:f.negative,ttBelow:f.ttBelow,h:h[2]||0})),this.isHidden=!1))},renderSplit:function(r,u){var c=this,o=[],f=this.chart,l=f.renderer,h=!0,e=this.options,s=0,a=this.getLabel();n.isString(r)&&(r=[!1,r]);i(r.slice(0,u.length+1),function(n,i){if(!1!==n){i=u[i-1]||{isHeader:!0,plotX:u[0].plotX};var y=i.series||c,v=y.tt,r=i.series||{},p="highcharts-color-"+t(i.colorIndex,r.colorIndex,"none");v||(y.tt=v=l.label(null,null,null,"callout",null,null,e.useHTML).addClass("highcharts-tooltip-box "+p).attr({padding:e.padding,r:e.borderRadius,fill:e.backgroundColor,stroke:e.borderColor||i.color||r.color||"#333333","stroke-width":e.borderWidth}).add(a));v.isActive=!0;v.attr({text:n});v.css(e.style).shadow(e.shadow);n=v.getBBox();r=n.width+v.strokeWidth();i.isHeader?(s=n.height,r=Math.max(0,Math.min(i.plotX+f.plotLeft-r/2,f.chartWidth-r))):r=i.plotX+f.plotLeft-t(e.distance,16)-r;0>r&&(h=!1);n=(i.series&&i.series.yAxis&&i.series.yAxis.pos)+(i.plotY||0);n-=f.plotTop;o.push({target:i.isHeader?f.plotHeight+s:n,rank:i.isHeader?1:0,size:y.tt.getBBox().height+1,point:i,x:r,tt:v})}});this.cleanSplit();n.distribute(o,f.plotHeight+s);i(o,function(n){var i=n.point,r=i.series;n.tt.attr({visibility:void 0===n.pos?"hidden":"inherit",x:h||i.isHeader?n.x:i.plotX+f.plotLeft+t(e.distance,16),y:n.pos+f.plotTop,anchorX:i.isHeader?i.plotX+f.plotLeft:i.plotX+r.xAxis.pos,anchorY:i.isHeader?n.pos+f.plotTop-15:i.plotY+r.yAxis.pos})})},updatePosition:function(n){var i=this.chart,t=this.getLabel(),t=(this.options.positioner||this.getPosition).call(this,t.width,t.height,n);this.move(Math.round(t.x),Math.round(t.y||0),n.plotX+i.plotLeft,n.plotY+i.plotTop)},getDateFormat:function(n,t,i,r){var s=f("%m-%d %H:%M:%S.%L",t),h,e,o={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(e in u){if(n===u.week&&+f("%w",t)===i&&"00:00:00.000"===s.substr(6)){e="week";break}if(u[e]>n){e=c;break}if(o[e]&&s.substr(o[e])!=="01-01 00:00:00.000".substr(o[e]))break;"week"!==e&&(c=e)}return e&&(h=r[e]),h},getXDateFormat:function(n,t,i){t=t.dateTimeLabelFormats;var r=i&&i.closestPointRange;return(r?this.getDateFormat(r,n.x,i.options.startOfWeek,t):t.day)||t.year},tooltipFooterHeaderFormatter:function(n,t){t=t?"footer":"header";var u=n.series,f=u.tooltipOptions,r=f.xDateFormat,e=u.xAxis,s=e&&"datetime"===e.options.type&&c(n.key),o=f[t+"Format"];return s&&!r&&(r=this.getXDateFormat(n,f,e)),s&&r&&i(n.point&&n.point.tooltipDateKeys||["key"],function(n){o=o.replace("{point."+n+"}","{point."+n+":"+r+"}")}),h(o,{point:n,series:u})},bodyFormatter:function(n){return e(n,function(n){var t=n.series.tooltipOptions;return(t[(n.point.formatPrefix||"point")+"Formatter"]||n.point.tooltipFormatter).call(n.point,t[(n.point.formatPrefix||"point")+"Format"])})}}}(t),function(n){var u=n.addEvent,l=n.attr,i=n.charts,a=n.color,v=n.css,h=n.defined,t=n.each,f=n.extend,y=n.find,e=n.fireEvent,o=n.isObject,p=n.offset,r=n.pick,s=n.removeEvent,w=n.splat,c=n.Tooltip;n.Pointer=function(n,t){this.init(n,t)};n.Pointer.prototype={init:function(n,t){this.options=t;this.chart=n;this.runChartClick=t.chart.events&&!!t.chart.events.click;this.pinchDown=[];this.lastValidTouch={};c&&(n.tooltip=new c(n,t.tooltip),this.followTouchMove=r(t.tooltip.followTouchMove,!0));this.setDOMEvents()},zoomOption:function(n){var i=this.chart,u=i.options.chart,t=u.zoomType||"",i=i.inverted;/touch/.test(n.type)&&(t=r(u.pinchType,t));this.zoomX=n=/x/.test(t);this.zoomY=t=/y/.test(t);this.zoomHor=n&&!i||t&&i;this.zoomVert=t&&!i||n&&i;this.hasZoom=n||t},normalize:function(n,t){var i;return i=n.touches?n.touches.length?n.touches.item(0):n.changedTouches[0]:n,t||(this.chartPosition=t=p(this.chart.container)),f(n,{chartX:Math.round(i.pageX-t.left),chartY:Math.round(i.pageY-t.top)})},getCoordinates:function(n){var i={xAxis:[],yAxis:[]};return t(this.chart.axes,function(t){i[t.isXAxis?"xAxis":"yAxis"].push({axis:t,value:t.toValue(n[t.horiz?"chartX":"chartY"])})}),i},findNearestKDPoint:function(n,i,r){var u;return t(n,function(n){var t=!(n.noSharedTooltip&&i)&&0>n.options.findNearestPointBy.indexOf("y");if(n=n.searchPoint(r,t),(t=o(n,!0))&&!(t=!o(u,!0)))var t=u.distX-n.distX,f=u.dist-n.dist,e=(n.series.group&&n.series.group.zIndex)-(u.series.group&&u.series.group.zIndex),t=0<(0!==t&&i?t:0!==f?f:0!==e?e:u.series.index>n.series.index?-1:1);t&&(u=n)}),u},getPointFromEvent:function(n){n=n.target;for(var t;n&&!t;)t=n.point,n=n.parentNode;return t},getChartCoordinatesFromPoint:function(n,t){var i=n.series,r=i.xAxis,i=i.yAxis;if(r&&i)return t?{chartX:r.len+r.pos-n.clientX,chartY:i.len+i.pos-n.plotY}:{chartX:n.clientX+r.pos,chartY:n.plotY+i.pos}},getHoverData:function(i,u,f,e,s,h,c){var l,a=[],v=c&&c.isBoosting;return e=!(!e||!i),c=u&&!u.stickyTracking?[u]:n.grep(f,function(n){return n.visible&&!(!s&&n.directTouch)&&r(n.options.enableMouseTracking,!0)&&n.stickyTracking}),u=(l=e?i:this.findNearestKDPoint(c,s,h))&&l.series,l&&(s&&!u.noSharedTooltip?(c=n.grep(f,function(n){return n.visible&&!(!s&&n.directTouch)&&r(n.options.enableMouseTracking,!0)&&!n.noSharedTooltip}),t(c,function(n){var t=y(n.points,function(n){return n.x===l.x&&!n.isNull});o(t)&&(v&&(t=n.getPoint(t)),a.push(t))})):a.push(l)),{hoverPoint:l,hoverSeries:u,hoverPoints:a}},runPointActions:function(f,e){var o=this.chart,c=o.tooltip&&o.tooltip.options.enabled?o.tooltip:void 0,a=c?c.shared:!1,s=e||o.hoverPoint,h=s&&s.series||o.hoverSeries,h=this.getHoverData(s,h,o.series,!!e||h&&h.directTouch&&this.isDirectTouch,a,f,{isBoosting:o.isBoosting}),l,s=h.hoverPoint;if(l=h.hoverPoints,e=(h=h.hoverSeries)&&h.tooltipOptions.followPointer,a=a&&h&&!h.noSharedTooltip,s&&(s!==o.hoverPoint||c&&c.isHidden)){if(t(o.hoverPoints||[],function(t){-1===n.inArray(t,l)&&t.setState()}),t(l||[],function(n){n.setState("hover")}),o.hoverSeries!==h&&h.onMouseOver(),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),!s.series)return;s.firePointEvent("mouseOver");o.hoverPoints=l;o.hoverPoint=s;c&&c.refresh(a?l:s,f)}else e&&c&&!c.isHidden&&(s=c.getAnchor([{}],f),c.updatePosition({plotX:s[0],plotY:s[1]}));this.unDocMouseMove||(this.unDocMouseMove=u(o.container.ownerDocument,"mousemove",function(t){var r=i[n.hoverChartIndex];if(r)r.pointer.onDocumentMouseMove(t)}));t(o.axes,function(t){var i=r(t.crosshair.snap,!0),u=i?n.find(l,function(n){return n.series[t.coll]===t}):void 0;u||!i?t.drawCrosshair(f,u):t.hideCrosshair()})},reset:function(n,i){var r=this.chart,s=r.hoverSeries,u=r.hoverPoint,o=r.hoverPoints,f=r.tooltip,e=f&&f.shared?o:u;n&&e&&t(w(e),function(t){t.series.isCartesian&&void 0===t.plotX&&(n=!1)});n?f&&e&&(f.refresh(e),u&&(u.setState(u.state,!0),t(r.axes,function(n){n.crosshair&&n.drawCrosshair(null,u)}))):(u&&u.onMouseOut(),o&&t(o,function(n){n.setState()}),s&&s.onMouseOut(),f&&f.hide(i),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),t(r.axes,function(n){n.hideCrosshair()}),this.hoverX=r.hoverPoints=r.hoverPoint=null)},scaleGroups:function(n,i){var r=this.chart,u;t(r.series,function(t){u=n||t.getPlotBox();t.xAxis&&t.xAxis.zoomEnabled&&t.group&&(t.group.attr(u),t.markerGroup&&(t.markerGroup.attr(u),t.markerGroup.clip(i?r.clipRect:null)),t.dataLabelsGroup&&t.dataLabelsGroup.attr(u))});r.clipRect.attr(i||r.clipBox)},dragStart:function(n){var t=this.chart;t.mouseIsDown=n.type;t.cancelClick=!1;t.mouseDownX=this.mouseDownX=n.chartX;t.mouseDownY=this.mouseDownY=n.chartY},drag:function(n){var i=this.chart,o=i.options.chart,t=n.chartX,u=n.chartY,y=this.zoomHor,p=this.zoomVert,f=i.plotLeft,e=i.plotTop,c=i.plotWidth,l=i.plotHeight,v,r=this.selectionMarker,s=this.mouseDownX,h=this.mouseDownY,w=o.panKey&&n[o.panKey+"Key"];r&&r.touch||(t<f?t=f:t>f+c&&(t=f+c),u<e?u=e:u>e+l&&(u=e+l),this.hasDragged=Math.sqrt(Math.pow(s-t,2)+Math.pow(h-u,2)),10<this.hasDragged&&(v=i.isInsidePlot(s-f,h-e),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&v&&!w&&!r&&(this.selectionMarker=r=i.renderer.rect(f,e,y?1:c,p?1:l,0).attr({fill:o.selectionMarkerFill||a("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add()),r&&y&&(t-=s,r.attr({width:Math.abs(t),x:(0<t?0:t)+s})),r&&p&&(t=u-h,r.attr({height:Math.abs(t),y:(0<t?0:t)+h})),v&&!r&&o.panning&&i.pan(n,o.panning)))},drop:function(n){var a=this,r=this.chart,u=this.hasPinched;if(this.selectionMarker){var o={originalEvent:n,xAxis:[],yAxis:[]},i=this.selectionMarker,s=i.attr?i.attr("x"):i.x,c=i.attr?i.attr("y"):i.y,y=i.attr?i.attr("width"):i.width,p=i.attr?i.attr("height"):i.height,l;(this.hasDragged||u)&&(t(r.axes,function(t){if(t.zoomEnabled&&h(t.min)&&(u||a[{xAxis:"zoomX",yAxis:"zoomY"}[t.coll]])){var i=t.horiz,r="touchend"===n.type?t.minPixelPadding:0,f=t.toValue((i?s:c)+r),i=t.toValue((i?s+y:c+p)-r);o[t.coll].push({axis:t,min:Math.min(f,i),max:Math.max(f,i)});l=!0}}),l&&e(r,"selection",o,function(n){r.zoom(f(n,u?{animation:!1}:null))}));this.selectionMarker=this.selectionMarker.destroy();u&&this.scaleGroups()}r&&(v(r.container,{cursor:r._cursor}),r.cancelClick=10<this.hasDragged,r.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(n){n=this.normalize(n);this.zoomOption(n);n.preventDefault&&n.preventDefault();this.dragStart(n)},onDocumentMouseUp:function(t){i[n.hoverChartIndex]&&i[n.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(n){var t=this.chart,i=this.chartPosition;n=this.normalize(n,i);!i||this.inClass(n.target,"highcharts-tracker")||t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(t){var r=i[n.hoverChartIndex];r&&(t.relatedTarget||t.toElement)&&(r.pointer.reset(),r.pointer.chartPosition=null)},onContainerMouseMove:function(t){var r=this.chart;h(n.hoverChartIndex)&&i[n.hoverChartIndex]&&i[n.hoverChartIndex].mouseIsDown||(n.hoverChartIndex=r.index);t=this.normalize(t);t.returnValue=!1;"mousedown"===r.mouseIsDown&&this.drag(t);(this.inClass(t.target,"highcharts-tracker")||r.isInsidePlot(t.chartX-r.plotLeft,t.chartY-r.plotTop))&&!r.openMenu&&this.runPointActions(t)},inClass:function(n,t){for(var i;n;){if(i=l(n,"class")){if(-1!==i.indexOf(t))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}n=n.parentNode}},onTrackerMouseOut:function(n){var t=this.chart.hoverSeries;n=n.relatedTarget||n.toElement;this.isDirectTouch=!1;!t||!n||t.stickyTracking||this.inClass(n,"highcharts-tooltip")||this.inClass(n,"highcharts-series-"+t.index)&&this.inClass(n,"highcharts-tracker")||t.onMouseOut()},onContainerClick:function(n){var t=this.chart,i=t.hoverPoint,r=t.plotLeft,u=t.plotTop;n=this.normalize(n);t.cancelClick||(i&&this.inClass(n.target,"highcharts-tracker")?(e(i.series,"click",f(n,{point:i})),t.hoverPoint&&i.firePointEvent("click",n)):(f(n,this.getCoordinates(n)),t.isInsidePlot(n.chartX-r,n.chartY-u)&&e(t,"click",n)))},setDOMEvents:function(){var t=this,i=t.chart.container,r=i.ownerDocument;i.onmousedown=function(n){t.onContainerMouseDown(n)};i.onmousemove=function(n){t.onContainerMouseMove(n)};i.onclick=function(n){t.onContainerClick(n)};u(i,"mouseleave",t.onContainerMouseLeave);1===n.chartCount&&u(r,"mouseup",t.onDocumentMouseUp);n.hasTouch&&(i.ontouchstart=function(n){t.onContainerTouchStart(n)},i.ontouchmove=function(n){t.onContainerTouchMove(n)},1===n.chartCount&&u(r,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t=this,i=this.chart.container.ownerDocument;t.unDocMouseMove&&t.unDocMouseMove();s(t.chart.container,"mouseleave",t.onContainerMouseLeave);n.chartCount||(s(i,"mouseup",t.onDocumentMouseUp),n.hasTouch&&s(i,"touchend",t.onDocumentTouchEnd));clearInterval(t.tooltipTimeout);n.objectEach(t,function(n,i){t[i]=null})}}}(t),function(n){var i=n.charts,r=n.each,u=n.extend,f=n.map,e=n.noop,t=n.pick;u(n.Pointer.prototype,{pinchTranslate:function(n,t,i,r,u,f){this.zoomHor&&this.pinchTranslateDirection(!0,n,t,i,r,u,f);this.zoomVert&&this.pinchTranslateDirection(!1,n,t,i,r,u,f)},pinchTranslateDirection:function(n,t,i,r,u,f,e,o){var a=this.chart,c=n?"x":"y",k=n?"X":"Y",v="chart"+k,it=n?"width":"height",d=a["plot"+(n?"Left":"Top")],l,g,s=o||1,nt=a.inverted,y=a.bounds[n?"h":"v"],p=1===t.length,w=t[0][v],h=i[0][v],rt=!p&&t[1][v],b=!p&&i[1][v],tt;i=function(){!p&&20<Math.abs(w-rt)&&(s=o||Math.abs(h-b)/Math.abs(w-rt));g=(d-h)/s+w;l=a["plot"+(n?"Width":"Height")]/s};i();t=g;t<y.min?(t=y.min,tt=!0):t+l>y.max&&(t=y.max-l,tt=!0);tt?(h-=.8*(h-e[c][0]),p||(b-=.8*(b-e[c][1])),i()):e[c]=[h,b];nt||(f[c]=g-d,f[it]=l);f=nt?1/s:s;u[it]=l;u[c]=t;r[nt?n?"scaleY":"scaleX":"scale"+k]=s;r["translate"+k]=f*d+(h-f*w)},pinch:function(n){var i=this,s=i.chart,o=i.pinchDown,h=n.touches,c=h.length,l=i.lastValidTouch,v=i.hasZoom,a=i.selectionMarker,y={},w=1===c&&(i.inClass(n.target,"highcharts-tracker")&&s.runTrackerClick||i.runChartClick),p={};1<c&&(i.initiated=!0);v&&i.initiated&&!w&&n.preventDefault();f(h,function(n){return i.normalize(n)});"touchstart"===n.type?(r(h,function(n,t){o[t]={chartX:n.chartX,chartY:n.chartY}}),l.x=[o[0].chartX,o[1]&&o[1].chartX],l.y=[o[0].chartY,o[1]&&o[1].chartY],r(s.axes,function(n){if(n.zoomEnabled){var i=s.bounds[n.horiz?"h":"v"],r=n.minPixelPadding,u=n.toPixels(t(n.options.min,n.dataMin)),f=n.toPixels(t(n.options.max,n.dataMax)),e=Math.max(u,f);i.min=Math.min(n.pos,Math.min(u,f)-r);i.max=Math.max(n.pos+n.len,e+r)}}),i.res=!0):i.followTouchMove&&1===c?this.runPointActions(i.normalize(n)):o.length&&(a||(i.selectionMarker=a=u({destroy:e,touch:!0},s.plotBox)),i.pinchTranslate(o,h,y,a,p,l),i.hasPinched=v,i.scaleGroups(y,p),i.res&&(i.res=!1,this.reset(!1,0)))},touch:function(i,r){var u=this.chart,f,e;if(u.index!==n.hoverChartIndex)this.onContainerMouseLeave({relatedTarget:!0});n.hoverChartIndex=u.index;1===i.touches.length?(i=this.normalize(i),(e=u.isInsidePlot(i.chartX-u.plotLeft,i.chartY-u.plotTop))&&!u.openMenu?(r&&this.runPointActions(i),"touchmove"===i.type&&(r=this.pinchDown,f=r[0]?4<=Math.sqrt(Math.pow(r[0].chartX-i.chartX,2)+Math.pow(r[0].chartY-i.chartY,2)):!1),t(f,!0)&&this.pinch(i)):r&&this.reset()):2===i.touches.length&&this.pinch(i)},onContainerTouchStart:function(n){this.zoomOption(n);this.touch(n,!0)},onContainerTouchMove:function(n){this.touch(n)},onDocumentTouchEnd:function(t){i[n.hoverChartIndex]&&i[n.hoverChartIndex].pointer.drop(t)}})}(t),function(n){var s=n.addEvent,o=n.charts,h=n.css,c=n.doc,l=n.extend,a=n.noop,i=n.Pointer,v=n.removeEvent,r=n.win,u=n.wrap;if(!n.hasTouch&&(r.PointerEvent||r.MSPointerEvent)){var t={},f=!!r.PointerEvent,y=function(){var i=[];return i.item=function(n){return this[n]},n.objectEach(t,function(n){i.push({pageX:n.pageX,pageY:n.pageY,target:n.target})}),i},e=function(t,i,r,u){("touch"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_TOUCH)&&o[n.hoverChartIndex]&&(u(t),u=o[n.hoverChartIndex].pointer,u[i]({type:r,target:t.currentTarget,preventDefault:a,touches:y()}))};l(i.prototype,{onContainerPointerDown:function(n){e(n,"onContainerTouchStart","touchstart",function(n){t[n.pointerId]={pageX:n.pageX,pageY:n.pageY,target:n.currentTarget}})},onContainerPointerMove:function(n){e(n,"onContainerTouchMove","touchmove",function(n){t[n.pointerId]={pageX:n.pageX,pageY:n.pageY};t[n.pointerId].target||(t[n.pointerId].target=n.currentTarget)})},onDocumentPointerUp:function(n){e(n,"onDocumentTouchEnd","touchend",function(n){delete t[n.pointerId]})},batchMSEvents:function(n){n(this.chart.container,f?"pointerdown":"MSPointerDown",this.onContainerPointerDown);n(this.chart.container,f?"pointermove":"MSPointerMove",this.onContainerPointerMove);n(c,f?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});u(i.prototype,"init",function(n,t,i){n.call(this,t,i);this.hasZoom&&h(t.container,{"-ms-touch-action":"none","touch-action":"none"})});u(i.prototype,"setDOMEvents",function(n){n.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(s)});u(i.prototype,"destroy",function(n){this.batchMSEvents(v);n.call(this)})}}(t),function(n){var e=n.addEvent,o=n.css,s=n.discardElement,u=n.defined,t=n.each,h=n.isFirefox,f=n.marginNames,r=n.merge,i=n.pick,c=n.setAnimation,l=n.stableSort,a=n.win,v=n.wrap;n.Legend=function(n,t){this.init(n,t)};n.Legend.prototype={init:function(n,t){this.chart=n;this.setOptions(t);t.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(n){var t=i(n.padding,8);this.options=n;this.itemStyle=n.itemStyle;this.itemHiddenStyle=r(this.itemStyle,n.itemHiddenStyle);this.itemMarginTop=n.itemMarginTop||0;this.padding=t;this.initialItemY=t-5;this.itemHeight=this.maxItemWidth=0;this.symbolWidth=i(n.symbolWidth,16);this.pages=[]},update:function(n,t){var u=this.chart;this.setOptions(r(!0,this.options,n));this.destroy();u.isDirtyLegend=u.isDirtyBox=!0;i(t,!0)&&u.redraw()},colorizeItem:function(n,t){n.legendGroup[t?"removeClass":"addClass"]("highcharts-legend-item-hidden");var u=this.options,e=n.legendItem,o=n.legendLine,f=n.legendSymbol,i=this.itemHiddenStyle.color,u=t?u.itemStyle.color:i,s=t?n.color||i:i,h=n.options&&n.options.marker,r={fill:s};e&&e.css({fill:u,color:u});o&&o.attr({stroke:s});f&&(h&&f.isMarker&&(r=n.pointAttribs(),t||(r.stroke=r.fill=i)),f.attr(r))},positionItem:function(n){var i=this.options,f=i.symbolPadding,i=!i.rtl,t=n._legendItemPos,r=t[0],t=t[1],u=n.checkbox;(n=n.legendGroup)&&n.element&&n.translate(i?r:this.legendWidth-r-2*f-4,t);u&&(u.x=r,u.y=t)},destroyItem:function(n){var i=n.checkbox;t(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){n[t]&&(n[t]=n[t].destroy())});i&&s(n.checkbox)},destroy:function(){function n(n){this[n]&&(this[n]=this[n].destroy())}t(this.getAllItems(),function(i){t(["legendItem","legendGroup"],n,i)});t("clipRect up down pager nav box title group".split(" "),n,this);this.display=null},positionCheckboxes:function(n){var r=this.group&&this.group.alignAttr,i,u=this.clipHeight||this.legendHeight,f=this.titleHeight;r&&(i=r.translateY,t(this.allItems,function(t){var e=t.checkbox,s;e&&(s=i+f+e.y+(n||0)+3,o(e,{left:r.translateX+t.checkboxOffset+e.x-20+"px",top:s+"px",display:s>i-6&&s<i+u-6?"":"none"}))}))},renderTitle:function(){var n=this.options,r=this.padding,t=n.title,i=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,r-3,r-4,null,null,null,n.useHTML,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),n=this.title.getBBox(),i=n.height,this.offsetWidth=n.width,this.contentGroup.attr({translateY:i}));this.titleHeight=i},setText:function(t){var i=this.options;t.legendItem.attr({text:i.labelFormat?n.format(i.labelFormat,t):i.labelFormatter.call(t)})},renderItem:function(n){var a=this.chart,u=a.renderer,t=this.options,s="horizontal"===t.layout,h=this.symbolWidth,v=t.symbolPadding,f=this.itemStyle,it=this.itemHiddenStyle,o=this.padding,w=s?i(t.itemDistance,20):0,b=!t.rtl,k=t.width,y=t.itemMarginBottom||0,c=this.itemMarginTop,e=n.legendItem,d=!n.series,p=!d&&n.series.drawLegendSymbol?n.series:n,l=p.options,g=this.createCheckboxForItem&&l&&l.showCheckbox,l=h+v+w+(g?20:0),nt=t.useHTML,tt=n.options.className;e||(n.legendGroup=u.g("legend-item").addClass("highcharts-"+p.type+"-series highcharts-color-"+n.colorIndex+(tt?" "+tt:"")+(d?" highcharts-series-"+n.index:"")).attr({zIndex:1}).add(this.scrollGroup),n.legendItem=e=u.text("",b?h+v:-v,this.baseline||0,nt).css(r(n.visible?f:it)).attr({align:b?"left":"right",zIndex:2}).add(n.legendGroup),this.baseline||(h=f.fontSize,this.fontMetrics=u.fontMetrics(h,e),this.baseline=this.fontMetrics.f+3+c,e.attr("y",this.baseline)),this.symbolHeight=t.symbolHeight||this.fontMetrics.f,p.drawLegendSymbol(this,n),this.setItemEvents&&this.setItemEvents(n,e,nt),g&&this.createCheckboxForItem(n));this.colorizeItem(n,n.visible);f.width||e.css({width:(t.itemWidth||t.width||a.spacingBox.width)-l});this.setText(n);u=e.getBBox();f=n.checkboxOffset=t.itemWidth||n.legendItemWidth||u.width+l;this.itemHeight=u=Math.round(n.legendItemHeight||u.height||this.symbolHeight);s&&this.itemX-o+f>(k||a.spacingBox.width-2*o-t.x)&&(this.itemX=o,this.itemY+=c+this.lastLineHeight+y,this.lastLineHeight=0);this.maxItemWidth=Math.max(this.maxItemWidth,f);this.lastItemY=c+this.itemY+y;this.lastLineHeight=Math.max(u,this.lastLineHeight);n._legendItemPos=[this.itemX,this.itemY];s?this.itemX+=f:(this.itemY+=c+u+y,this.lastLineHeight=u);this.offsetWidth=k||Math.max((s?this.itemX-o-(n.checkbox?0:w):f)+o,this.offsetWidth)},getAllItems:function(){var n=[];return t(this.chart.series,function(t){var r=t&&t.options;t&&i(r.showInLegend,u(r.linkedTo)?!1:void 0,!0)&&(n=n.concat(t.legendItems||("point"===r.legendType?t.data:t)))}),n},adjustMargins:function(n,r){var o=this.chart,e=this.options,s=e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0);e.floating||t([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(t,h){t.test(s)&&!u(n[h])&&(o[f[h]]=Math.max(o[f[h]],o.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*e[h%2?"x":"y"]+i(e.margin,12)+r[h]))})},render:function(){var n=this,v=n.chart,h=v.renderer,o=n.group,e,c,s,u,i=n.box,f=n.options,a=n.padding;n.itemX=a;n.itemY=n.initialItemY;n.offsetWidth=0;n.lastItemY=0;o||(n.group=o=h.g("legend").attr({zIndex:7}).add(),n.contentGroup=h.g().attr({zIndex:1}).add(o),n.scrollGroup=h.g().add(n.contentGroup));n.renderTitle();e=n.getAllItems();l(e,function(n,t){return(n.options&&n.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});f.reversed&&e.reverse();n.allItems=e;n.display=c=!!e.length;n.lastLineHeight=0;t(e,function(t){n.renderItem(t)});s=(f.width||n.offsetWidth)+a;u=n.lastItemY+n.lastLineHeight+n.titleHeight;u=n.handleOverflow(u);u+=a;i||(n.box=i=h.rect().addClass("highcharts-legend-box").attr({r:f.borderRadius}).add(o),i.isNew=!0);i.attr({stroke:f.borderColor,"stroke-width":f.borderWidth||0,fill:f.backgroundColor||"none"}).shadow(f.shadow);0<s&&0<u&&(i[i.isNew?"attr":"animate"](i.crisp.call({},{x:0,y:0,width:s,height:u},i.strokeWidth())),i.isNew=!1);i[c?"show":"hide"]();n.legendWidth=s;n.legendHeight=u;t(e,function(t){n.positionItem(t)});c&&o.align(r(f,{width:s,height:u}),!0,"spacingBox");v.isResizing||this.positionCheckboxes()},handleOverflow:function(n){var r=this,u=this.chart,h=u.renderer,f=this.options,l=f.y,c=this.padding,u=u.spacingBox.height+("top"===f.verticalAlign?-l:l)-c,l=f.maxHeight,a,s=this.clipRect,v=f.navigation,w=i(v.animation,!0),y=v.arrowSize||12,e=this.nav,o=this.pages,p,b=this.allItems,k=function(n){"number"==typeof n?s.attr({height:n}):s&&(r.clipRect=s.destroy(),r.contentGroup.clip());r.contentGroup.div&&(r.contentGroup.div.style.clip=n?"rect("+c+"px,9999px,"+(c+n)+"px,0)":"auto")};return"horizontal"!==f.layout||"middle"===f.verticalAlign||f.floating||(u/=2),l&&(u=Math.min(u,l)),o.length=0,n>u&&!1!==v.enabled?(this.clipHeight=a=Math.max(u-20-this.titleHeight-c,0),this.currentPage=i(this.currentPage,1),this.fullHeight=n,t(b,function(n,t){var i=n._legendItemPos[1],r;n=Math.round(n.legendItem.getBBox().height);r=o.length;(!r||i-o[r-1]>a&&(p||i)!==o[r-1])&&(o.push(p||i),r++);t===b.length-1&&i+n-o[r-1]>a&&o.push(i);i!==p&&(p=i)}),s||(s=r.clipRect=h.clipRect(0,c,9999,0),r.contentGroup.clip(s)),k(a),e||(this.nav=e=h.g().attr({zIndex:1}).add(this.group),this.up=h.symbol("triangle",0,0,y,y).on("click",function(){r.scroll(-1,w)}).add(e),this.pager=h.text("",15,10).addClass("highcharts-legend-navigation").css(v.style).add(e),this.down=h.symbol("triangle-down",0,0,y,y).on("click",function(){r.scroll(1,w)}).add(e)),r.scroll(0),n=u):e&&(k(),this.nav=e.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),n},scroll:function(n,t){var u=this.pages,i=u.length;n=this.currentPage+n;var f=this.clipHeight,r=this.options.navigation,e=this.pager,o=this.padding;n>i&&(n=i);0<n&&(void 0!==t&&c(t,this.chart),this.nav.attr({translateX:o,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===n?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),e.attr({text:n+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,"class":n===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===n?r.inactiveColor:r.activeColor}).css({cursor:1===n?"default":"pointer"}),this.down.attr({fill:n===i?r.inactiveColor:r.activeColor}).css({cursor:n===i?"default":"pointer"}),t=-u[n-1]+this.initialItemY,this.scrollGroup.animate({translateY:t}),this.currentPage=n,this.positionCheckboxes(t))}};n.LegendSymbolMixin={drawRectangle:function(n,t){var r=n.symbolHeight,u=n.options.squareSymbol;t.legendSymbol=this.chart.renderer.rect(u?(n.symbolWidth-r)/2:0,n.baseline-r+1,u?r:n.symbolWidth,r,i(n.options.symbolRadius,r/2)).addClass("highcharts-point").attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(n){var t=this.options,u=t.marker,o=n.symbolWidth,f=n.symbolHeight,s=f/2,h=this.chart.renderer,c=this.legendGroup,e;n=n.baseline-Math.round(.3*n.fontMetrics.b);e={"stroke-width":t.lineWidth||0};t.dashStyle&&(e.dashstyle=t.dashStyle);this.legendLine=h.path(["M",0,n,"L",o,n]).addClass("highcharts-graph").attr(e).add(c);u&&!1!==u.enabled&&(t=Math.min(i(u.radius,s),s),0===this.symbol.indexOf("url")&&(u=r(u,{width:f,height:f}),t=0),this.legendSymbol=u=h.symbol(this.symbol,o/2-t,n-t,2*t,2*t,u).addClass("highcharts-point").add(c),u.isMarker=!0)}};(/Trident\/7\.0/.test(a.navigator.userAgent)||h)&&v(n.Legend.prototype,"positionItem",function(n,t){var r=this,i=function(){t._legendItemPos&&n.call(r,t)};i();setTimeout(i)})}(t),function(n){var c=n.addEvent,rt=n.animate,ut=n.animObject,p=n.attr,r=n.doc,ft=n.Axis,et=n.createElement,ot=n.defaultOptions,st=n.discardElement,u=n.charts,ht=n.css,f=n.defined,t=n.each,o=n.extend,l=n.find,i=n.fireEvent,w=n.grep,ct=n.isNumber,lt=n.isObject,a=n.isString,at=n.Legend,b=n.marginNames,s=n.merge,k=n.objectEach,d=n.Pointer,h=n.pick,v=n.pInt,g=n.removeEvent,y=n.seriesTypes,nt=n.splat,vt=n.svg,tt=n.syncTimeout,e=n.win,it=n.Chart=function(){this.getArgs.apply(this,arguments)};n.chart=function(n,t,i){return new it(n,t,i)};o(it.prototype,{callbacks:[],getArgs:function(){var n=[].slice.call(arguments);(a(n[0])||n[0].nodeName)&&(this.renderTo=n.shift());this.init(n[0],n[1])},init:function(t,i){var f,e,h=t.series,o=t.plotOptions||{},r;t.series=null;f=s(ot,t);for(e in f.plotOptions)f.plotOptions[e].tooltip=o[e]&&s(o[e].tooltip)||void 0;f.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip;f.series=t.series=h;this.userOptions=t;t=f.chart;e=t.events;this.margin=[];this.spacing=[];this.bounds={h:{},v:{}};this.labelCollectors=[];this.callback=i;this.isResizing=0;this.options=f;this.axes=[];this.series=[];this.hasCartesianSeries=t.showAxes;r=this;r.index=u.length;u.push(r);n.chartCount++;e&&k(e,function(n,t){c(r,t,n)});r.xAxis=[];r.yAxis=[];r.pointCount=r.colorCounter=r.symbolCounter=0;r.firstRender()},initSeries:function(t){var i=this.options.chart;return(i=y[t.type||i.type||i.defaultSeriesType])||n.error(17,!0),i=new i,i.init(this,t),i},orderSeries:function(n){var t=this.series;for(n=n||0;n<t.length;n++)t[n]&&(t[n].index=n,t[n].name=t[n].name||"Series "+(t[n].index+1))},isInsidePlot:function(n,t,i){var r=i?t:n;return n=i?n:t,0<=r&&r<=this.plotWidth&&0<=n&&n<=this.plotHeight},redraw:function(r){var s=this.axes,u=this.series,c=this.pointer,l=this.legend,a=this.isDirtyLegend,h,v,y=this.hasCartesianSeries,e=this.isDirtyBox,f,p=this.renderer,w=p.isHidden(),b=[];for(this.setResponsive&&this.setResponsive(!1),n.setAnimation(r,this),w&&this.temporaryDisplay(),this.layOutTitles(),r=u.length;r--;)if(f=u[r],f.options.stacking&&(h=!0,f.isDirty)){v=!0;break}if(v)for(r=u.length;r--;)f=u[r],f.options.stacking&&(f.isDirty=!0);t(u,function(n){n.isDirty&&"point"===n.options.legendType&&(n.updateTotals&&n.updateTotals(),a=!0);n.isDirtyData&&i(n,"updatedData")});a&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1);h&&this.getStacks();y&&t(s,function(n){n.updateNames();n.setScale()});this.getMargins();y&&(t(s,function(n){n.isDirty&&(e=!0)}),t(s,function(n){var t=n.min+","+n.max;n.extKey!==t&&(n.extKey=t,b.push(function(){i(n,"afterSetExtremes",o(n.eventArgs,n.getExtremes()));delete n.eventArgs}));(e||h)&&n.redraw()}));e&&this.drawChartBox();i(this,"predraw");t(u,function(n){(e||n.isDirty)&&n.visible&&n.redraw();n.isDirtyData=!1});c&&c.reset(!0);p.draw();i(this,"redraw");i(this,"render");w&&this.temporaryDisplay(!0);t(b,function(n){n.call()})},get:function(n){function r(t){return t.id===n||t.options&&t.options.id===n}for(var u=this.series,t=l(this.axes,r)||l(this.series,r),i=0;!t&&i<u.length;i++)t=l(u[i].points||[],r);return t},getAxes:function(){var r=this,n=this.options,i=n.xAxis=nt(n.xAxis||{}),n=n.yAxis=nt(n.yAxis||{});t(i,function(n,t){n.index=t;n.isX=!0});t(n,function(n,t){n.index=t});i=i.concat(n);t(i,function(n){new ft(r,n)})},getSelectedPoints:function(){var n=[];return t(this.series,function(t){n=n.concat(w(t.data||[],function(n){return n.selected}))}),n},getSelectedSeries:function(){return w(this.series,function(n){return n.selected})},setTitle:function(n,i,r){var u=this,f=u.options,e;e=f.title=s({style:{color:"#333333",fontSize:f.isStock?"16px":"18px"}},f.title,n);f=f.subtitle=s({style:{color:"#666666"}},f.subtitle,i);t([["title",n,e],["subtitle",i,f]],function(n,t){var i=n[0],r=u[i],f=n[1];n=n[2];r&&f&&(u[i]=r=r.destroy());n&&!r&&(u[i]=u.renderer.text(n.text,0,0,n.useHTML).attr({align:n.align,"class":"highcharts-"+i,zIndex:n.zIndex||4}).add(),u[i].update=function(n){u.setTitle(!t&&n,t&&n)},u[i].css(n.style))});u.layOutTitles(r)},layOutTitles:function(n){var i=0,r,u=this.renderer,f=this.spacingBox;t(["title","subtitle"],function(n){var r=this[n],t=this.options[n],e;n="title"===n?-3:t.verticalAlign?0:i+2;r&&(e=t.style.fontSize,e=u.fontMetrics(e,r).b,r.css({width:(t.width||f.width+t.widthAdjust)+"px"}).align(o({y:n+e},t),!1,"spacingBox"),t.floating||t.verticalAlign||(i=Math.ceil(i+r.getBBox(t.useHTML).height)))},this);r=this.titleOffset!==i;this.titleOffset=i;!this.isDirtyBox&&r&&(this.isDirtyBox=r,this.hasRendered&&h(n,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,i=t.width,t=t.height,r=this.renderTo;f(i)||(this.containerWidth=n.getStyle(r,"width"));f(t)||(this.containerHeight=n.getStyle(r,"height"));this.chartWidth=Math.max(0,i||this.containerWidth||600);this.chartHeight=Math.max(0,n.relativeLength(t,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(t){var i=this.renderTo;if(t)for(;i&&i.style;)i.hcOrigStyle&&(n.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(r.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style;)if(r.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,r.body.appendChild(i)),("none"===n.getStyle(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},t={display:"block",overflow:"hidden"},i!==this.renderTo&&(t.height=0),n.css(i,t),i.offsetWidth||i.style.setProperty("display","block","important")),i=i.parentNode,i===r.body)break},setClassName:function(n){this.container.className="highcharts-container "+(n||"")},getContainer:function(){var t,e=this.options,f=e.chart,i,s,h,c;t=this.renderTo;h=n.uniqueKey();t||(this.renderTo=t=f.renderTo);a(t)&&(this.renderTo=t=r.getElementById(t));t||n.error(13,!0);i=v(p(t,"data-highcharts-chart"));ct(i)&&u[i]&&u[i].hasRendered&&u[i].destroy();p(t,"data-highcharts-chart",this.index);t.innerHTML="";f.skipClone||t.offsetWidth||this.temporaryDisplay();this.getChartSize();i=this.chartWidth;s=this.chartHeight;c=o({position:"relative",overflow:"hidden",width:i+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},f.style);this.container=t=et("div",{id:h},c,t);this._cursor=t.style.cursor;this.renderer=new(n[f.renderer]||n.Renderer)(t,i,s,null,f.forExport,e.exporting&&e.exporting.allowHTML);this.setClassName(f.className);this.renderer.setStyle(f.style);this.renderer.chartIndex=this.index},getMargins:function(n){var t=this.spacing,i=this.margin,r=this.titleOffset;this.resetMargins();r&&!f(i[0])&&(this.plotTop=Math.max(this.plotTop,r+this.options.title.margin+t[0]));this.legend&&this.legend.display&&this.legend.adjustMargins(i,t);this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value);this.adjustPlotArea&&this.adjustPlotArea();n||this.getAxisMargins()},getAxisMargins:function(){var n=this,i=n.axisOffset=[0,0,0,0],r=n.margin;n.hasCartesianSeries&&t(n.axes,function(n){n.visible&&n.getOffset()});t(b,function(t,u){f(r[u])||(n[t]+=i[u])});n.setChartSize()},reflow:function(t){var i=this,u=i.options.chart,o=i.renderTo,h=f(u.width)&&f(u.height),s=u.width||n.getStyle(o,"width"),u=u.height||n.getStyle(o,"height"),o=t?t.target:e;!h&&!i.isPrinting&&s&&u&&(o===e||o===r)&&((s!==i.containerWidth||u!==i.containerHeight)&&(clearTimeout(i.reflowTimeout),i.reflowTimeout=tt(function(){i.container&&i.setSize(void 0,void 0,!1)},t?100:0)),i.containerWidth=s,i.containerHeight=u)},initReflow:function(){var n=this,t;t=c(e,"resize",function(t){n.reflow(t)});c(n,"destroy",t)},setSize:function(r,u,f){var e=this,o=e.renderer;e.isResizing+=1;n.setAnimation(f,e);e.oldChartHeight=e.chartHeight;e.oldChartWidth=e.chartWidth;void 0!==r&&(e.options.chart.width=r);void 0!==u&&(e.options.chart.height=u);e.getChartSize();r=o.globalAnimation;(r?rt:ht)(e.container,{width:e.chartWidth+"px",height:e.chartHeight+"px"},r);e.setChartSize(!0);o.setSize(e.chartWidth,e.chartHeight,f);t(e.axes,function(n){n.isDirty=!0;n.setScale()});e.isDirtyLegend=!0;e.isDirtyBox=!0;e.layOutTitles();e.getMargins();e.redraw(f);e.oldChartHeight=null;i(e,"resize");tt(function(){e&&i(e,"endResize",null,function(){--e.isResizing})},ut(r).duration)},setChartSize:function(n){var u=this.inverted,f=this.renderer,i=this.chartWidth,l=this.chartHeight,a=this.options.chart,r=this.spacing,e=this.clipOffset,h,c,o,s;this.plotLeft=h=Math.round(this.plotLeft);this.plotTop=c=Math.round(this.plotTop);this.plotWidth=o=Math.max(0,Math.round(i-h-this.marginRight));this.plotHeight=s=Math.max(0,Math.round(l-c-this.marginBottom));this.plotSizeX=u?s:o;this.plotSizeY=u?o:s;this.plotBorderWidth=a.plotBorderWidth||0;this.spacingBox=f.spacingBox={x:r[3],y:r[0],width:i-r[3]-r[1],height:l-r[0]-r[2]};this.plotBox=f.plotBox={x:h,y:c,width:o,height:s};i=2*Math.floor(this.plotBorderWidth/2);u=Math.ceil(Math.max(i,e[3])/2);f=Math.ceil(Math.max(i,e[0])/2);this.clipBox={x:u,y:f,width:Math.floor(this.plotSizeX-Math.max(i,e[1])/2-u),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(i,e[2])/2-f))};n||t(this.axes,function(n){n.setAxisSize();n.setAxisTranslation()})},resetMargins:function(){var n=this,i=n.options.chart;t(["margin","spacing"],function(r){var u=i[r],f=lt(u)?u:[u,u,u,u];t(["Top","Right","Bottom","Left"],function(t,u){n[r][u]=h(i[r+t],f[u])})});t(b,function(t,i){n[t]=h(n.margin[i],n.spacing[i])});n.axisOffset=[0,0,0,0];n.clipOffset=[0,0,0,0]},drawChartBox:function(){var n=this.options.chart,u=this.renderer,k=this.chartWidth,d=this.chartHeight,f=this.chartBackground,s=this.plotBackground,i=this.plotBorder,r,c=this.plotBGImage,e=n.backgroundColor,g=n.plotBackgroundColor,l=n.plotBackgroundImage,o,a=this.plotLeft,v=this.plotTop,y=this.plotWidth,p=this.plotHeight,w=this.plotBox,b=this.clipRect,h=this.clipBox,t="animate";f||(this.chartBackground=f=u.rect().addClass("highcharts-background").add(),t="attr");r=n.borderWidth||0;o=r+(n.shadow?8:0);e={fill:e||"none"};(r||f["stroke-width"])&&(e.stroke=n.borderColor,e["stroke-width"]=r);f.attr(e).shadow(n.shadow);f[t]({x:o/2,y:o/2,width:k-o-r%2,height:d-o-r%2,r:n.borderRadius});t="animate";s||(t="attr",this.plotBackground=s=u.rect().addClass("highcharts-plot-background").add());s[t](w);s.attr({fill:g||"none"}).shadow(n.plotShadow);l&&(c?c.animate(w):this.plotBGImage=u.image(l,a,v,y,p).add());b?b.animate({width:h.width,height:h.height}):this.clipRect=u.clipRect(h);t="animate";i||(t="attr",this.plotBorder=i=u.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add());i.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"});i[t](i.crisp({x:a,y:v,width:y,height:p},-i.strokeWidth()));this.isDirtyBox=!1},propFromSeries:function(){var r=this,u=r.options.chart,n,f=r.options.series,e,i;t(["inverted","angular","polar"],function(t){for(n=y[u.type||u.defaultSeriesType],i=u[t]||n&&n.prototype[t],e=f&&f.length;!i&&e--;)(n=y[f[e].type])&&n.prototype[t]&&(i=!0);r[t]=i})},linkSeries:function(){var n=this,i=n.series;t(i,function(n){n.linkedSeries.length=0});t(i,function(t){var i=t.options.linkedTo;a(i)&&(i=":previous"===i?n.series[t.index-1]:n.get(i))&&i.linkedParent!==t&&(i.linkedSeries.push(t),t.linkedParent=i,t.visible=h(t.options.visible,i.options.visible,t.visible))})},renderSeries:function(){t(this.series,function(n){n.translate();n.render()})},renderLabels:function(){var n=this,i=n.options.labels;i.items&&t(i.items,function(t){var r=o(i.style,t.style),u=v(r.left)+n.plotLeft,f=v(r.top)+n.plotTop+12;delete r.left;delete r.top;n.renderer.text(t.html,u,f).attr({zIndex:2}).css(r).add()})},render:function(){var n=this.axes,e=this.renderer,i=this.options,f,r,u;this.setTitle();this.legend=new at(this,i.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();i=this.plotWidth;f=this.plotHeight-=21;t(n,function(n){n.setScale()});this.getAxisMargins();r=1.1<i/this.plotWidth;u=1.05<f/this.plotHeight;(r||u)&&(t(n,function(n){(n.horiz&&r||!n.horiz&&u)&&n.setTickInterval(!0)}),this.getMargins());this.drawChartBox();this.hasCartesianSeries&&t(n,function(n){n.visible&&n.render()});this.seriesGroup||(this.seriesGroup=e.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.addCredits();this.setResponsive&&this.setResponsive();this.hasRendered=!0},addCredits:function(n){var t=this;n=s(!0,this.options.credits,n);n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){n.href&&(e.location.href=n.href)}).attr({align:n.position.align,zIndex:8}).css(n.style).add().align(n.position),this.credits.update=function(n){t.credits=t.credits.destroy();t.addCredits(n)})},destroy:function(){var r=this,o=r.axes,s=r.series,e=r.container,f,h=e&&e.parentNode;for(i(r,"destroy"),r.renderer.forExport?n.erase(u,r):u[r.index]=void 0,n.chartCount--,r.renderTo.removeAttribute("data-highcharts-chart"),g(r),f=o.length;f--;)o[f]=o[f].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),f=s.length;f--;)s[f]=s[f].destroy();t("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(n){var t=r[n];t&&t.destroy&&(r[n]=t.destroy())});e&&(e.innerHTML="",g(e),h&&st(e));k(r,function(n,t){delete r[t]})},isReadyToRender:function(){var n=this;return vt||e!=e.top||"complete"===r.readyState?!0:(r.attachEvent("onreadystatechange",function(){r.detachEvent("onreadystatechange",n.firstRender);"complete"===r.readyState&&n.firstRender()}),!1)},firstRender:function(){var n=this,r=n.options;n.isReadyToRender()&&(n.getContainer(),i(n,"init"),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.getAxes(),t(r.series||[],function(t){n.initSeries(t)}),n.linkSeries(),i(n,"beforeRender"),d&&(n.pointer=new d(n,r)),n.render(),!n.renderer.imgCount&&n.onload&&n.onload(),n.temporaryDisplay(!0))},onload:function(){t([this.callback].concat(this.callbacks),function(n){n&&void 0!==this.index&&n.apply(this,[this])},this);i(this,"load");i(this,"render");f(this.index)&&!1!==this.options.chart.reflow&&this.initReflow();this.onload=null}})}(t),function(n){var i,f=n.each,r=n.extend,e=n.erase,o=n.fireEvent,s=n.format,h=n.isArray,u=n.isNumber,t=n.pick,c=n.removeEvent;n.Point=i=function(){};n.Point.prototype={init:function(n,i,r){return this.series=n,this.color=n.color,this.applyOptions(i,r),n.options.colorByPoint?(i=n.options.colors||n.chart.options.colors,this.color=this.color||i[n.colorCounter],i=i.length,r=n.colorCounter,n.colorCounter++,n.colorCounter===i&&(n.colorCounter=0)):r=n.colorIndex,this.colorIndex=t(this.colorIndex,r),n.chart.pointCount++,this},applyOptions:function(n,f){var e=this.series,o=e.options.pointValKey||e.pointValKey;return n=i.prototype.optionsToObject.call(this,n),r(this,n),this.options=this.options?r(this.options,n):n,n.group&&delete this.group,o&&(this.y=this[o]),this.isNull=t(this.isValid&&!this.isValid(),null===this.x||!u(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===f&&e.xAxis&&e.xAxis.hasNames&&(this.x=e.xAxis.nameToX(this)),void 0===this.x&&e&&(this.x=void 0===f?e.autoIncrement(this):f),this},optionsToObject:function(n){var i={},t=this.series,f=t.options.keys,e=f||t.pointArrayMap||["y"],s=e.length,r=0,o=0;if(u(n)||null===n)i[e[0]]=n;else if(h(n))for(!f&&n.length>s&&(t=typeof n[0],"string"===t?i.name=n[0]:"number"===t&&(i.x=n[0]),r++);o<s;)f&&void 0===n[r]||(i[e[o]]=n[r]),r++,o++;else"object"==typeof n&&(i=n,n.dataLabels&&(t._hasPointLabels=!0),n.marker&&(t._hasPointMarkers=!0));return i},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){for(var t=this.series,i=t.zones,t=t.zoneAxis||"y",r=0,n=i[r];this[t]>=n.value;)n=i[++r];return n&&n.color&&!this.options.color&&(this.color=n.color),n},destroy:function(){var n=this.series.chart,t=n.hoverPoints,i;n.pointCount--;t&&(this.setState(),e(t,this),t.length||(n.hoverPoints=null));this===n.hoverPoint&&this.onMouseOut();(this.graphic||this.dataLabel)&&(c(this),this.destroyElements());this.legendItem&&n.legend.destroyItem(this);for(i in this)this[i]=null},destroyElements:function(){for(var i=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n,t=6;t--;)n=i[t],this[n]&&(this[n]=this[n].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(n){var r=this.series,i=r.tooltipOptions,o=t(i.valueDecimals,""),u=i.valuePrefix||"",e=i.valueSuffix||"";return f(r.pointArrayMap||["y"],function(t){t="{point."+t;(u||e)&&(n=n.replace(t+"}",u+t+"}"+e));n=n.replace(t+"}",t+":,."+o+"f}")}),s(n,{point:this,series:this.series})},firePointEvent:function(n,t,i){var r=this,u=this.series.options;(u.point.events[n]||r.options&&r.options.events&&r.options.events[n])&&this.importEvents();"click"===n&&u.allowPointSelect&&(i=function(n){r.select&&r.select(null,n.ctrlKey||n.metaKey||n.shiftKey)});o(this,n,t,i)},visible:!0}}(t),function(n){var o=n.addEvent,h=n.animObject,w=n.arrayMax,b=n.arrayMin,c=n.correctFloat,u=n.Date,e=n.defaultOptions,k=n.defaultPlotOptions,r=n.defined,i=n.each,l=n.erase,d=n.extend,a=n.fireEvent,g=n.grep,v=n.isArray,f=n.isNumber,nt=n.isString,y=n.merge,s=n.objectEach,t=n.pick,tt=n.removeEvent,it=n.splat,rt=n.SVGElement,p=n.syncTimeout,ut=n.win;n.Series=n.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":n.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:n.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(n,r){var u=this,f,e=n.series,h;u.chart=n;u.options=r=u.setOptions(r);u.linkedSeries=[];u.bindAxes();d(u,{name:r.name,state:"",visible:!1!==r.visible,selected:!0===r.selected});f=r.events;s(f,function(n,t){o(u,t,n)});(f&&f.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(n.runTrackerClick=!0);u.getColor();u.getSymbol();i(u.parallelArrays,function(n){u[n+"Data"]=[]});u.setData(r.data,!1);u.isCartesian&&(n.hasCartesianSeries=!0);e.length&&(h=e[e.length-1]);u._i=t(h&&h._i,-1)+1;n.orderSeries(this.insert(e))},insert:function(n){var r=this.options.index,i;if(f(r)){for(i=n.length;i--;)if(r>=t(n[i].options.index,n[i]._i)){n.splice(i+1,0,this);break}-1===i&&n.unshift(this);i+=1}else n.push(this);return t(i,n.length-1)},bindAxes:function(){var t=this,r=t.options,f=t.chart,u;i(t.axisTypes||[],function(e){i(f[e],function(n){u=n.options;(r[e]===u.index||void 0!==r[e]&&r[e]===u.id||void 0===r[e]&&0===u.index)&&(t.insert(n.series),t[e]=n,n.isDirty=!0)});t[e]||t.optionalAxis===e||n.error(18,!0)})},updateParallelArrays:function(n,t){var r=n.series,u=arguments,e=f(t)?function(i){var u="y"===i&&r.toYData?r.toYData(n):n[i];r[i+"Data"][t]=u}:function(n){Array.prototype[t].apply(r[n+"Data"],Array.prototype.slice.call(u,2))};i(r.parallelArrays,e)},autoIncrement:function(){var n=this.options,r=this.xIncrement,i,f=n.pointIntervalUnit,r=t(r,n.pointStart,0);return this.pointInterval=i=t(this.pointInterval,n.pointInterval,1),f&&(n=new u(r),"day"===f?n=+n[u.hcSetDate](n[u.hcGetDate]()+i):"month"===f?n=+n[u.hcSetMonth](n[u.hcGetMonth]()+i):"year"===f&&(n=+n[u.hcSetFullYear](n[u.hcGetFullYear]()+i)),i=n-r),this.xIncrement=r+i,r},setOptions:function(n){var i=this.chart,o=i.options,u=o.plotOptions,f=(i.userOptions||{}).plotOptions||{},s=u[this.type];return this.userOptions=n,i=y(s,u.series,n),this.tooltipOptions=y(e.tooltip,e.plotOptions.series&&e.plotOptions.series.tooltip,e.plotOptions[this.type].tooltip,o.tooltip.userOptions,u.series&&u.series.tooltip,u[this.type].tooltip,n.tooltip),this.stickyTracking=t(n.stickyTracking,f[this.type]&&f[this.type].stickyTracking,f.series&&f.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:i.stickyTracking),null===s.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,n=this.zones=(i.zones||[]).slice(),(i.negativeColor||i.negativeFillColor)&&!i.zones&&n.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,className:"highcharts-negative",color:i.negativeColor,fillColor:i.negativeFillColor}),n.length&&r(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(n,i,u){var f,e=this.chart,s=this.userOptions,o=n+"Index",h=n+"Counter",c=u?u.length:t(e.options.chart[n+"Count"],e[n+"Count"]);i||(f=t(s[o],s["_"+o]),r(f)||(e.series.length||(e[h]=0),s["_"+o]=f=e[h]%c,e[h]+=1),u&&(i=u[f]));void 0!==f&&(this[o]=f);this[n]=i},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||k[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:n.LegendSymbolMixin.drawLineMarker,setData:function(r,u,e,o){var s=this,l=s.points,b=l&&l.length||0,c,y=s.options,k=s.chart,h=null,p=s.xAxis,d=y.turboThreshold,w=this.xData,a=this.yData,g=(c=s.pointArrayMap)&&c.length;if(r=r||[],c=r.length,u=t(u,!0),!1!==o&&c&&b===c&&!s.cropped&&!s.hasGroupedData&&s.visible)i(r,function(n,t){l[t].update&&n!==y.data[t]&&l[t].update(n,!1,null,!1)});else{if(s.xIncrement=null,s.colorCounter=0,i(this.parallelArrays,function(n){s[n+"Data"].length=0}),d&&c>d){for(e=0;null===h&&e<c;)h=r[e],e++;if(f(h))for(e=0;e<c;e++)w[e]=this.autoIncrement(),a[e]=r[e];else if(v(h))if(g)for(e=0;e<c;e++)h=r[e],w[e]=h[0],a[e]=h.slice(1,g+1);else for(e=0;e<c;e++)h=r[e],w[e]=h[0],a[e]=h[1];else n.error(12)}else for(e=0;e<c;e++)void 0!==r[e]&&(h={series:s},s.pointClass.prototype.applyOptions.apply(h,[r[e]]),s.updateParallelArrays(h,e));for(a&&nt(a[0])&&n.error(14,!0),s.data=[],s.options.data=s.userOptions.data=r,e=b;e--;)l[e]&&l[e].destroy&&l[e].destroy();p&&(p.minRange=p.userMinRange);s.isDirty=k.isDirtyBox=!0;s.isDirtyData=!!l;e=!1}"point"===y.legendType&&(this.processData(),this.generatePoints());u&&k.redraw(e)},processData:function(t){var i=this.xData,l=this.yData,u=i.length,e,a,s,f,r,o;e=0;f=this.xAxis;o=this.options;r=o.cropThreshold;var y=this.getExtremesFromAll||o.getExtremesFromAll,v=this.isCartesian,o=f&&f.val2lin,p=f&&f.isLog,h,c;if(v&&!this.isDirty&&!f.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(f&&(t=f.getExtremes(),h=t.min,c=t.max),v&&this.sorted&&!y&&(!r||u>r||this.forceCrop)&&(i[u-1]<h||i[0]>c?(i=[],l=[]):(i[0]<h||i[u-1]>c)&&(e=this.cropData(this.xData,this.yData,h,c),i=e.xData,l=e.yData,e=e.start,a=!0)),r=i.length||1;--r;)u=p?o(i[r])-o(i[r-1]):i[r]-i[r-1],0<u&&(void 0===s||u<s)?s=u:0>u&&this.requireSorting&&n.error(15);this.cropped=a;this.cropStart=e;this.processedXData=i;this.processedYData=l;this.closestPointRange=s},cropData:function(n,i,r,u){for(var s=n.length,e=0,o=s,h=t(this.cropShoulder,1),f=0;f<s;f++)if(n[f]>=r){e=Math.max(0,f-h);break}for(r=f;r<s;r++)if(n[r]>u){o=r+h;break}return{xData:n.slice(e,o),yData:i.slice(e,o),start:e,end:o}},generatePoints:function(){var f=this.options,e=f.data,t=this.data,h,o=this.processedXData,v=this.processedYData,c=this.pointClass,s=o.length,l=this.cropStart||0,r,u=this.hasGroupedData,f=f.keys,i,a=[],n;for(t||u||(t=[],t.length=e.length,t=this.data=t),f&&u&&(this.options.keys=!1),n=0;n<s;n++)r=l+n,u?(i=(new c).init(this,[o[n]].concat(it(v[n]))),i.dataGroup=this.groupMap[n]):(i=t[r])||void 0===e[r]||(t[r]=i=(new c).init(this,e[r],o[n])),i&&(i.index=r,a[n]=i);if(this.options.keys=f,t&&(s!==(h=t.length)||u))for(n=0;n<h;n++)n!==l||u||(n+=s),t[n]&&(t[n].destroyElements(),t[n].plotX=void 0);this.data=t;this.points=a},getExtremes:function(n){var a=this.yAxis,s=this.processedXData,u,o=[],h=0,c,l,r,e,t,i;for(u=this.xAxis.getExtremes(),c=u.min,l=u.max,n=n||this.stackedYData||this.processedYData||[],u=n.length,i=0;i<u;i++)if(e=s[i],t=n[i],r=(f(t,!0)||v(t))&&(!a.positiveValuesOnly||t.length||0<t),e=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(s[i+1]||e)>=c&&(s[i-1]||e)<=l,r&&e)if(r=t.length)for(;r--;)null!==t[r]&&(o[h++]=t[r]);else o[h++]=t;this.dataMin=b(o);this.dataMax=w(o)},translate:function(){var y,a;this.processedXData||this.processData();this.generatePoints();var e=this.options,g=e.stacking,v=this.xAxis,b=v.categories,s=this.yAxis,nt=this.points,it=nt.length,rt=!!this.modifyValue,o=e.pointPlacement,ut="between"===o||f(o),p=e.threshold,tt=e.startFromThreshold?p:0,h,u,k,w,d=Number.MAX_VALUE;for("between"===o&&(o=.5),f(o)&&(o*=t(e.pointRange||v.pointRange)),e=0;e<it;e++){var n=nt[e],l=n.x,i=n.y;u=n.low;y=g&&s.stacks[(this.negStacks&&i<(tt?0:p)?"-":"")+this.stackKey];s.positiveValuesOnly&&null!==i&&0>=i&&(n.isNull=!0);n.plotX=h=c(Math.min(Math.max(-1e5,v.translate(l,0,0,0,1,o,"flags"===this.type)),1e5));g&&this.visible&&!n.isNull&&y&&y[l]&&(w=this.getStackIndicator(w,l,this.index),a=y[l],i=a.points[w.key],u=i[0],i=i[1],u===tt&&w.key===y[l].base&&(u=t(p,s.min)),s.positiveValuesOnly&&0>=u&&(u=null),n.total=n.stackTotal=a.total,n.percentage=a.total&&n.y/a.total*100,n.stackY=i,a.setOffset(this.pointXOffset||0,this.barW||0));n.yBottom=r(u)?s.translate(u,0,1,0,1):null;rt&&(i=this.modifyValue(i,n));n.plotY=u="number"==typeof i&&Infinity!==i?Math.min(Math.max(-1e5,s.translate(i,0,1,0,1)),1e5):void 0;n.isInside=void 0!==u&&0<=u&&u<=s.len&&0<=h&&h<=v.len;n.clientX=ut?c(v.translate(l,0,0,0,1,o)):h;n.negative=n.y<(p||0);n.category=b&&void 0!==b[n.x]?b[n.x]:n.x;n.isNull||(void 0!==k&&(d=Math.min(d,Math.abs(h-k))),k=h);n.zone=this.zones.length&&n.getZone()}this.closestPointRangePx=d},getValidPoints:function(n,t){var i=this.chart;return g(n||this.points||[],function(n){return t&&!i.isInsidePlot(n.plotX,n.plotY,i.inverted)?!1:!n.isNull})},setClip:function(n){var t=this.chart,e=this.options,s=t.renderer,u=t.inverted,o=this.clipBox,f=o||t.clipBox,i=this.sharedClipKey||["_sharedClip",n&&n.duration,n&&n.easing,f.height,e.xAxis,e.yAxis].join(),r=t[i],h=t[i+"m"];r||(n&&(f.width=0,u&&(f.x=t.plotSizeX),t[i+"m"]=h=s.clipRect(u?t.plotSizeX+99:-99,u?-t.plotLeft:-t.plotTop,99,u?t.chartWidth:t.chartHeight)),t[i]=r=s.clipRect(f),r.count={length:0});n&&!r.count[this.index]&&(r.count[this.index]=!0,r.count.length+=1);!1!==e.clip&&(this.group.clip(n||o?r:t.clipRect),this.markerGroup.clip(h),this.sharedClipKey=i);n||(r.count[this.index]&&(delete r.count[this.index],--r.count.length),0===r.count.length&&i&&t[i]&&(o||(t[i]=t[i].destroy()),t[i+"m"]&&(t[i+"m"]=t[i+"m"].destroy())))},animate:function(n){var t=this.chart,r=h(this.options.animation),i;n?this.setClip(r):(i=this.sharedClipKey,(n=t[i])&&n.animate({width:t.plotSizeX,x:0},r),t[i+"m"]&&t[i+"m"].animate({width:t.plotSizeX+99,x:0},r),this.animate=null)},afterAnimate:function(){this.setClip();a(this,"afterAnimate");this.finishedAnimating=!0},drawPoints:function(){var c=this.points,a=this.chart,u,o,n,i,s=this.options.marker,e,l,r,h,v=this[this.specialGroup]||this.markerGroup,y=t(s.enabled,this.xAxis.isRadial?!0:null,this.closestPointRangePx>=2*s.radius);if(!1!==s.enabled||this._hasPointMarkers)for(o=0;o<c.length;o++)n=c[o],u=n.plotY,i=n.graphic,e=n.marker||{},l=!!n.marker,r=y&&void 0===e.enabled||e.enabled,h=n.isInside,r&&f(u)&&null!==n.y?(u=t(e.symbol,this.symbol),n.hasImage=0===u.indexOf("url"),r=this.markerAttribs(n,n.selected&&"select"),i?i[h?"show":"hide"](!0).animate(r):h&&(0<r.width||n.hasImage)&&(n.graphic=i=a.renderer.symbol(u,r.x,r.y,r.width,r.height,l?e:s).add(v)),i&&i.attr(this.pointAttribs(n,n.selected&&"select")),i&&i.addClass(n.getClassName(),!0)):i&&(n.graphic=i.destroy())},markerAttribs:function(n,i){var r=this.options.marker,f=n.marker||{},u=t(f.radius,r.radius);return i&&(r=r.states[i],i=f.states&&f.states[i],u=t(i&&i.radius,r&&r.radius,u+(r&&r.radiusPlus||0))),n.hasImage&&(u=0),n={x:Math.floor(n.plotX)-u,y:n.plotY-u},u&&(n.width=n.height=2*u),n},pointAttribs:function(n,i){var r=this.options.marker,f=n&&n.options,e=f&&f.marker||{},u=this.color,o=f&&f.color,s=n&&n.color,f=t(e.lineWidth,r.lineWidth);return n=n&&n.zone&&n.zone.color,u=o||n||s||u,n=e.fillColor||r.fillColor||u,u=e.lineColor||r.lineColor||u,i&&(r=r.states[i],i=e.states&&e.states[i]||{},f=t(i.lineWidth,r.lineWidth,f+t(i.lineWidthPlus,r.lineWidthPlus,0)),n=i.fillColor||r.fillColor||n,u=i.lineColor||r.lineColor||u),{stroke:u,"stroke-width":f,fill:n}},destroy:function(){var n=this,r=n.chart,h=/AppleWebKit\/533/.test(ut.navigator.userAgent),e,u,o=n.data||[],f,t;for(a(n,"destroy"),tt(n),i(n.axisTypes||[],function(i){(t=n[i])&&t.series&&(l(t.series,n),t.isDirty=t.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),u=o.length;u--;)(f=o[u])&&f.destroy&&f.destroy();n.points=null;clearTimeout(n.animationTimeout);s(n,function(n,t){n instanceof rt&&!n.survive&&(e=h&&"group"===t?"hide":"destroy",n[e]())});r.hoverSeries===n&&(r.hoverSeries=null);l(r.series,n);r.orderSeries();s(n,function(t,i){delete n[i]})},getGraphPath:function(n,t,u){var e=this,h=e.options,f=h.step,l,s=[],c=[],o;return n=n||e.points,(l=n.reversed)&&n.reverse(),(f={right:1,center:2}[f]||f&&3)&&l&&(f=4-f),!h.connectNulls||t||u||(n=this.getValidPoints(n)),i(n,function(i,l){var v=i.plotX,y=i.plotY,a=n[l-1];(i.leftCliff||a&&a.rightCliff)&&!u&&(o=!0);i.isNull&&!r(t)&&0<l?o=!h.connectNulls:i.isNull&&!t?o=!0:(0===l||o?l=["M",i.plotX,i.plotY]:e.getPointSpline?l=e.getPointSpline(n,i,l):f?(l=1===f?["L",a.plotX,y]:2===f?["L",(a.plotX+v)/2,a.plotY,"L",(a.plotX+v)/2,y]:["L",v,a.plotY],l.push("L",v,y)):l=["L",v,y],c.push(i.x),f&&c.push(i.x),s.push.apply(s,l),o=!1)}),s.xMap=c,e.graphPath=s},drawGraph:function(){var n=this,t=this.options,r=(this.gappedPath||this.getGraphPath).call(this),u=[["graph","highcharts-graph",t.lineColor||this.color,t.dashStyle]];i(this.zones,function(i,r){u.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(i.className||""),i.color||n.color,i.dashStyle||t.dashStyle])});i(u,function(i,u){var e=i[0],f=n[e];f?(f.endX=r.xMap,f.animate({d:r})):r.length&&(n[e]=n.chart.renderer.path(r).addClass(i[1]).attr({zIndex:1}).add(n.group),f={stroke:i[2],"stroke-width":t.lineWidth,fill:n.fillGraph&&n.color||"none"},i[3]?f.dashstyle=i[3]:"square"!==t.linecap&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),f=n[e].attr(f).shadow(2>u&&t.shadow));f&&(f.startX=r.xMap,f.isArea=r.isArea)})},applyZones:function(){var k=this,r=this.chart,d=r.renderer,g=this.zones,f,e,o=this.clips||[],n,c=this.graph,l=this.area,a=Math.max(r.chartWidth,r.chartHeight),u=this[(this.zoneAxis||"y")+"Axis"],s,p,w=r.inverted,h,b,v,y,nt=!1;g.length&&(c||l)&&u&&void 0!==u.min&&(p=u.reversed,h=u.horiz,c&&c.hide(),l&&l.hide(),s=u.getExtremes(),i(g,function(i,g){f=p?h?r.plotWidth:0:h?0:u.toPixels(s.min);f=Math.min(Math.max(t(e,f),0),a);e=Math.min(Math.max(Math.round(u.toPixels(t(i.value,s.max),!0)),0),a);nt&&(f=e=u.toPixels(s.max));b=Math.abs(f-e);v=Math.min(f,e);y=Math.max(f,e);u.isXAxis?(n={x:w?y:v,y:0,width:b,height:a},h||(n.x=r.plotHeight-n.x)):(n={x:0,y:w?y:v,width:a,height:b},h&&(n.y=r.plotWidth-n.y));w&&d.isVML&&(n=u.isXAxis?{x:0,y:p?v:y,height:n.width,width:r.chartWidth}:{x:n.y-r.plotLeft-r.spacingBox.x,y:0,width:n.height,height:r.chartHeight});o[g]?o[g].animate(n):(o[g]=d.clipRect(n),c&&k["zone-graph-"+g].clip(o[g]),l&&k["zone-area-"+g].clip(o[g]));nt=i.value>s.max}),this.clips=o)},invertGroups:function(n){function r(){i(["group","markerGroup"],function(i){t[i]&&(u.renderer.isVML&&t[i].attr({width:t.yAxis.len,height:t.xAxis.len}),t[i].width=t.yAxis.len,t[i].height=t.xAxis.len,t[i].invert(n))})}var t=this,u=t.chart,f;t.xAxis&&(f=o(u,"resize",r),o(t,"destroy",f),r(n),t.invertGroups=r)},plotGroup:function(n,t,i,u,f){var e=this[n],o=!e;return o&&(this[n]=e=this.chart.renderer.g().attr({zIndex:u||.1}).add(f)),e.addClass("highcharts-"+t+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(r(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(e.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),e.attr({visibility:i})[o?"attr":"animate"](this.getPlotBox()),e},getPlotBox:function(){var t=this.chart,i=this.xAxis,n=this.yAxis;return t.inverted&&(i=n,n=this.xAxis),{translateX:i?i.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var n=this,t=n.chart,i,r=n.options,u=!!n.animate&&t.renderer.isSVG&&h(r.animation).duration,f=n.visible?"inherit":"hidden",e=r.zIndex,o=n.hasRendered,s=t.seriesGroup,c=t.inverted;i=n.plotGroup("group","series",f,e,s);n.markerGroup=n.plotGroup("markerGroup","markers",f,e,s);u&&n.animate(!0);i.inverted=n.isCartesian?c:!1;n.drawGraph&&(n.drawGraph(),n.applyZones());n.drawDataLabels&&n.drawDataLabels();n.visible&&n.drawPoints();n.drawTracker&&!1!==n.options.enableMouseTracking&&n.drawTracker();n.invertGroups(c);!1===r.clip||n.sharedClipKey||o||i.clip(t.clipRect);u&&n.animate();o||(n.animationTimeout=p(function(){n.afterAnimate()},u));n.isDirty=!1;n.hasRendered=!0},redraw:function(){var n=this.chart,f=this.isDirty||this.isDirtyData,i=this.group,r=this.xAxis,u=this.yAxis;i&&(n.inverted&&i.attr({width:n.plotWidth,height:n.plotHeight}),i.animate({translateX:t(r&&r.left,n.plotLeft),translateY:t(u&&u.top,n.plotTop)}));this.translate();this.render();f&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(n,t){var i=this.xAxis,r=this.yAxis,u=this.chart.inverted;return this.searchKDTree({clientX:u?i.len-n.chartY+i.pos:n.chartX-i.pos,plotY:u?r.len-n.chartX+r.pos:n.chartY-r.pos},t)},buildKDTree:function(){function t(i,r,u){var e,f;if(f=i&&i.length)return e=n.kdAxisArray[r%u],i.sort(function(n,t){return n[e]-t[e]}),f=Math.floor(f/2),{point:i[f],left:t(i.slice(0,f),r+1,u),right:t(i.slice(f+1),r+1,u)}}this.buildingKdTree=!0;var n=this,i=-1<n.options.findNearestPointBy.indexOf("y")?2:1;delete n.kdTree;p(function(){n.kdTree=t(n.getValidPoints(null,!n.directTouch),i,i);n.buildingKdTree=!1},n.options.kdNow?0:1)},searchKDTree:function(n,t){function e(n,t,s,h){var l=t.point,a=o.kdAxisArray[s%h],c,v,y=l;return v=r(n[u])&&r(l[u])?Math.pow(n[u]-l[u],2):null,c=r(n[f])&&r(l[f])?Math.pow(n[f]-l[f],2):null,c=(v||0)+(c||0),l.dist=r(c)?Math.sqrt(c):Number.MAX_VALUE,l.distX=r(v)?Math.sqrt(v):Number.MAX_VALUE,a=n[a]-l[a],c=0>a?"left":"right",v=0>a?"right":"left",t[c]&&(c=e(n,t[c],s+1,h),y=c[i]<y[i]?c:l),t[v]&&Math.sqrt(a*a)<y[i]&&(n=e(n,t[v],s+1,h),y=n[i]<y[i]?n:y),y}var o=this,u=this.kdAxisArray[0],f=this.kdAxisArray[1],i=t?"distX":"dist";return t=-1<o.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree?e(n,this.kdTree,t,t):void 0}})}(t),function(n){var r=n.Axis,s=n.Chart,u=n.correctFloat,o=n.defined,h=n.destroyObjectProperties,e=n.each,c=n.format,t=n.objectEach,i=n.pick,f=n.Series;n.StackItem=function(n,t,r,u,f){var e=n.chart.inverted;this.axis=n;this.isNegative=r;this.options=t;this.x=u;this.total=null;this.points={};this.stack=f;this.rightCliff=this.leftCliff=0;this.alignOptions={align:t.align||(e?r?"left":"right":"center"),verticalAlign:t.verticalAlign||(e?"middle":r?"bottom":"top"),y:i(t.y,e?4:r?14:-6),x:i(t.x,e?r?-6:6:0)};this.textAlign=t.textAlign||(e?r?"right":"left":"center")};n.StackItem.prototype={destroy:function(){h(this,this.axis)},render:function(n){var t=this.options,i=t.format,i=i?c(i,this):t.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(n)},setOffset:function(n,t){var r=this.axis,u=r.chart,i=r.translate(r.usePercentage?100:this.total,0,0,0,1),r=r.translate(0),r=Math.abs(i-r);n=u.xAxis[0].translate(this.x)+n;i=this.getStackBox(u,this,n,i,t,r);(t=this.label)&&(t.align(this.alignOptions,null,i),i=t.alignAttr,t[!1===this.options.crop||u.isInsidePlot(i.x,i.y)?"show":"hide"](!0))},getStackBox:function(n,t,i,r,u,f){var o=t.axis.reversed,e=n.inverted;return n=n.plotHeight,t=t.isNegative&&!o||!t.isNegative&&o,{x:e?t?r:r-f:i,y:e?n-i-u:t?n-r-f:n-r,width:e?f:u,height:e?u:f}}};s.prototype.getStacks=function(){var n=this;e(n.yAxis,function(n){n.stacks&&n.hasVisibleSeries&&(n.oldStacks=n.stacks)});e(n.series,function(t){t.options.stacking&&(!0===t.visible||!1===n.options.chart.ignoreHiddenSeries)&&(t.stackKey=t.type+i(t.options.stack,""))})};r.prototype.buildStacks=function(){var t=this.series,u=i(this.options.reversedStacks,!0),r=t.length,n;if(!this.isXAxis){for(this.usePercentage=!1,n=r;n--;)t[u?n:r-n-1].setStackedPoints();for(n=0;n<r;n++)t[n].modifyStacks()}};r.prototype.renderStackTotals=function(){var i=this.chart,r=i.renderer,u=this.stacks,n=this.stackTotalGroup;n||(this.stackTotalGroup=n=r.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());n.translate(i.plotLeft,i.plotTop);t(u,function(i){t(i,function(t){t.render(n)})})};r.prototype.resetStacks=function(){var n=this,i=n.stacks;n.isXAxis||t(i,function(i){t(i,function(t,r){t.touched<n.stacksTouched?(t.destroy(),delete i[r]):(t.total=null,t.cum=null)})})};r.prototype.cleanStacks=function(){var n;this.isXAxis||(this.oldStacks&&(n=this.stacks=this.oldStacks),t(n,function(n){t(n,function(n){n.cum=n.total})}))};f.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var tt=this.processedXData,b=this.processedYData,k=[],it=b.length,c=this.options,d=c.threshold,y=c.startFromThreshold?d:0,rt=c.stack,c=c.stacking,p=this.stackKey,g="-"+p,nt=this.negStacks,s=this.yAxis,f=s.stacks,w=s.oldStacks,v,e,t,a,l,r,h;for(s.stacksTouched+=1,l=0;l<it;l++)r=tt[l],h=b[l],v=this.getStackIndicator(v,r,this.index),a=v.key,t=(e=nt&&h<(y?0:d))?g:p,f[t]||(f[t]={}),f[t][r]||(w[t]&&w[t][r]?(f[t][r]=w[t][r],f[t][r].total=null):f[t][r]=new n.StackItem(s,s.options.stackLabels,e,r,rt)),t=f[t][r],null!==h&&(t.points[a]=t.points[this.index]=[i(t.cum,y)],o(t.cum)||(t.base=a),t.touched=s.stacksTouched,0<v.index&&!1===this.singleStacks&&(t.points[a][0]=t.points[this.index+","+r+",0"][0])),"percent"===c?(e=e?p:g,nt&&f[e]&&f[e][r]?(e=f[e][r],t.total=e.total=Math.max(e.total,t.total)+Math.abs(h)||0):t.total=u(t.total+(Math.abs(h)||0))):t.total=u(t.total+(h||0)),t.cum=i(t.cum,y)+(h||0),null!==h&&(t.points[a].push(t.cum),k[l]=t.cum);"percent"===c&&(s.usePercentage=!0);this.stackedYData=k;s.oldStacks={}}};f.prototype.modifyStacks=function(){var n=this,i=n.stackKey,r=n.yAxis.stacks,u=n.processedXData,t,f=n.options.stacking;n[f+"Stacker"]&&e([i,"-"+i],function(i){for(var o=u.length,e,s;o--;)(e=u[o],t=n.getStackIndicator(t,e,n.index,i),s=(e=r[i]&&r[i][e])&&e.points[t.key])&&n[f+"Stacker"](s,e,o)})};f.prototype.percentStacker=function(n,t,i){t=t.total?100/t.total:0;n[0]=u(n[0]*t);n[1]=u(n[1]*t);this.stackedYData[i]=n[1]};f.prototype.getStackIndicator=function(n,t,i,r){return!o(n)||n.x!==t||r&&n.key!==r?n={x:t,index:0,key:r}:n.index++,n.key=[i,t,n.index].join(),n}}(t),function(n){var b=n.addEvent,s=n.animate,h=n.Axis,c=n.createElement,f=n.css,k=n.defined,i=n.each,l=n.erase,r=n.extend,a=n.fireEvent,e=n.inArray,v=n.isNumber,o=n.isObject,d=n.isArray,u=n.merge,y=n.objectEach,t=n.pick,g=n.Point,nt=n.Series,p=n.seriesTypes,tt=n.setAnimation,w=n.splat;r(n.Chart.prototype,{addSeries:function(n,i,r){var f,u=this;return n&&(i=t(i,!0),a(u,"addSeries",{options:n},function(){f=u.initSeries(n);u.isDirtyLegend=!0;u.linkSeries();i&&u.redraw(r)})),f},addAxis:function(n,i,r,f){var e=i?"xAxis":"yAxis",o=this.options;return n=u(n,{index:this[e].length,isX:i}),i=new h(this,n),o[e]=w(o[e]||{}),o[e].push(n),t(r,!0)&&this.redraw(f),i},showLoading:function(n){var t=this,e=t.options,i=t.loadingDiv,u=e.loading,o=function(){i&&f(i,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};i||(t.loadingDiv=i=c("div",{className:"highcharts-loading highcharts-loading-hidden"},null,t.container),t.loadingSpan=c("span",{className:"highcharts-loading-inner"},null,i),b(t,"redraw",o));i.className="highcharts-loading";t.loadingSpan.innerHTML=n||e.lang.loading;f(i,r(u.style,{zIndex:10}));f(t.loadingSpan,u.labelStyle);t.loadingShown||(f(i,{opacity:0,display:""}),s(i,{opacity:u.style.opacity||.5},{duration:u.showDuration||0}));t.loadingShown=!0;o()},hideLoading:function(){var t=this.options,n=this.loadingDiv;n&&(n.className="highcharts-loading highcharts-loading-hidden",s(n,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(n,{display:"none"})}}));this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions tooltip".split(" "),update:function(n,r,f){var o=this,l={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},s=n.chart,h,c,a=[];s&&(u(!0,o.options.chart,s),"className"in s&&o.setClassName(s.className),("inverted"in s||"polar"in s)&&(o.propFromSeries(),h=!0),"alignTicks"in s&&(h=!0),y(s,function(n,t){-1!==e("chart."+t,o.propsRequireUpdateSeries)&&(c=!0);-1!==e(t,o.propsRequireDirtyBox)&&(o.isDirtyBox=!0)}),"style"in s&&o.renderer.setStyle(s.style));n.colors&&(this.options.colors=n.colors);n.plotOptions&&u(!0,this.options.plotOptions,n.plotOptions);y(n,function(n,t){o[t]&&"function"==typeof o[t].update?o[t].update(n,!1):"function"==typeof o[l[t]]&&o[l[t]](n);"chart"!==t&&-1!==e(t,o.propsRequireUpdateSeries)&&(c=!0)});i("xAxis yAxis zAxis series colorAxis pane".split(" "),function(t){n[t]&&(i(w(n[t]),function(n,i){(i=k(n.id)&&o.get(n.id)||o[t][i])&&i.coll===t&&(i.update(n,!1),f&&(i.touched=!0));!i&&f&&("series"===t?o.addSeries(n,!1).touched=!0:("xAxis"===t||"yAxis"===t)&&(o.addAxis(n,"xAxis"===t,!1).touched=!0))}),f&&i(o[t],function(n){n.touched?delete n.touched:a.push(n)}))});i(a,function(n){n.remove(!1)});h&&i(o.axes,function(n){n.update({},!1)});c&&i(o.series,function(n){n.update({},!1)});n.loading&&u(!0,o.options.loading,n.loading);h=s&&s.width;s=s&&s.height;v(h)&&h!==o.chartWidth||v(s)&&s!==o.chartHeight?o.setSize(h,s):t(r,!0)&&o.redraw()},setSubtitle:function(n){this.setTitle(void 0,n)}});r(g.prototype,{update:function(n,i,r,u){function a(){f.applyOptions(n);null===f.y&&s&&(f.graphic=s.destroy());o(n,!0)&&(s&&s.element&&n&&n.marker&&void 0!==n.marker.symbol&&(f.graphic=s.destroy()),n&&n.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy()),f.connector&&(f.connector=f.connector.destroy()));h=f.index;e.updateParallelArrays(f,h);l.data[h]=o(l.data[h],!0)||o(n,!0)?f.options:n;e.isDirty=e.isDirtyData=!0;!e.fixedBox&&e.hasCartesianSeries&&(c.isDirtyBox=!0);"point"===l.legendType&&(c.isDirtyLegend=!0);i&&c.redraw(r)}var f=this,e=f.series,s=f.graphic,h,c=e.chart,l=e.options;i=t(i,!0);!1===u?a():f.firePointEvent("update",{options:n},a)},remove:function(n,t){this.series.removePoint(e(this,this.series.data),n,t)}});r(nt.prototype,{addPoint:function(n,i,r,u){var l=this.options,s=this.data,y=this.chart,o=this.xAxis,o=o&&o.hasNames&&o.names,a=l.data,e,v,c=this.xData,f,h;if(i=t(i,!0),e={series:this},this.pointClass.prototype.applyOptions.apply(e,[n]),h=e.x,f=c.length,this.requireSorting&&h<c[f-1])for(v=!0;f&&c[f-1]>h;)f--;this.updateParallelArrays(e,"splice",f,0,0);this.updateParallelArrays(e,f);o&&e.name&&(o[h]=e.name);a.splice(f,0,n);v&&(this.data.splice(f,0,null),this.processData());"point"===l.legendType&&this.generatePoints();r&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(e,"shift"),a.shift()));this.isDirtyData=this.isDirty=!0;i&&y.redraw(u)},removePoint:function(n,i,r){var u=this,e=u.data,f=e[n],o=u.points,s=u.chart,h=function(){o&&o.length===e.length&&o.splice(n,1);e.splice(n,1);u.options.data.splice(n,1);u.updateParallelArrays(f||{series:u},"splice",n,1);f&&f.destroy();u.isDirty=!0;u.isDirtyData=!0;i&&s.redraw()};tt(r,s);i=t(i,!0);f?f.firePointEvent("remove",null,h):h()},remove:function(n,i,r){function e(){f.destroy();u.isDirtyLegend=u.isDirtyBox=!0;u.linkSeries();t(n,!0)&&u.redraw(i)}var f=this,u=f.chart;!1!==r?a(f,"remove",null,e):e()},update:function(n,f){var e=this,s=e.chart,l=e.userOptions,h=e.oldType||e.type,c=n.type||l.type||s.options.chart.type,y=p[h].prototype,a,v=["group","markerGroup","dataLabelsGroup"],o=["navigatorSeries","baseSeries"],w=e.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(n).toString())return this.setData(n.data,f);(c&&c!==h||void 0!==n.zIndex)&&(v.length=0);e.options.isInternal&&(o.length=0);o=v.concat(o);i(o,function(n){o[n]=e[n];delete e[n]});n=u(l,w,{index:e.index,pointStart:e.xData[0]},{data:e.options.data},n);e.remove(!1,null,!1);for(a in y)e[a]=void 0;r(e,p[c||h].prototype);i(o,function(n){e[n]=o[n]});e.init(s,n);e.oldType=h;s.linkSeries();t(f,!0)&&s.redraw(!1)}});r(h.prototype,{update:function(n,i){var f=this.chart;n=f.options[this.coll][this.options.index]=u(this.userOptions,n);this.destroy(!0);this.init(f,r(n,{events:void 0}));f.isDirtyBox=!0;t(i,!0)&&f.redraw()},remove:function(n){for(var r=this.chart,u=this.coll,f=this.series,e=f.length;e--;)f[e]&&f[e].remove(!1);l(r.axes,this);l(r[u],this);d(r.options[u])?r.options[u].splice(this.options.index,1):delete r.options[u];i(r[u],function(n,t){n.options.index=t});this.destroy();r.isDirtyBox=!0;t(n,!0)&&r.redraw()},setTitle:function(n,t){this.update({title:n},t)},setCategories:function(n,t){this.update({categories:n},t)}})}(t),function(n){var u=n.color,i=n.each,f=n.map,t=n.pick,r=n.Series,e=n.seriesType;e("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(r){var c=[],o=[],w=this.xAxis,s=this.yAxis,h=s.stacks[this.stackKey],e={},l=this.index,a=s.series,v=a.length,y,p=t(s.options.reversedStacks,!0)?1:-1,u;if(r=r||this.points,this.options.stacking){for(u=0;u<r.length;u++)e[r[u].x]=r[u];n.objectEach(h,function(n,t){null!==n.total&&o.push(t)});o.sort(function(n,t){return n-t});y=f(a,function(){return this.visible});i(o,function(n,t){var r=0,f,a;if(e[n]&&!e[n].isNull)c.push(e[n]),i([-1,1],function(i){var c=1===i?"rightNull":"leftNull",r=0,s=h[o[t+i]];if(s)for(u=l;0<=u&&u<v;)f=s.points[u],f||(u===l?e[n][c]=!0:y[u]&&(a=h[n].points[u])&&(r-=a[1]-a[0])),u+=p;e[n][1===i?"rightCliff":"leftCliff"]=r});else{for(u=l;0<=u&&u<v;){if(f=h[n].points[u]){r=f[1];break}u+=p}r=s.translate(r,0,1,0,1);c.push({isNull:!0,plotX:w.translate(n,0,0,0,1),x:n,plotY:r,yBottom:r})}})}return c},getGraphPath:function(n){var e=r.prototype.getGraphPath,f=this.options,o=f.stacking,s=this.yAxis,i,u,h=[],c=[],p=this.index,l,w=s.stacks[this.stackKey],b=f.threshold,a=s.getThreshold(f.threshold),v,f=f.connectNulls||"percent"===o,y=function(t,i,r){var u=n[t],e,f,v;t=o&&w[u.x].points[p];e=u[r+"Null"]||0;r=u[r+"Cliff"]||0;u=!0;r||e?(f=(e?t[0]:t[1])+r,v=t[0]+r,u=!!e):!o&&n[i]&&n[i].isNull&&(f=v=b);void 0!==f&&(c.push({plotX:l,plotY:null===f?a:s.getThreshold(f),isNull:u,isCliff:!0}),h.push({plotX:l,plotY:null===v?a:s.getThreshold(v),doCurve:!1}))};for(n=n||this.points,o&&(n=this.getStackPoints(n)),i=0;i<n.length;i++)(u=n[i].isNull,l=t(n[i].rectPlotX,n[i].plotX),v=t(n[i].yBottom,a),!u||f)&&(f||y(i,i-1,"left"),u&&!o&&f||(c.push(n[i]),h.push({x:i,plotX:l,plotY:v})),f||y(i,i+1,"right"));return i=e.call(this,c,!0,!0),h.reversed=!0,u=e.call(this,h,!0,!0),u.length&&(u[0]="L"),u=i.concat(u),e=e.call(this,c,!1,f),u.xMap=i.xMap,this.areaPath=u,e},drawGraph:function(){this.areaPath=[];r.prototype.drawGraph.apply(this);var n=this,f=this.areaPath,e=this.options,o=[["area","highcharts-area",this.color,e.fillColor]];i(this.zones,function(t,i){o.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+t.className,t.color||n.color,t.fillColor||e.fillColor])});i(o,function(i){var o=i[0],r=n[o];r?(r.endX=f.xMap,r.animate({d:f})):(r=n[o]=n.chart.renderer.path(f).addClass(i[1]).attr({fill:t(i[3],u(i[2]).setOpacity(t(e.fillOpacity,.75)).get()),zIndex:0}).add(n.group),r.isArea=!0);r.startX=f.xMap;r.shiftUnit=e.step?2:1})},drawLegendSymbol:n.LegendSymbolMixin.drawRectangle})}(t),function(n){var t=n.pick;n=n.seriesType;n("spline","line",{},{getPointSpline:function(n,i,r){var h=i.plotX,u=i.plotY,o=n[r-1],c,e,s,f,l;return r=n[r+1],!o||o.isNull||!1===o.doCurve||i.isCliff||!r||r.isNull||!1===r.doCurve||i.isCliff||(n=o.plotY,s=r.plotX,r=r.plotY,l=0,c=(1.5*h+o.plotX)/2.5,e=(1.5*u+n)/2.5,s=(1.5*h+s)/2.5,f=(1.5*u+r)/2.5,s!==c&&(l=(f-e)*(s-h)/(s-c)+u-f),e+=l,f+=l,e>n&&e>u?(e=Math.max(n,u),f=2*u-e):e<n&&e<u&&(e=Math.min(n,u),f=2*u-e),f>r&&f>u?(f=Math.max(r,u),e=2*u-f):f<r&&f<u&&(f=Math.min(r,u),e=2*u-f),i.rightContX=s,i.rightContY=f),i=["C",t(o.rightContX,o.plotX),t(o.rightContY,o.plotY),t(c,h),t(e,u),h,u],o.rightContX=o.rightContY=null,i}})}(t),function(n){var t=n.seriesTypes.area.prototype,i=n.seriesType;i("areaspline","spline",n.defaultPlotOptions.area,{getStackPoints:t.getStackPoints,getGraphPath:t.getGraphPath,drawGraph:t.drawGraph,drawLegendSymbol:n.LegendSymbolMixin.drawRectangle})}(t),function(n){var f=n.animObject,e=n.color,t=n.each,o=n.extend,s=n.isNumber,u=n.merge,i=n.pick,r=n.Series,h=n.seriesType,c=n.svg;h("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){r.prototype.init.apply(this,arguments);var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var n=this,r=n.options,u=n.xAxis,c=n.yAxis,l=u.reversed,f,o={},e=0;!1===r.grouping?e=1:t(n.chart.series,function(t){var r=t.options,u=t.yAxis,i;t.type!==n.type||!t.visible&&n.chart.options.chart.ignoreHiddenSeries||c.len!==u.len||c.pos!==u.pos||(r.stacking?(f=t.stackKey,void 0===o[f]&&(o[f]=e++),i=o[f]):!1!==r.grouping&&(i=e++),t.columnIndex=i)});var s=Math.min(Math.abs(u.transA)*(u.ordinalSlope||r.pointRange||u.closestPointRange||u.tickInterval||1),u.len),a=s*r.groupPadding,h=(s-2*a)/(e||1),r=Math.min(r.maxPointWidth||u.len,i(r.pointWidth,h*(1-2*r.pointPadding)));return n.columnMetrics={width:r,offset:(h-r)/2+(a+((n.columnIndex||0)+(l?1:0))*h-s/2)*(l?-1:1)},n.columnMetrics},crispCol:function(n,t,i,r){var e=this.chart,u=this.borderWidth,f=-(u%2?.5:0),u=u%2?.5:1;return e.inverted&&e.renderer.isVML&&(u+=1),this.options.crisp&&(i=Math.round(n+i)+f,n=Math.round(n)+f,i-=n),r=Math.round(t+r)+u,f=.5>=Math.abs(t)&&.5<r,t=Math.round(t)+u,r-=t,f&&r&&(--t,r+=1),{x:n,y:t,width:i,height:r}},translate:function(){var n=this,o=n.chart,s=n.options,c=n.dense=2>n.closestPointRange*n.xAxis.transA,c=n.borderWidth=i(s.borderWidth,c?0:1),u=n.yAxis,e=n.translatedThreshold=u.getThreshold(s.threshold),f=i(s.minPointLength,5),l=n.getColumnMetrics(),a=l.width,h=n.barW=Math.max(a,1+2*c),v=n.pointXOffset=l.offset;o.inverted&&(e-=.5);s.pointPadding&&(h=Math.ceil(h));r.prototype.translate.apply(n);t(n.points,function(t){var l=i(t.yBottom,e),r=999+Math.abs(l),r=Math.min(Math.max(-r,t.plotY),u.len+r),s=t.plotX+v,y=h,p=Math.min(r,l),w,c=Math.max(r,l)-p;f&&Math.abs(c)<f&&(c=f,w=!u.reversed&&!t.negative||u.reversed&&t.negative,0===t.y&&0>=n.dataMax&&(w=!w),p=Math.abs(p-e)>f?l-f:e-(w?f:0));t.barX=s;t.pointWidth=a;t.tooltipPos=o.inverted?[u.len+u.pos-o.plotLeft-r,n.xAxis.len-s-y/2,c]:[s+y/2,r+u.pos-o.plotTop,c];t.shapeType="rect";t.shapeArgs=n.crispCol.apply(n,t.isNull?[s,e,y,0]:[s,p,y,c])})},getSymbol:n.noop,drawLegendSymbol:n.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(n,t){var o=this.options,r,f=this.pointAttrToOptions||{};r=f.stroke||"borderColor";var s=f["stroke-width"]||"borderWidth",i=n&&n.color||this.color,h=n&&n[r]||o[r]||this.color||i,c=n&&n[s]||o[s]||this[s]||0,f=o.dashStyle;return n&&this.zones.length&&(i=n.getZone(),i=n.options.color||i&&i.color||this.color),t&&(n=u(o.states[t],n.options.states&&n.options.states[t]||{}),t=n.brightness,i=n.color||void 0!==t&&e(i).brighten(n.brightness).get()||i,h=n[r]||h,c=n[s]||c,f=n.dashStyle||f),r={fill:i,stroke:h,"stroke-width":c},f&&(r.dashstyle=f),r},drawPoints:function(){var i=this,f=this.chart,n=i.options,e=f.renderer,o=n.animationLimit||250,r;t(i.points,function(t){var h=t.graphic;s(t.plotY)&&null!==t.y?(r=t.shapeArgs,h?h[f.pointCount<o?"animate":"attr"](u(r)):t.graphic=h=e[t.shapeType](r).add(t.group||i.group),n.borderRadius&&h.attr({r:n.borderRadius}),h.attr(i.pointAttribs(t,t.selected&&"select")).shadow(n.shadow,null,n.stacking&&!n.borderRadius),h.addClass(t.getClassName(),!0)):h&&(t.graphic=h.destroy())})},animate:function(n){var t=this,i=this.yAxis,h=t.options,e=this.chart.inverted,r={},s=e?"translateX":"translateY",u;c&&(n?(r.scaleY=.001,n=Math.min(i.pos+i.len,Math.max(i.pos,i.toPixels(h.threshold))),e?r.translateX=n-i.len:r.translateY=n,t.group.attr(r)):(u=t.group.attr(s),t.group.animate({scaleY:1},o(f(t.options.animation),{step:function(n,f){r[s]=u+f.pos*(i.pos-u);t.group.attr(r)}})),t.animate=null))},remove:function(){var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)});r.prototype.remove.apply(n,arguments)}})}(t),function(n){n=n.seriesType;n("bar","column",null,{inverted:!0})}(t),function(n){var t=n.Series;n=n.seriesType;n("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"><\/span> <span style="font-size: 0.85em"> {series.name}<\/span><br/>',pointFormat:"x: <b>{point.x}<\/b><br/>y: <b>{point.y}<\/b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&t.prototype.drawGraph.call(this)}})}(t),function(n){var t=n.deg2rad,i=n.isNumber,r=n.pick,u=n.relativeLength;n.CenteredSeriesMixin={getCenter:function(){for(var i=this.options,f=this.chart,e=2*(i.slicedOffset||0),s=f.plotWidth-2*e,f=f.plotHeight-2*e,n=i.center,n=[r(n[0],"50%"),r(n[1],"50%"),i.size||"100%",i.innerSize||0],h=Math.min(s,f),o,t=0;4>t;++t)o=n[t],i=2>t||2===t&&/%$/.test(o),n[t]=u(o,[s,f,h,n[2]][t])+(i?e:0);return n[3]>n[2]&&(n[3]=n[2]),n},getStartAndEndRadians:function(n,r){return n=i(n)?n:0,r=i(r)&&r>n&&360>r-n?r:n+360,{start:t*(n+-90),end:t*(r+-90)}}}}(t),function(n){var r=n.addEvent,u=n.CenteredSeriesMixin,o=n.defined,i=n.each,s=n.extend,h=u.getStartAndEndRadians,f=n.inArray,e=n.noop,t=n.pick,c=n.Point,l=n.Series,a=n.seriesType,v=n.setAnimation;a("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){if(!this.point.isNull)return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:n.seriesTypes.column.prototype.pointAttribs,animate:function(n){var t=this,u=t.points,r=t.startAngleRad;n||(i(u,function(n){var i=n.graphic,u=n.shapeArgs;i&&(i.attr({r:n.startR||t.center[3]/2,start:r,end:r}),i.animate({r:u.r,start:u.start,end:u.end},t.options.animation))}),t.animate=null)},updateTotals:function(){for(var i=0,r=this.points,u=r.length,n,f=this.options.ignoreHiddenPoint,t=0;t<u;t++)n=r[t],i+=f&&!n.visible?0:n.isNull?0:n.y;for(this.total=i,t=0;t<u;t++)n=r[t],n.percentage=0<i&&(n.visible||!f)?n.y/i*100:0,n.total=i},generatePoints:function(){l.prototype.generatePoints.call(this);this.updateTotals()},translate:function(n){this.generatePoints();var l=0,f=this.options,a=f.slicedOffset,p=a+(f.borderWidth||0),e,u,i,s=h(f.startAngle,f.endAngle),v=this.startAngleRad=s.start,s=(this.endAngleRad=s.end)-v,y=this.points,o,w=f.dataLabels.distance,f=f.ignoreHiddenPoint,c,b=y.length,r;for(n||(this.center=n=this.getCenter()),this.getX=function(t,r,u){return i=Math.asin(Math.min((t-n[1])/(n[2]/2+u.labelDistance),1)),n[0]+(r?-1:1)*Math.cos(i)*(n[2]/2+u.labelDistance)},c=0;c<b;c++)r=y[c],r.labelDistance=t(r.options.dataLabels&&r.options.dataLabels.distance,w),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,r.labelDistance),e=v+l*s,(!f||r.visible)&&(l+=r.percentage/100),u=v+l*s,r.shapeType="arc",r.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*u)/1e3},i=(u+e)/2,i>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),r.slicedTranslation={translateX:Math.round(Math.cos(i)*a),translateY:Math.round(Math.sin(i)*a)},u=Math.cos(i)*n[2]/2,o=Math.sin(i)*n[2]/2,r.tooltipPos=[n[0]+.7*u,n[1]+.7*o],r.half=i<-Math.PI/2||i>Math.PI/2?1:0,r.angle=i,e=Math.min(p,r.labelDistance/5),r.labelPos=[n[0]+u+Math.cos(i)*r.labelDistance,n[1]+o+Math.sin(i)*r.labelDistance,n[0]+u+Math.cos(i)*e,n[1]+o+Math.sin(i)*e,n[0]+u,n[1]+o,0>r.labelDistance?"center":r.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var n=this,u=n.chart.renderer,r,t,f,e,o=n.options.shadow;o&&!n.shadowGroup&&(n.shadowGroup=u.g("shadow").add(n.group));i(n.points,function(i){if(t=i.graphic,i.isNull)t&&(i.graphic=t.destroy());else{e=i.shapeArgs;r=i.getTranslate();var h=i.shadowGroup;o&&!h&&(h=i.shadowGroup=u.g("shadow").add(n.shadowGroup));h&&h.attr(r);f=n.pointAttribs(i,i.selected&&"select");t?t.setRadialReference(n.center).attr(f).animate(s(e,r)):(i.graphic=t=u[i.shapeType](e).setRadialReference(n.center).attr(r).add(n.group),i.visible||t.attr({visibility:"hidden"}),t.attr(f).attr({"stroke-linejoin":"round"}).shadow(o,h));t.addClass(i.getClassName())}})},searchPoint:e,sortByAngle:function(n,t){n.sort(function(n,i){return void 0!==n.angle&&(i.angle-n.angle)*t})},drawLegendSymbol:n.LegendSymbolMixin.drawRectangle,getCenter:u.getCenter,getSymbol:e},{init:function(){c.prototype.init.apply(this,arguments);var n=this,i;return n.name=t(n.name,"Slice"),i=function(t){n.slice("select"===t.type)},r(n,"select",i),r(n,"unselect",i),n},isValid:function(){return n.isNumber(this.y,!0)&&0<=this.y},setVisible:function(n,r){var u=this,e=u.series,o=e.chart,s=e.options.ignoreHiddenPoint;r=t(r,s);n!==u.visible&&(u.visible=u.options.visible=n=void 0===n?!u.visible:n,e.options.data[f(u,e.data)]=u.options,i(["graphic","dataLabel","connector","shadowGroup"],function(t){u[t]&&u[t][n?"show":"hide"](!0)}),u.legendItem&&o.legend.colorizeItem(u,n),n||"hover"!==u.state||u.setState(""),s&&(e.isDirty=!0),r&&o.redraw())},slice:function(n,i,r){var u=this.series;v(r,u.chart);t(i,!0);this.sliced=this.options.sliced=o(n)?n:!this.sliced;u.options.data[f(this,u.data)]=this.options;this.graphic.animate(this.getTranslate());this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(n){var t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+n,t.r+n,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}})}(t),function(n){var h=n.addEvent,c=n.arrayMax,f=n.defined,i=n.each,o=n.extend,l=n.format,a=n.map,s=n.merge,v=n.noop,t=n.pick,y=n.relativeLength,u=n.Series,r=n.seriesTypes,e=n.stableSort;n.distribute=function(n,t){function s(n,t){return n.target-t.target}for(var u=!0,o=n,h=[],f=0,r=n.length;r--;)f+=n[r].size;if(f>t){for(e(n,function(n,t){return(t.rank||0)-(n.rank||0)}),f=r=0;f<=t;)f+=n[r].size,r++;h=n.splice(r-1,n.length)}for(e(n,s),n=a(n,function(n){return{size:n.size,targets:[n.target]}});u;){for(r=n.length;r--;)u=n[r],f=(Math.min.apply(0,u.targets)+Math.max.apply(0,u.targets))/2,u.pos=Math.min(Math.max(0,f-u.size/2),t-u.size);for(r=n.length,u=!1;r--;)0<r&&n[r-1].pos+n[r-1].size>n[r].pos&&(n[r-1].size+=n[r].size,n[r-1].targets=n[r-1].targets.concat(n[r].targets),n[r-1].pos+n[r-1].size>t&&(n[r-1].pos=t-n[r-1].size),n.splice(r,1),u=!0)}r=0;i(n,function(n){var t=0;i(n.targets,function(){o[r].pos=n.pos+t;t+=o[r].size;r++})});o.push.apply(o,h);e(o,s)};u.prototype.drawDataLabels=function(){var u=this,e=u.options,r=e.dataLabels,b=u.points,a,v,y=u.hasRendered||0,o,c,p=t(r.defer,!!e.animation),w=u.chart.renderer;(r.enabled||u._hasPointLabels)&&(u.dlProcessOptions&&u.dlProcessOptions(r),c=u.plotGroup("dataLabelsGroup","data-labels",p&&!y?"hidden":"visible",r.zIndex||6),p&&(c.attr({opacity:+y}),y||h(u,"afterAnimate",function(){u.visible&&c.show(!0);c[e.animation?"animate":"attr"]({opacity:1},{duration:200})})),v=r,i(b,function(i){var k,h=i.dataLabel,p,b,d=i.connector,g=!h,y;a=i.dlOptions||i.options&&i.options.dataLabels;(k=t(a&&a.enabled,v.enabled)&&!i.isNull)&&(r=s(v,a),p=i.getLabelConfig(),y=r[i.formatPrefix+"Format"]||r.format,o=f(y)?l(y,p):(r[i.formatPrefix+"Formatter"]||r.formatter).call(p,r),y=r.style,p=r.rotation,y.color=t(r.color,y.color,u.color,"#000000"),"contrast"===y.color&&(i.contrastColor=w.getContrast(i.color||u.color),y.color=r.inside||0>t(i.labelDistance,r.distance)||e.stacking?i.contrastColor:"#000000"),e.cursor&&(y.cursor=e.cursor),b={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:p,padding:r.padding,zIndex:1},n.objectEach(b,function(n,t){void 0===n&&delete b[t]}));!h||k&&f(o)?k&&f(o)&&(h?b.text=o:(h=i.dataLabel=w[p?"text":"label"](o,0,-9999,r.shape,null,null,r.useHTML,null,"data-label"),h.addClass("highcharts-data-label-color-"+i.colorIndex+" "+(r.className||"")+(r.useHTML?"highcharts-tracker":""))),h.attr(b),h.css(y).shadow(r.shadow),h.added||h.add(c),u.alignDataLabel(i,h,r,null,g)):(i.dataLabel=h=h.destroy(),d&&(i.connector=d.destroy()))}))};u.prototype.alignDataLabel=function(n,i,r,u,f){var h=this.chart,l=h.inverted,e=t(n.plotX,-9999),c=t(n.plotY,-9999),s=i.getBBox(),a,v=r.rotation,y=r.align,p=this.visible&&(n.series.forceDL||h.isInsidePlot(e,Math.round(c),l)||u&&h.isInsidePlot(e,l?u.x+1:u.y+u.height-1,l)),w="justify"===t(r.overflow,"justify");p&&(a=r.style.fontSize,a=h.renderer.fontMetrics(a,i).b,u=o({x:l?this.yAxis.len-c:e,y:Math.round(l?this.xAxis.len-e:c),width:0,height:0},u),o(r,{width:s.width,height:s.height}),v?(w=!1,e=h.renderer.rotCorr(a,v),e={x:u.x+r.x+u.width/2+e.x,y:u.y+r.y+{top:0,middle:.5,bottom:1}[r.verticalAlign]*u.height},i[f?"attr":"animate"](e).attr({align:y}),c=(v+720)%360,c=180<c&&360>c,"left"===y?e.y-=c?s.height:0:"center"===y?(e.x-=s.width/2,e.y-=s.height/2):"right"===y&&(e.x-=s.width,e.y-=c?0:s.height)):(i.align(r,null,u),e=i.alignAttr),w?n.isLabelJustified=this.justifyDataLabel(i,r,e,s,u,f):t(r.crop,!0)&&(p=h.isInsidePlot(e.x,e.y)&&h.isInsidePlot(e.x+s.width,e.y+s.height)),r.shape&&!v)&&i[f?"attr":"animate"]({anchorX:l?h.plotWidth-n.plotY:n.plotX,anchorY:l?h.plotHeight-n.plotX:n.plotY});p||(i.attr({y:-9999}),i.placed=!1)};u.prototype.justifyDataLabel=function(n,t,i,r,u,f){var s=this.chart,c=t.align,l=t.verticalAlign,e,o,h=n.box?0:n.padding||0;return e=i.x+h,0>e&&("right"===c?t.align="left":t.x=-e,o=!0),e=i.x+r.width-h,e>s.plotWidth&&("left"===c?t.align="right":t.x=s.plotWidth-e,o=!0),e=i.y+h,0>e&&("bottom"===l?t.verticalAlign="top":t.y=-e,o=!0),e=i.y+r.height-h,e>s.plotHeight&&("top"===l?t.verticalAlign="bottom":t.y=s.plotHeight-e,o=!0),o&&(n.placed=!f,n.align(t,null,u)),o};r.pie&&(r.pie.prototype.drawDataLabels=function(){var r=this,rt=r.data,e,w=r.chart,h=r.options.dataLabels,y=t(h.connectorPadding,10),ut=t(h.connectorWidth,1),ft=w.plotWidth,et=w.plotHeight,l,it=r.center,b=it[2]/2,nt=it[1],a,k,p,d,ot=[[],[]],v,o,g,tt,s=[0,0,0,0];r.visible&&(h.enabled||r._hasPointLabels)&&(i(rt,function(n){n.dataLabel&&n.visible&&n.dataLabel.shortened&&(n.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),n.dataLabel.shortened=!1)}),u.prototype.drawDataLabels.apply(r),i(rt,function(n){n.dataLabel&&n.visible&&(ot[n.half].push(n),n.dataLabel._pos=null)}),i(ot,function(u,c){var l,rt,st=u.length,ut=[],ot;if(st)for(r.sortByAngle(u,c-.5),0<r.maxLabelDistance&&(l=Math.max(0,nt-b-r.maxLabelDistance),rt=Math.min(nt+b+r.maxLabelDistance,w.plotHeight),i(u,function(n){0<n.labelDistance&&n.dataLabel&&(n.top=Math.max(0,nt-b-n.labelDistance),n.bottom=Math.min(nt+b+n.labelDistance,w.plotHeight),ot=n.dataLabel.getBBox().height||21,n.positionsIndex=ut.push({target:n.labelPos[1]-n.top+ot/2,size:ot,rank:n.y})-1)}),n.distribute(ut,rt+ot-l)),tt=0;tt<st;tt++)e=u[tt],rt=e.positionsIndex,p=e.labelPos,a=e.dataLabel,g=!1===e.visible?"hidden":"inherit",o=l=p[1],ut&&f(ut[rt])&&(void 0===ut[rt].pos?g="hidden":(d=ut[rt].size,o=e.top+ut[rt].pos)),delete e.positionIndex,v=h.justify?it[0]+(c?-1:1)*(b+e.labelDistance):r.getX(o<e.top+2||o>e.bottom-2?l:o,c,e),a._attr={visibility:g,align:p[6]},a._pos={x:v+h.x+({left:y,right:-y}[p[6]]||0),y:o+h.y-10},p.x=v,p.y=o,t(h.crop,!0)&&(k=a.getBBox().width,l=null,v-k<y?(l=Math.round(k-v+y),s[3]=Math.max(l,s[3])):v+k>ft-y&&(l=Math.round(v+k-ft+y),s[1]=Math.max(l,s[1])),0>o-d/2?s[0]=Math.max(Math.round(-o+d/2),s[0]):o+d/2>et&&(s[2]=Math.max(Math.round(o+d/2-et),s[2])),a.sideOverflow=l)}),0===c(s)||this.verifyDataLabelOverflow(s))&&(this.placeDataLabels(),ut&&i(this.points,function(n){var t;l=n.connector;(a=n.dataLabel)&&a._pos&&n.visible&&0<n.labelDistance?(g=a._attr.visibility,(t=!l)&&(n.connector=l=w.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+n.colorIndex).add(r.dataLabelsGroup),l.attr({"stroke-width":ut,stroke:h.connectorColor||n.color||"#666666"})),l[t?"attr":"animate"]({d:r.connectorPath(n.labelPos)}),l.attr("visibility",g)):l&&(n.connector=l.destroy())}))},r.pie.prototype.connectorPath=function(n){var i=n.x,r=n.y;return t(this.options.dataLabels.softConnector,!0)?["M",i+("left"===n[6]?5:-5),r,"C",i,r,2*n[2]-n[4],2*n[3]-n[5],n[2],n[3],"L",n[4],n[5]]:["M",i+("left"===n[6]?5:-5),r,"L",n[2],n[3],"L",n[4],n[5]]},r.pie.prototype.placeDataLabels=function(){i(this.points,function(n){var t=n.dataLabel;t&&n.visible&&((n=t._pos)?(t.sideOverflow&&(t._attr.width=t.getBBox().width-t.sideOverflow,t.css({width:t._attr.width+"px",textOverflow:"ellipsis"}),t.shortened=!0),t.attr(t._attr),t[t.moved?"animate":"attr"](n),t.moved=!0):t&&t.attr({y:-9999}))},this)},r.pie.prototype.alignDataLabel=v,r.pie.prototype.verifyDataLabelOverflow=function(n){var t=this.center,r=this.options,e=r.center,u=r.minSize||80,i,f=null!==r.size;return f||(null!==e[0]?i=Math.max(t[2]-Math.max(n[1],n[3]),u):(i=Math.max(t[2]-n[1]-n[3],u),t[0]+=(n[3]-n[1])/2),null!==e[1]?i=Math.max(Math.min(i,t[2]-Math.max(n[0],n[2])),u):(i=Math.max(Math.min(i,t[2]-n[0]-n[2]),u),t[1]+=(n[0]-n[2])/2),i<t[2]?(t[2]=i,t[3]=Math.min(y(r.innerSize||0,i),i),this.translate(t),this.drawDataLabels&&this.drawDataLabels()):f=!0),f});r.column&&(r.column.prototype.alignDataLabel=function(n,i,r,f,e){var h=this.chart.inverted,c=n.series,o=n.dlBox||n.shapeArgs,l=t(n.below,n.plotY>t(this.translatedThreshold,c.yAxis.len)),a=t(r.inside,!!this.options.stacking);o&&(f=s(o),0>f.y&&(f.height+=f.y,f.y=0),o=f.y+f.height-c.yAxis.len,0<o&&(f.height-=o),h&&(f={x:c.yAxis.len-f.y-f.height,y:c.xAxis.len-f.x-f.width,width:f.height,height:f.width}),a||(h?(f.x+=l?0:f.width,f.width=0):(f.y+=l?f.height:0,f.height=0)));r.align=t(r.align,!h||a?"center":l?"right":"left");r.verticalAlign=t(r.verticalAlign,h||a?"middle":l?"top":"bottom");u.prototype.alignDataLabel.call(this,n,i,r,f,e);n.isLabelJustified&&n.contrastColor&&n.dataLabel.css({color:n.contrastColor})})}(t),function(n){var i=n.Chart,t=n.each,r=n.objectEach,u=n.pick,f=n.addEvent;i.prototype.callbacks.push(function(n){f(n,"render",function(){var i=[];t(n.labelCollectors||[],function(n){i=i.concat(n())});t(n.yAxis||[],function(n){n.options.stackLabels&&!n.options.stackLabels.allowOverlap&&r(n.stacks,function(n){r(n,function(n){i.push(n.label)})})});t(n.series||[],function(n){var r=n.options.dataLabels,f=n.dataLabelCollections||["dataLabel"];(r.enabled||n._hasPointLabels)&&!r.allowOverlap&&n.visible&&t(f,function(r){t(n.points,function(n){n[r]&&(n[r].labelrank=u(n.labelrank,n.shapeArgs&&n.shapeArgs.height),i.push(n[r]))})})});n.hideOverlappingLabels(i)})});i.prototype.hideOverlappingLabels=function(n){for(var s=n.length,r,i,u,o,h,c,l,e,a=function(n,t,i,r,u,f,e,o){return!(u>n+i||u+e<n||f>t+r||f+o<t)},f=0;f<s;f++)(r=n[f])&&(r.oldOpacity=r.opacity,r.newOpacity=1,r.width||(i=r.getBBox(),r.width=i.width,r.height=i.height));for(n.sort(function(n,t){return(t.labelrank||0)-(n.labelrank||0)}),f=0;f<s;f++)for(i=n[f],r=f+1;r<s;++r)(u=n[r],i&&u&&i!==u&&i.placed&&u.placed&&0!==i.newOpacity&&0!==u.newOpacity&&(o=i.alignAttr,h=u.alignAttr,c=i.parentGroup,l=u.parentGroup,e=2*(i.box?0:i.padding||0),o=a(o.x+c.translateX,o.y+c.translateY,i.width-e,i.height-e,h.x+l.translateX,h.y+l.translateY,u.width-e,u.height-e)))&&((i.labelrank<u.labelrank?i:u).newOpacity=0);t(n,function(n){var i,t;n&&(t=n.newOpacity,n.oldOpacity!==t&&n.placed&&(t?n.show(!0):i=function(){n.hide()},n.alignAttr.opacity=t,n[n.isOld?"animate":"attr"](n.alignAttr,null,i)),n.isOld=!0)})}}(t),function(n){var o=n.addEvent,v=n.Chart,y=n.createElement,s=n.css,h=n.defaultOptions,p=n.defaultPlotOptions,t=n.each,f=n.extend,i=n.fireEvent,c=n.hasTouch,l=n.inArray,w=n.isObject,b=n.Legend,a=n.merge,r=n.pick,k=n.Point,d=n.Series,u=n.seriesTypes,g=n.svg,e;e=n.TrackerMixin={drawTrackerPoint:function(){var n=this,i=n.chart.pointer,r=function(n){var t=i.getPointFromEvent(n);void 0!==t&&(i.isDirectTouch=!0,t.onMouseOver(n))};t(n.points,function(n){n.graphic&&(n.graphic.element.point=n);n.dataLabel&&(n.dataLabel.div?n.dataLabel.div.point=n:n.dataLabel.element.point=n)});n._hasTracking||(t(n.trackerGroups,function(t){if(n[t]){n[t].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(n){i.onTrackerMouseOut(n)});if(c)n[t].on("touchstart",r);n.options.cursor&&n[t].css(s).css({cursor:n.options.cursor})}}),n._hasTracking=!0)},drawTrackerGraph:function(){var n=this,e=n.options,u=e.trackByArea,r=[].concat(u?n.areaPath:n.graphPath),o=r.length,f=n.chart,v=f.pointer,y=f.renderer,s=f.options.tooltip.snap,h=n.tracker,i,l=function(){f.hoverSeries!==n&&n.onMouseOver()},a="rgba(192,192,192,"+(g?.0001:.002)+")";if(o&&!u)for(i=o+1;i--;)"M"===r[i]&&r.splice(i+1,0,r[i+1]-s,r[i+2],"L"),(i&&"M"===r[i]||i===o)&&r.splice(i,0,"L",r[i-2]+s,r[i-1]);h?h.attr({d:r}):n.graph&&(n.tracker=y.path(r).attr({"stroke-linejoin":"round",visibility:n.visible?"visible":"hidden",stroke:a,fill:u?a:"none","stroke-width":n.graph.strokeWidth()+(u?0:2*s),zIndex:2}).add(n.group),t([n.tracker,n.markerGroup],function(n){n.addClass("highcharts-tracker").on("mouseover",l).on("mouseout",function(n){v.onTrackerMouseOut(n)});if(e.cursor&&n.css({cursor:e.cursor}),c)n.on("touchstart",l)}))}};u.column&&(u.column.prototype.drawTracker=e.drawTrackerPoint);u.pie&&(u.pie.prototype.drawTracker=e.drawTrackerPoint);u.scatter&&(u.scatter.prototype.drawTracker=e.drawTrackerPoint);f(b.prototype,{setItemEvents:function(n,t,r){var u=this,f=u.chart.renderer.boxWrapper,e="highcharts-legend-"+(n.series?"point":"series")+"-active";(r?t:n.legendGroup).on("mouseover",function(){n.setState("hover");f.addClass(e);t.css(u.options.itemHoverStyle)}).on("mouseout",function(){t.css(a(n.visible?u.itemStyle:u.itemHiddenStyle));f.removeClass(e);n.setState()}).on("click",function(t){var r=function(){n.setVisible&&n.setVisible()};t={browserEvent:t};n.firePointEvent?n.firePointEvent("legendItemClick",t,r):i(n,"legendItemClick",t,r)})},createCheckboxForItem:function(n){n.checkbox=y("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},this.options.itemCheckboxStyle,this.chart.container);o(n.checkbox,"click",function(t){i(n.series||n,"checkboxClick",{checked:t.target.checked,item:n},function(){n.select()})})}});h.legend.itemStyle.cursor="pointer";f(v.prototype,{showResetZoom:function(){var t=this,i=h.lang,n=t.options.chart.resetZoomButton,r=n.theme,u=r.states,f="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(i.resetZoom,null,null,function(){t.zoomOut()},r,u&&u.hover).attr({align:n.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,f)},zoomOut:function(){var n=this;i(n,"selection",{resetSelection:!0},function(){n.zoom()})},zoom:function(n){var u,e=this.pointer,f=!1,i;!n||n.resetSelection?(t(this.axes,function(n){u=n.zoom()}),e.initiated=!1):t(n.xAxis.concat(n.yAxis),function(n){var t=n.axis;e[t.isXAxis?"zoomX":"zoomY"]&&(u=t.zoom(n.min,n.max),t.displayBtn&&(f=!0))});i=this.resetZoomButton;f&&!i?this.showResetZoom():!f&&w(i)&&(this.resetZoomButton=i.destroy());u&&this.redraw(r(this.options.chart.animation,n&&n.animation,100>this.pointCount))},pan:function(n,i){var r=this,u=r.hoverPoints,f;u&&t(u,function(n){n.setState()});t("xy"===i?[1,0]:[1],function(t){t=r[t?"xAxis":"yAxis"][0];var h=t.horiz,l=n[h?"chartX":"chartY"],h=h?"mouseDownX":"mouseDownY",u=r[h],e=(t.pointRange||0)/2,o=t.getExtremes(),i=t.toValue(u-l,!0)+e,e=t.toValue(u+t.len-l,!0)-e,c=e<i,u=c?e:i,i=c?i:e,e=Math.min(o.dataMin,t.toValue(t.toPixels(o.min)-t.minPixelPadding)),c=Math.max(o.dataMax,t.toValue(t.toPixels(o.max)+t.minPixelPadding)),s;s=e-u;0<s&&(i+=s,u=e);s=i-c;0<s&&(i=c,u-=s);t.series.length&&u!==o.min&&i!==o.max&&(t.setExtremes(u,i,!1,!1,{trigger:"pan"}),f=!0);r[h]=l});f&&r.redraw(!1);s(r.container,{cursor:"move"})}});f(k.prototype,{select:function(n,i){var u=this,f=u.series,e=f.chart;n=r(n,!u.selected);u.firePointEvent(n?"select":"unselect",{accumulate:i},function(){u.selected=u.options.selected=n;f.options.data[l(u,f.data)]=u.options;u.setState(n&&"select");i||t(e.getSelectedPoints(),function(n){n.selected&&n!==u&&(n.selected=n.options.selected=!1,f.options.data[l(n,f.data)]=n.options,n.setState(""),n.firePointEvent("unselect"))})})},onMouseOver:function(n){var i=this.series.chart,t=i.pointer;n=n?t.normalize(n):t.getChartCoordinatesFromPoint(this,i.inverted);t.runPointActions(n,this)},onMouseOut:function(){var n=this.series.chart;this.firePointEvent("mouseOut");t(n.hoverPoints||[],function(n){n.setState()});n.hoverPoints=n.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=this,i=a(t.series.options.point,t.options).events;t.events=i;n.objectEach(i,function(n,i){o(t,i,n)});this.hasImportedEvents=!0}},setState:function(n,t){var h=Math.floor(this.plotX),y=this.plotY,i=this.series,v=i.options.states[n]||{},e=p[i.type].marker&&i.options.marker,w=e&&!1===e.enabled,l=e&&e.states&&e.states[n]||{},b=!1===l.enabled,u=i.stateMarkerGraphic,a=this.marker||{},c=i.chart,o=i.halo,s,k=e&&i.markerAttribs;n=n||"";n===this.state&&!t||this.selected&&"select"!==n||!1===v.enabled||n&&(b||w&&!1===l.enabled)||n&&a.states&&a.states[n]&&!1===a.states[n].enabled||(k&&(s=i.markerAttribs(this,n)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),n&&this.graphic.addClass("highcharts-point-"+n),this.graphic.animate(i.pointAttribs(this,n),r(c.options.chart.animation,v.animation)),s&&this.graphic.animate(s,r(c.options.chart.animation,l.animation,e.animation)),u&&u.hide()):(n&&l&&(e=a.symbol||i.symbol,u&&u.currentSymbol!==e&&(u=u.destroy()),u?u[t?"animate":"attr"]({x:s.x,y:s.y}):e&&(i.stateMarkerGraphic=u=c.renderer.symbol(e,s.x,s.y,s.width,s.height).add(i.markerGroup),u.currentSymbol=e),u&&u.attr(i.pointAttribs(this,n))),u&&(u[n&&c.isInsidePlot(h,y,c.inverted)?"show":"hide"](),u.element.point=this)),(h=v.halo)&&h.size?(o||(i.halo=o=c.renderer.path().add((this.graphic||u).parentGroup)),o[t?"animate":"attr"]({d:this.haloPath(h.size)}),o.attr({"class":"highcharts-halo highcharts-color-"+r(this.colorIndex,i.colorIndex)}),o.point=this,o.attr(f({fill:this.color||i.color,"fill-opacity":h.opacity,zIndex:-1},h.attributes))):o&&o.point&&o.point.haloPath&&o.animate({d:o.point.haloPath(0)}),this.state=n)},haloPath:function(n){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-n,this.plotY-n,2*n,2*n)}});f(d.prototype,{onMouseOver:function(){var t=this.chart,n=t.hoverSeries;n&&n!==this&&n.onMouseOut();this.options.events.mouseOver&&i(this,"mouseOver");this.setState("hover");t.hoverSeries=this},onMouseOut:function(){var u=this.options,n=this.chart,t=n.tooltip,r=n.hoverPoint;n.hoverSeries=null;r&&r.onMouseOut();this&&u.events.mouseOut&&i(this,"mouseOut");!t||this.stickyTracking||t.shared&&!this.noSharedTooltip||t.hide();this.setState()},setState:function(n){var i=this,e=i.options,o=i.graph,u=e.states,f=e.lineWidth,e=0;if(n=n||"",i.state!==n&&(t([i.group,i.markerGroup,i.dataLabelsGroup],function(t){t&&(i.state&&t.removeClass("highcharts-series-"+i.state),n&&t.addClass("highcharts-series-"+n))}),i.state=n,!u[n]||!1!==u[n].enabled)&&(n&&(f=u[n].lineWidth||f+(u[n].lineWidthPlus||0)),o&&!o.dashstyle))for(f={"stroke-width":f},o.animate(f,r(i.chart.options.chart.animation,u[n]&&u[n].animation));i["zone-graph-"+e];)i["zone-graph-"+e].attr(f),e+=1},setVisible:function(n,r){var u=this,f=u.chart,o=u.legendItem,e,s=f.options.chart.ignoreHiddenSeries,h=u.visible;e=(u.visible=n=u.options.visible=u.userOptions.visible=void 0===n?!h:n)?"show":"hide";t(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(n){u[n]&&u[n][e]()});(f.hoverSeries===u||(f.hoverPoint&&f.hoverPoint.series)===u)&&u.onMouseOut();o&&f.legend.colorizeItem(u,n);u.isDirty=!0;u.options.stacking&&t(f.series,function(n){n.options.stacking&&n.visible&&(n.isDirty=!0)});t(u.linkedSeries,function(t){t.setVisible(n,!1)});s&&(f.isDirtyBox=!0);!1!==r&&f.redraw();i(u,e,{redraw:r})},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=void 0===n?!this.selected:n;this.checkbox&&(this.checkbox.checked=n);i(this,n?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(t),function(n){var i=n.Chart,r=n.each,u=n.inArray,f=n.isArray,e=n.isObject,t=n.pick,o=n.splat;i.prototype.setResponsive=function(t){var u=this.options.responsive,i=[],f=this.currentResponsive,e;u&&u.rules&&r(u.rules,function(r){void 0===r._id&&(r._id=n.uniqueKey());this.matchResponsiveRule(r,i,t)},this);e=n.merge.apply(0,n.map(i,function(t){return n.find(u.rules,function(n){return n._id===t}).chartOptions}));i=i.toString()||void 0;i!==(f&&f.ruleIds)&&(f&&this.update(f.undoOptions,t),i?(this.currentResponsive={ruleIds:i,mergedOptions:e,undoOptions:this.currentOptions(e)},this.update(e,t)):this.currentResponsive=void 0)};i.prototype.matchResponsiveRule=function(n,i){var r=n.condition;(r.callback||function(){return this.chartWidth<=t(r.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=t(r.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=t(r.minWidth,0)&&this.chartHeight>=t(r.minHeight,0)}).call(this)&&i.push(n._id)};i.prototype.currentOptions=function(t){function i(t,r,s,h){var c;n.objectEach(t,function(n,l){if(!h&&-1<u(l,["series","xAxis","yAxis"]))for(t[l]=o(t[l]),s[l]=[],c=0;c<t[l].length;c++)r[l][c]&&(s[l][c]={},i(n[c],r[l][c],s[l][c],h+1));else e(n)?(s[l]=f(n)?[]:{},i(n,r[l]||{},s[l],h+1)):s[l]=r[l]||null})}var r={};return i(t,this.options,r,0),r}}(t),t}),function(n){n(["jquery"],function(n){return function(){function v(n,t,r){return f({type:u.error,iconClass:i().iconClasses.error,message:n,optionsOverride:r,title:t})}function r(r,u){return(r||(r=i()),t=n("#"+r.containerId),t.length)?t:(u&&(t=nt(r)),t)}function y(n,t,r){return f({type:u.info,iconClass:i().iconClasses.info,message:n,optionsOverride:r,title:t})}function p(n){e=n}function w(n,t,r){return f({type:u.success,iconClass:i().iconClasses.success,message:n,optionsOverride:r,title:t})}function b(n,t,r){return f({type:u.warning,iconClass:i().iconClasses.warning,message:n,optionsOverride:r,title:t})}function k(n,u){var f=i();t||r(f);l(n,f,u)||g(f)}function d(u){var f=i();if(t||r(f),u&&n(":focus",u).length===0){s(u);return}t.children().length&&t.remove()}function g(i){for(var u=t.children(),r=u.length-1;r>=0;r--)l(n(u[r]),i)}function l(t,i,r){var u=r&&r.force?r.force:!1;return t&&(u||n(":focus",t).length===0)?(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){s(t)}}),!0):!1}function nt(i){return t=n("<div/>").attr("id",i.containerId).addClass(i.positionClass).attr("aria-live","polite").attr("role","alert"),t.appendTo(n(i.target)),t}function tt(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:undefined,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:undefined,closeMethod:!1,closeDuration:!1,closeEasing:!1,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;<\/button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function a(n){e&&e(n)}function f(u){function g(n){return n==null&&(n=""),new String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nt(){rt();ft();et();ot();st();ut()}function tt(){e.hover(lt,ct);!f.onclick&&f.tapToDismiss&&e.click(v);f.closeButton&&y&&y.click(function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble!==undefined&&n.cancelBubble!==!0&&(n.cancelBubble=!0);v(!0)});f.onclick&&e.click(function(n){f.onclick(n);v()})}function it(){e.hide();e[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown});f.timeOut>0&&(w=setTimeout(v,f.timeOut),c.maxHideTime=parseFloat(f.timeOut),c.hideEta=(new Date).getTime()+c.maxHideTime,f.progressBar&&(c.intervalId=setInterval(at,10)))}function rt(){u.iconClass&&e.addClass(f.toastClass).addClass(p)}function ut(){f.newestOnTop?t.prepend(e):t.append(e)}function ft(){u.title&&(k.append(f.escapeHtml?g(u.title):u.title).addClass(f.titleClass),e.append(k))}function et(){u.message&&(d.append(f.escapeHtml?g(u.message):u.message).addClass(f.messageClass),e.append(d))}function ot(){f.closeButton&&(y.addClass("toast-close-button").attr("role","button"),e.prepend(y))}function st(){f.progressBar&&(b.addClass("toast-progress"),e.prepend(b))}function ht(n,t){if(n.preventDuplicates){if(t.message===o)return!0;o=t.message}return!1}function v(t){var i=t&&f.closeMethod!==!1?f.closeMethod:f.hideMethod,r=t&&f.closeDuration!==!1?f.closeDuration:f.hideDuration,u=t&&f.closeEasing!==!1?f.closeEasing:f.hideEasing;if(!n(":focus",e).length||t)return clearTimeout(c.intervalId),e[i]({duration:r,easing:u,complete:function(){s(e);f.onHidden&&l.state!=="hidden"&&f.onHidden();l.state="hidden";l.endTime=new Date;a(l)}})}function ct(){(f.timeOut>0||f.extendedTimeOut>0)&&(w=setTimeout(v,f.extendedTimeOut),c.maxHideTime=parseFloat(f.extendedTimeOut),c.hideEta=(new Date).getTime()+c.maxHideTime)}function lt(){clearTimeout(w);c.hideEta=0;e.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}function at(){var n=(c.hideEta-(new Date).getTime())/c.maxHideTime*100;b.width(n+"%")}var f=i(),p=u.iconClass||f.iconClass;if(typeof u.optionsOverride!="undefined"&&(f=n.extend(f,u.optionsOverride),p=u.optionsOverride.iconClass||p),!ht(f,u)){h++;t=r(f,!0);var w=null,e=n("<div/>"),k=n("<div/>"),d=n("<div/>"),b=n("<div/>"),y=n(f.closeHtml),c={intervalId:null,hideEta:null,maxHideTime:null},l={toastId:h,state:"visible",startTime:new Date,options:f,map:u};return nt(),it(),tt(),a(l),f.debug&&console&&console.log(l),e}}function i(){return n.extend({},tt(),c.options)}function s(n){(t||(t=r()),n.is(":visible"))||(n.remove(),n=null,t.children().length===0&&(t.remove(),o=undefined))}var t,e,h=0,u={error:"error",info:"info",success:"success",warning:"warning"},c={clear:k,remove:d,error:v,getContainer:r,info:y,options:{},subscribe:p,success:w,version:"2.1.2",warning:b},o;return c}()})}(typeof define=="function"&&define.amd?define:function(n,t){typeof module!="undefined"&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */
(function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.NProgress=t()})(this,function(){function u(n,t,i){return n<t?t:n>i?i:n}function r(n){return(-1+n)*100}function l(n,i,u){var f;return f=t.positionUsing==="translate3d"?{transform:"translate3d("+r(n)+"%,0,0)"}:t.positionUsing==="translate"?{transform:"translate("+r(n)+"%,0)"}:{"margin-left":r(n)+"%"},f.transition="all "+i+"ms "+u,f}function o(n,t){var i=typeof n=="string"?n:f(n);return i.indexOf(" "+t+" ")>=0}function s(n,t){var i=f(n),r=i+t;o(i,t)||(n.className=r.substring(1))}function h(n,t){var r=f(n),i;o(n,t)&&(i=r.replace(" "+t+" "," "),n.className=i.substring(1,i.length-1))}function f(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function c(n){n&&n.parentNode&&n.parentNode.removeChild(n)}var n={},t,e,i;return n.version="0.2.0",t=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"><\/div><\/div><div class="spinner" role="spinner"><div class="spinner-icon"><\/div><\/div>'},n.configure=function(n){var i,r;for(i in n)r=n[i],r!==undefined&&n.hasOwnProperty(i)&&(t[i]=r);return this},n.status=null,n.set=function(r){var s=n.isStarted();r=u(r,t.minimum,1);n.status=r===1?null:r;var f=n.render(!s),h=f.querySelector(t.barSelector),o=t.speed,c=t.easing;return f.offsetWidth,e(function(u){t.positionUsing===""&&(t.positionUsing=n.getPositioningCSS());i(h,l(r,o,c));r===1?(i(f,{transition:"none",opacity:1}),f.offsetWidth,setTimeout(function(){i(f,{transition:"all "+o+"ms linear",opacity:0});setTimeout(function(){n.remove();u()},o)},o)):setTimeout(u,o)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var i=function(){setTimeout(function(){n.status&&(n.trickle(),i())},t.trickleSpeed)};return t.trickle&&i(),this},n.done=function(t){return!t&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(t){var i=n.status;return i?(typeof t!="number"&&(t=(1-i)*u(Math.random()*i,.1,.95)),i=u(i+t,0,.994),n.set(i)):n.start()},n.trickle=function(){return n.inc(Math.random()*t.trickleRate)},function(){var i=0,t=0;n.promise=function(r){return!r||r.state()==="resolved"?this:(t===0&&n.start(),i++,t++,r.always(function(){t--;t===0?(i=0,n.done()):n.set((i-t)/i)}),this)}}(),n.render=function(u){var f;if(n.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");f=document.createElement("div");f.id="nprogress";f.innerHTML=t.template;var h=f.querySelector(t.barSelector),l=u?"-100":r(n.status||0),e=document.querySelector(t.parent),o;return i(h,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),t.showSpinner||(o=f.querySelector(t.spinnerSelector),o&&c(o)),e!=document.body&&s(e,"nprogress-custom-parent"),e.appendChild(f),f},n.remove=function(){h(document.documentElement,"nprogress-busy");h(document.querySelector(t.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&c(n)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var n=document.body.style,t="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return t+"Perspective"in n?"translate3d":t+"Transform"in n?"translate":"margin"},e=function(){function t(){var i=n.shift();i&&i(t)}var n=[];return function(i){n.push(i);n.length==1&&t()}}(),i=function(){function r(n){return n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(n,t){return t.toUpperCase()})}function u(t){var u=document.body.style,i,f,r;if(t in u)return t;for(i=n.length,f=t.charAt(0).toUpperCase()+t.slice(1);i--;)if(r=n[i]+f,r in u)return r;return t}function f(n){return n=r(n),t[n]||(t[n]=u(n))}function i(n,t,i){t=f(t);n.style[t]=i}var n=["Webkit","O","Moz","ms"],t={};return function(n,t){var u=arguments,r,f;if(u.length==2)for(r in t)f=t[r],f!==undefined&&t.hasOwnProperty(r)&&i(n,r,f);else i(n,u[1],u[2])}}(),n});
/* @preserve
 * Leaflet 1.2.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.L={})}(this,function(n){"use strict";function s(n){for(var i,r,t=1,u=arguments.length;t<u;t++){r=arguments[t];for(i in r)n[i]=r[i]}return n}function c(n,t){var i=Array.prototype.slice,r;return n.bind?n.bind.apply(n,i.call(arguments,1)):(r=i.call(arguments,2),function(){return n.apply(t,r.length?r.concat(i.call(arguments)):arguments)})}function o(n){return n._leaflet_id=n._leaflet_id||++nh,n._leaflet_id}function uf(n,t,i){var u,r,f,e;return e=function(){u=!1;r&&(f.apply(i,r),r=!1)},f=function(){u?r=arguments:(n.apply(i,arguments),setTimeout(e,t),u=!0)}}function hr(n,t,i){var f=t[1],r=t[0],u=f-r;return n===f&&i?n:((n-r)%u+u)%u+r}function d(){return!1}function ht(n,t){var i=Math.pow(10,t||5);return Math.round(n*i)/i}function ff(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function yi(n){return ff(n).split(/\s+/)}function a(n,t){n.hasOwnProperty("options")||(n.options=n.options?au(n.options):{});for(var i in t)n.options[i]=t[i];return n.options}function ts(n,t,i){var u=[];for(var r in n)u.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(n[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+u.join("&")}function is(n,t){return n.replace(yc,function(n,i){var r=t[i];if(void 0===r)throw new Error("No value provided for variable "+n);return"function"==typeof r&&(r=r(t)),r})}function rs(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return i;return-1}function ef(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}function us(n){var t=+new Date,i=Math.max(0,16-(t-ih));return ih=t+i,window.setTimeout(n,i)}function g(n,t,i){if(!i||ue!==us)return ue.call(window,c(n,t));n.call(t)}function ct(n){n&&rh.call(window,n)}function pt(){}function tc(n){if(L&&L.Mixin){n=at(n)?n:[n];for(var t=0;t<n.length;t++)n[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function t(n,t,i){this.x=i?Math.round(n):n;this.y=i?Math.round(t):t}function r(n,i,r){return n instanceof t?n:at(n)?new t(n[0],n[1]):void 0===n||null===n?n:"object"==typeof n&&"x"in n&&"y"in n?new t(n.x,n.y):new t(n,i,r)}function v(n,t){if(n)for(var r=t?[n,t]:n,i=0,u=r.length;i<u;i++)this.extend(r[i])}function ii(n,t){return!n||n instanceof v?n:new v(n,t)}function nt(n,t){if(n)for(var r=t?[n,t]:n,i=0,u=r.length;i<u;i++)this.extend(r[i])}function k(n,t){return n instanceof nt?n:new nt(n,t)}function h(n,t,i){if(isNaN(n)||isNaN(t))throw new Error("Invalid LatLng object: ("+n+", "+t+")");this.lat=+n;this.lng=+t;void 0!==i&&(this.alt=+i)}function y(n,t,i){return n instanceof h?n:at(n)&&"object"!=typeof n[0]?3===n.length?new h(n[0],n[1],n[2]):2===n.length?new h(n[0],n[1]):null:void 0===n||null===n?n:"object"==typeof n&&"lat"in n?new h(n.lat,"lng"in n?n.lng:n.lon,n.alt):void 0===t?null:new h(n,t,i)}function of(n,t,i,r){if(at(n))return this._a=n[0],this._b=n[1],this._c=n[2],void(this._d=n[3]);this._a=n;this._b=t;this._c=i;this._d=r}function cr(n,t,i,r){return new of(n,t,i,r)}function fs(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function es(n,t){for(var i,o,s,u,f="",r=0,e=n.length;r<e;r++){for(i=0,o=(s=n[r]).length;i<o;i++)u=s[i],f+=(i?"L":"M")+u.x+" "+u.y;f+=t?pu?"z":"x":""}return f||"M0 0"}function wt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}function ic(n,t,i,r){return"touchstart"===t?uc(n,i,r):"touchmove"===t?oc(n,i,r):"touchend"===t&&sc(n,i,r),this}function rc(n,t,i){var r=n["_leaflet_"+t+i];return"touchstart"===t?n.removeEventListener(pe,r,!1):"touchmove"===t?n.removeEventListener(we,r,!1):"touchend"===t&&(n.removeEventListener(be,r,!1),n.removeEventListener(ke,r,!1)),this}function uc(n,t,i){var r=c(function(n){if("mouse"!==n.pointerType&&n.pointerType!==n.MSPOINTER_TYPE_MOUSE&&n.pointerType!==n.MSPOINTER_TYPE_MOUSE){if(!(nl.indexOf(n.target.tagName)<0))return;rt(n)}sf(n,t)});n["_leaflet_touchstart"+i]=r;n.addEventListener(pe,r,!1);lh||(document.documentElement.addEventListener(pe,fc,!0),document.documentElement.addEventListener(we,ec,!0),document.documentElement.addEventListener(be,os,!0),document.documentElement.addEventListener(ke,os,!0),lh=!0)}function fc(n){nr[n.pointerId]=n;de++}function ec(n){nr[n.pointerId]&&(nr[n.pointerId]=n)}function os(n){delete nr[n.pointerId];de--}function sf(n,t){n.touches=[];for(var i in nr)n.touches.push(nr[i]);n.changedTouches=[n];t(n)}function oc(n,t,i){var r=function(n){(n.pointerType!==n.MSPOINTER_TYPE_MOUSE&&"mouse"!==n.pointerType||0!==n.buttons)&&sf(n,t)};n["_leaflet_touchmove"+i]=r;n.addEventListener(we,r,!1)}function sc(n,t,i){var r=function(n){sf(n,t)};n["_leaflet_touchend"+i]=r;n.addEventListener(be,r,!1);n.addEventListener(ke,r,!1)}function ss(n,t,i){function f(n){var i,t,f;if(vt){if(!wr||"mouse"===n.pointerType)return;i=de}else i=n.touches.length;i>1||(t=Date.now(),f=t-(u||t),r=n.touches?n.touches[0]:n,o=f>0&&f<=s,u=t)}function e(n){if(o&&!r.cancelBubble){if(vt){if(!wr||"mouse"===n.pointerType)return;var i,f,e={};for(f in r)i=r[f],e[f]=i&&i.bind?i.bind(r):i;r=e}r.type="dblclick";t(r);u=null}}var u,r,o=!1,s=250;return n[tr+bu+i]=f,n[tr+ku+i]=e,n[tr+"dblclick"+i]=t,n.addEventListener(bu,f,!1),n.addEventListener(ku,e,!1),n.addEventListener("dblclick",t,!1),this}function hs(n,t){var i=n[tr+bu+t],r=n[tr+ku+t],u=n[tr+"dblclick"+t];return n.removeEventListener(bu,i,!1),n.removeEventListener(ku,r,!1),wr||n.removeEventListener("dblclick",u,!1),this}function i(n,t,i,r){var f,u,e;if("object"==typeof t)for(f in t)ru(n,f,t[f],i);else for(u=0,e=(t=yi(t)).length;u<e;u++)ru(n,t[u],i,r);return this}function w(n,t,i,r){var f,u,o,e;if("object"==typeof t)for(f in t)hf(n,f,t[f],i);else if(t)for(u=0,o=(t=yi(t)).length;u<o;u++)hf(n,t[u],i,r);else{for(e in n[ot])hf(n,e,n[ot][e]);delete n[ot]}return this}function ru(n,t,i,r){var f=t+o(i)+(r?"_"+o(r):""),u,e;if(n[ot]&&n[ot][f])return this;u=function(t){return i.call(r||n,t||window.event)};e=u;vt&&0===t.indexOf("touch")?ic(n,t,u,f):!et||"dblclick"!==t||!ss||vt&&yu?"addEventListener"in n?"mousewheel"===t?n.addEventListener("onwheel"in n?"wheel":"mousewheel",u,!1):"mouseenter"===t||"mouseleave"===t?(u=function(t){t=t||window.event;uu(n,t)&&e(t)},n.addEventListener("mouseenter"===t?"mouseover":"mouseout",u,!1)):("click"===t&&br&&(u=function(n){hc(n,e)}),n.addEventListener(t,u,!1)):"attachEvent"in n&&n.attachEvent("on"+t,u):ss(n,u,f);n[ot]=n[ot]||{};n[ot][f]=u}function hf(n,t,i,r){var u=t+o(i)+(r?"_"+o(r):""),f=n[ot]&&n[ot][u];if(!f)return this;vt&&0===t.indexOf("touch")?rc(n,t,u):et&&"dblclick"===t&&hs?hs(n,u):"removeEventListener"in n?"mousewheel"===t?n.removeEventListener("onwheel"in n?"wheel":"mousewheel",f,!1):n.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,f,!1):"detachEvent"in n&&n.detachEvent("on"+t,f);n[ot][u]=null}function oi(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,af(n),this}function cf(n){return ru(n,"mousewheel",oi),this}function lr(n){return i(n,"mousedown touchstart dblclick",oi),ru(n,"click",lf),this}function rt(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function lt(n){return rt(n),oi(n),this}function cs(n,i){if(!i)return new t(n.clientX,n.clientY);var r=i.getBoundingClientRect();return new t(n.clientX-r.left-i.clientLeft,n.clientY-r.top-i.clientTop)}function ls(n){return wr?n.wheelDeltaY/2:n.deltaY&&0===n.deltaMode?-n.deltaY/tl:n.deltaY&&1===n.deltaMode?20*-n.deltaY:n.deltaY&&2===n.deltaMode?60*-n.deltaY:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?20*-n.detail:n.detail?n.detail/-32765*60:0}function lf(n){ge[n.type]=!0}function af(n){var t=ge[n.type];return ge[n.type]=!1,t}function uu(n,t){var i=t.relatedTarget;if(!i)return!0;try{for(;i&&i!==n;)i=i.parentNode}catch(n){return!1}return i!==n}function hc(n,t){var r=n.timeStamp||n.originalEvent&&n.originalEvent.timeStamp,i=ee&&r-ee;i&&i>100&&i<500||n.target._simulatedClick&&!n._simulated?lt(n):(ee=r,t(n))}function as(n){return"string"==typeof n?document.getElementById(n):n}function ar(n,t){var i=n.style[t]||n.currentStyle&&n.currentStyle[t],r;return(!i||"auto"===i)&&document.defaultView&&(r=document.defaultView.getComputedStyle(n,null),i=r?r[t]:null),"auto"===i?null:i}function f(n,t,i){var r=document.createElement(n);return r.className=t||"",i&&i.appendChild(r),r}function l(n){var t=n.parentNode;t&&t.removeChild(n)}function vf(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function pi(n){var t=n.parentNode;t.lastChild!==n&&t.appendChild(n)}function wi(n){var t=n.parentNode;t.firstChild!==n&&t.insertBefore(n,t.firstChild)}function yf(n,t){if(void 0!==n.classList)return n.classList.contains(t);var i=fu(n);return i.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(i)}function e(n,t){var r;if(void 0!==n.classList)for(var u=yi(t),i=0,f=u.length;i<f;i++)n.classList.add(u[i]);else yf(n,t)||(r=fu(n),pf(n,(r?r+" ":"")+t))}function p(n,t){void 0!==n.classList?n.classList.remove(t):pf(n,ff((" "+fu(n)+" ").replace(" "+t+" "," ")))}function pf(n,t){void 0===n.className.baseVal?n.className=t:n.className.baseVal=t}function fu(n){return void 0===n.className.baseVal?n.className:n.className.baseVal}function ut(n,t){"opacity"in n.style?n.style.opacity=t:"filter"in n.style&&cc(n,t)}function cc(n,t){var i=!1,r="DXImageTransform.Microsoft.Alpha";try{i=n.filters.item(r)}catch(n){if(1===t)return}t=Math.round(100*t);i?(i.Enabled=100!==t,i.Opacity=t):n.style.filter+=" progid:"+r+"(opacity="+t+")"}function eu(n){for(var i=document.documentElement.style,t=0;t<n.length;t++)if(n[t]in i)return n[t];return!1}function si(n,i,r){var u=i||new t(0,0);n.style[no]=(ve?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(r?" scale("+r+")":"")}function b(n,t){n._leaflet_pos=t;ft?si(n,t):(n.style.left=t.x+"px",n.style.top=t.y+"px")}function hi(n){return n._leaflet_pos||new t(0,0)}function wf(){i(window,"dragstart",rt)}function bf(){w(window,"dragstart",rt)}function kf(n){for(;-1===n.tabIndex;)n=n.parentNode;n.style&&(ou(),du=n,to=n.style.outline,n.style.outline="none",i(window,"keydown",ou))}function ou(){du&&(du.style.outline=to,du=void 0,to=void 0,w(window,"keydown",ou))}function vs(n,t){if(!t||!n.length)return n.slice();var i=t*t;return n=ac(n,i),n=lc(n,i)}function ys(n,t,i){return Math.sqrt(vr(n,t,i,!0))}function lc(n,t){var r=n.length,u=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(r),i,f;for(u[0]=u[r-1]=1,df(n,u,t,0,r-1),f=[],i=0;i<r;i++)u[i]&&f.push(n[i]);return f}function df(n,t,i,r,u){for(var e,s,o=0,f=r+1;f<=u-1;f++)(s=vr(n[f],n[r],n[u],!0))>o&&(e=f,o=s);o>i&&(t[e]=1,df(n,t,i,r,e),df(n,t,i,e,u))}function ac(n,t){for(var r=[n[0]],i=1,u=0,f=n.length;i<f;i++)vc(n[i],n[u])>t&&(r.push(n[i]),u=i);return u<f-1&&r.push(n[f-1]),r}function ps(n,t,i,r,u){var h,o,s,f=r?yh:ci(n,i),e=ci(t,i);for(yh=e;;){if(!(f|e))return[n,t];if(f&e)return!1;s=ci(o=su(n,t,h=f||e,i,u),i);h===f?(n=o,f=s):(t=o,e=s)}}function su(n,i,r,u,f){var e,o,s=i.x-n.x,h=i.y-n.y,c=u.min,l=u.max;return 8&r?(e=n.x+s*(l.y-n.y)/h,o=l.y):4&r?(e=n.x+s*(c.y-n.y)/h,o=c.y):2&r?(e=l.x,o=n.y+h*(l.x-n.x)/s):1&r&&(e=c.x,o=n.y+h*(c.x-n.x)/s),new t(e,o,f)}function ci(n,t){var i=0;return n.x<t.min.x?i|=1:n.x>t.max.x&&(i|=2),n.y<t.min.y?i|=4:n.y>t.max.y&&(i|=8),i}function vc(n,t){var i=t.x-n.x,r=t.y-n.y;return i*i+r*r}function vr(n,i,r,u){var h,o=i.x,s=i.y,f=r.x-o,e=r.y-s,c=f*f+e*e;return c>0&&((h=((n.x-o)*f+(n.y-s)*e)/c)>1?(o=r.x,s=r.y):h>0&&(o+=f*h,s+=e*h)),f=n.x-o,e=n.y-s,u?f*f+e*e:new t(o,s)}function bt(n){return!at(n[0])||"object"!=typeof n[0][0]&&void 0!==n[0][0]}function ws(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bt(n)}function bs(n,t,i){for(var e,l,h,o,s,u,f,a=[1,4,2,8],r=0,c=n.length;r<c;r++)n[r]._code=ci(n[r],t);for(h=0;h<4;h++){for(u=a[h],e=[],r=0,l=(c=n.length)-1;r<c;l=r++)o=n[r],s=n[l],o._code&u?s._code&u||((f=su(s,o,u,t,i))._code=ci(f,t),e.push(f)):(s._code&u&&((f=su(s,o,u,t,i))._code=ci(f,t),e.push(f)),e.push(o));n=e}return n}function gf(n,t){var u,e,i,o,r="Feature"===n.type?n.geometry:n,f=r?r.coordinates:null,s=[],h=t&&t.pointToLayer,c=t&&t.coordsToLatLng||ne,l;if(!f&&!r)return null;switch(r.type){case"Point":return u=c(f),h?h(n,u):new tu(u);case"MultiPoint":for(i=0,o=f.length;i<o;i++)u=c(f[i]),s.push(h?h(n,u):new tu(u));return new ai(s);case"LineString":case"MultiLineString":return e=hu(f,"LineString"===r.type?0:1,c),new gt(e,t);case"Polygon":case"MultiPolygon":return e=hu(f,"Polygon"===r.type?1:2,c),new fr(e,t);case"GeometryCollection":for(i=0,o=r.geometries.length;i<o;i++)l=gf({geometry:r.geometries[i],type:"Feature",properties:n.properties},t),l&&s.push(l);return new ai(s);default:throw new Error("Invalid GeoJSON object.");}}function ne(n){return new h(n[1],n[0],n[2])}function hu(n,t,i){for(var u,f=[],r=0,e=n.length;r<e;r++)u=t?hu(n[r],t-1,i):(i||ne)(n[r]),f.push(u);return f}function te(n,t){return t="number"==typeof t?t:6,void 0!==n.alt?[ht(n.lng,t),ht(n.lat,t),ht(n.alt,t)]:[ht(n.lng,t),ht(n.lat,t)]}function cu(n,t,i,r){for(var u=[],f=0,e=n.length;f<e;f++)u.push(t?cu(n[f],t-1,i,r):te(n[f],r));return!t&&i&&u.push(u[0]),u}function bi(n,t){return n.feature?s({},n.feature,{geometry:t}):lu(t)}function lu(n){return"Feature"===n.type||"FeatureCollection"===n.type?n:{type:"Feature",properties:{},geometry:n}}function ks(n,t){return new ni(n,t)}function ds(n,t){return new or(n,t)}function ie(n){return ch?new ao(n):null}function re(n){return pu||wu?new sr(n):null}var gs=Object.freeze,tt,ki,ir,io,gu,ro,nf,it,vi,co,vo,yo,po,wo,bo,ko,go,ns,nc;Object.freeze=function(n){return n};var au=Object.create||function(){function n(){}return function(t){return n.prototype=t,new n}}(),nh=0,yc=/\{ *([\w_\-]+) *\}/g,at=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},th="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",ih=0,ue=window.requestAnimationFrame||ef("RequestAnimationFrame")||us,rh=window.cancelAnimationFrame||ef("CancelAnimationFrame")||ef("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)},pc=(Object.freeze||Object)({freeze:gs,extend:s,create:au,bind:c,lastId:nh,stamp:o,throttle:uf,wrapNum:hr,falseFn:d,formatNum:ht,trim:ff,splitWords:yi,setOptions:a,getParamString:ts,template:is,isArray:at,indexOf:rs,emptyImageUrl:th,requestFn:ue,cancelFn:rh,requestAnimFrame:g,cancelAnimFrame:ct});pt.extend=function(n){var i=function(){this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()},u=i.__super__=this.prototype,t=au(u),r;t.constructor=i;i.prototype=t;for(r in this)this.hasOwnProperty(r)&&"prototype"!==r&&"__super__"!==r&&(i[r]=this[r]);return n.statics&&(s(i,n.statics),delete n.statics),n.includes&&(tc(n.includes),s.apply(null,[t].concat(n.includes)),delete n.includes),t.options&&(n.options=s(au(t.options),n.options)),s(t,n),t._initHooks=[],t.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this);this._initHooksCalled=!0;for(var n=0,i=t._initHooks.length;n<i;n++)t._initHooks[n].call(this)}},i};pt.include=function(n){return s(this.prototype,n),this};pt.mergeOptions=function(n){return s(this.prototype.options,n),this};pt.addInitHook=function(n){var t=Array.prototype.slice.call(arguments,1),i="function"==typeof n?n:function(){this[n].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};tt={on:function(n,t,i){var u,r,f;if("object"==typeof n)for(u in n)this._on(u,n[u],t);else for(r=0,f=(n=yi(n)).length;r<f;r++)this._on(n[r],t,i);return this},off:function(n,t,i){var u,r,f;if(n)if("object"==typeof n)for(u in n)this._off(u,n[u],t);else for(r=0,f=(n=yi(n)).length;r<f;r++)this._off(n[r],t,i);else delete this._events;return this},_on:function(n,t,i){var r;this._events=this._events||{};r=this._events[n];r||(r=[],this._events[n]=r);i===this&&(i=void 0);for(var e={fn:t,ctx:i},u=r,f=0,o=u.length;f<o;f++)if(u[f].fn===t&&u[f].ctx===i)return;u.push(e)},_off:function(n,t,i){var r,u,f,e;if(this._events&&(r=this._events[n]))if(t){if(i===this&&(i=void 0),r)for(u=0,f=r.length;u<f;u++)if(e=r[u],e.ctx===i&&e.fn===t)return e.fn=d,this._firingCount&&(this._events[n]=r=r.slice()),void r.splice(u,1)}else{for(u=0,f=r.length;u<f;u++)r[u].fn=d;delete this._events[n]}},fire:function(n,t,i){var f,r,u,o,e;if(!this.listens(n,i))return this;if(f=s({},t,{type:n,target:this}),this._events&&(r=this._events[n],r)){for(this._firingCount=this._firingCount+1||1,u=0,o=r.length;u<o;u++)e=r[u],e.fn.call(e.ctx||this,f);this._firingCount--}return i&&this._propagateEvent(f),this},listens:function(n,t){var i=this._events&&this._events[n],r;if(i&&i.length)return!0;if(t)for(r in this._eventParents)if(this._eventParents[r].listens(n,t))return!0;return!1},once:function(n,t,i){var r,u;if("object"==typeof n){for(r in n)this.once(r,n[r],t);return this}u=c(function(){this.off(n,t,i).off(n,u,i)},this);return this.on(n,t,i).on(n,u,i)},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[o(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[o(n)],this},_propagateEvent:function(n){for(var t in this._eventParents)this._eventParents[t].fire(n.type,s({layer:n.target},n),!0)}};tt.addEventListener=tt.on;tt.removeEventListener=tt.clearAllEventListeners=tt.off;tt.addOneTimeEventListener=tt.once;tt.fireEvent=tt.fire;tt.hasEventListeners=tt.listens;ki=pt.extend(tt);t.prototype={clone:function(){return new t(this.x,this.y)},add:function(n){return this.clone()._add(r(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(r(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new t(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new t(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(n){var t=(n=r(n)).x-this.x,i=n.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(n){return(n=r(n)).x===this.x&&n.y===this.y},contains:function(n){return n=r(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+ht(this.x)+", "+ht(this.y)+")"}};v.prototype={extend:function(n){return n=r(n),this.min||this.max?(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=n.clone(),this.max=n.clone()),this},getCenter:function(n){return new t((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return new t(this.min.x,this.max.y)},getTopRight:function(){return new t(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var i,u;return(n="number"==typeof n[0]||n instanceof t?r(n):ii(n))instanceof v?(i=n.min,u=n.max):i=u=n,i.x>=this.min.x&&u.x<=this.max.x&&i.y>=this.min.y&&u.y<=this.max.y},intersects:function(n){n=ii(n);var t=this.min,i=this.max,r=n.min,u=n.max,f=u.x>=t.x&&r.x<=i.x,e=u.y>=t.y&&r.y<=i.y;return f&&e},overlaps:function(n){n=ii(n);var t=this.min,i=this.max,r=n.min,u=n.max,f=u.x>t.x&&r.x<i.x,e=u.y>t.y&&r.y<i.y;return f&&e},isValid:function(){return!(!this.min||!this.max)}};nt.prototype={extend:function(n){var t,i,r=this._southWest,u=this._northEast;if(n instanceof h)t=n,i=n;else{if(!(n instanceof nt))return n?this.extend(y(n)||k(n)):this;if(t=n._southWest,i=n._northEast,!t||!i)return this}return r||u?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),u.lat=Math.max(i.lat,u.lat),u.lng=Math.max(i.lng,u.lng)):(this._southWest=new h(t.lat,t.lng),this._northEast=new h(i.lat,i.lng)),this},pad:function(n){var t=this._southWest,i=this._northEast,r=Math.abs(t.lat-i.lat)*n,u=Math.abs(t.lng-i.lng)*n;return new nt(new h(t.lat-r,t.lng-u),new h(i.lat+r,i.lng+u))},getCenter:function(){return new h((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new h(this.getNorth(),this.getWest())},getSouthEast:function(){return new h(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){n="number"==typeof n[0]||n instanceof h||"lat"in n?y(n):k(n);var t,i,r=this._southWest,u=this._northEast;return n instanceof nt?(t=n.getSouthWest(),i=n.getNorthEast()):t=i=n,t.lat>=r.lat&&i.lat<=u.lat&&t.lng>=r.lng&&i.lng<=u.lng},intersects:function(n){n=k(n);var t=this._southWest,i=this._northEast,r=n.getSouthWest(),u=n.getNorthEast(),f=u.lat>=t.lat&&r.lat<=i.lat,e=u.lng>=t.lng&&r.lng<=i.lng;return f&&e},overlaps:function(n){n=k(n);var t=this._southWest,i=this._northEast,r=n.getSouthWest(),u=n.getNorthEast(),f=u.lat>t.lat&&r.lat<i.lat,e=u.lng>t.lng&&r.lng<i.lng;return f&&e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,t){return!!n&&(n=k(n),this._southWest.equals(n.getSouthWest(),t)&&this._northEast.equals(n.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}};h.prototype={equals:function(n,t){return!!n&&(n=y(n),Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng))<=(void 0===t?1e-9:t))},toString:function(n){return"LatLng("+ht(this.lat,n)+", "+ht(this.lng,n)+")"},distanceTo:function(n){return ri.distance(this,y(n))},wrap:function(){return ri.wrapLatLng(this)},toBounds:function(n){var t=180*n/40075017,i=t/Math.cos(Math.PI/180*this.lat);return k([this.lat-t,this.lng-i],[this.lat+t,this.lng+i])},clone:function(){return new h(this.lat,this.lng,this.alt)}};var kt={latLngToPoint:function(n,t){var i=this.projection.project(n),r=this.scale(t);return this.transformation._transform(i,r)},pointToLatLng:function(n,t){var i=this.scale(t),r=this.transformation.untransform(n,i);return this.projection.unproject(r)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var t=this.projection.bounds,i=this.scale(n);return new v(this.transformation.transform(t.min,i),this.transformation.transform(t.max,i))},infinite:!1,wrapLatLng:function(n){var t=this.wrapLng?hr(n.lng,this.wrapLng,!0):n.lng;return new h(this.wrapLat?hr(n.lat,this.wrapLat,!0):n.lat,t,n.alt)},wrapLatLngBounds:function(n){var t=n.getCenter(),e=this.wrapLatLng(t),i=t.lat-e.lat,r=t.lng-e.lng,u,f;return 0===i&&0===r?n:(u=n.getSouthWest(),f=n.getNorthEast(),new nt(new h(u.lat-i,u.lng-r),new h(f.lat-i,f.lng-r)))}},ri=s({},kt,{wrapLng:[-180,180],R:6371e3,distance:function(n,t){var i=Math.PI/180,r=n.lat*i,u=t.lat*i,f=Math.sin(r)*Math.sin(u)+Math.cos(r)*Math.cos(u)*Math.cos((t.lng-n.lng)*i);return this.R*Math.acos(Math.min(f,1))}}),fe={R:6378137,MAX_LATITUDE:85.0511287798,project:function(n){var i=Math.PI/180,r=this.MAX_LATITUDE,f=Math.max(Math.min(r,n.lat),-r),u=Math.sin(f*i);return new t(this.R*n.lng*i,this.R*Math.log((1+u)/(1-u))/2)},unproject:function(n){var t=180/Math.PI;return new h((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*t,n.x*t/this.R)},bounds:function(){var n=6378137*Math.PI;return new v([-n,-n],[n,n])}()};of.prototype={transform:function(n,t){return this._transform(n.clone(),t)},_transform:function(n,t){return t=t||1,n.x=t*(this._a*n.x+this._b),n.y=t*(this._c*n.y+this._d),n},untransform:function(n,i){return i=i||1,new t((n.x/i-this._b)/this._a,(n.y/i-this._d)/this._c)}};var ee,yr,pr,oe,se=s({},ri,{code:"EPSG:3857",projection:fe,transformation:function(){var n=.5/(Math.PI*fe.R);return cr(n,.5,-n,.5)}()}),wc=s({},se,{code:"EPSG:900913"}),he=document.documentElement.style,vu="ActiveXObject"in window,di=vu&&!document.addEventListener,wr="msLaunchUri"in navigator&&!("documentMode"in document),ce=wt("webkit"),br=wt("android"),kr=wt("android 2")||wt("android 3"),le=!!window.opera,yu=wt("chrome"),ae=wt("gecko")&&!ce&&!le&&!vu,uh=!yu&&wt("safari"),fh=wt("phantom"),eh="OTransition"in he,oh=0===navigator.platform.indexOf("Win"),ve=vu&&"transition"in he,ye="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!kr,sh="MozPerspective"in he,ft=!window.L_DISABLE_3D&&(ve||ye||sh)&&!eh&&!fh,gi="undefined"!=typeof orientation||wt("mobile"),bc=gi&&ce,kc=gi&&ye,ui=!window.PointerEvent&&window.MSPointerEvent,vt=!(!window.PointerEvent&&!ui),et=!window.L_NO_TOUCH&&(vt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),hh=gi&&le,dc=gi&&ae,fi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ch=!!document.createElement("canvas").getContext,pu=!(!document.createElementNS||!fs("svg").createSVGRect),wu=!pu&&function(){var t,n;try{return t=document.createElement("div"),t.innerHTML='<v:shape adj="1"/>',n=t.firstChild,n.style.behavior="url(#default#VML)",n&&"object"==typeof n.adj}catch(t){return!1}}(),gc=(Object.freeze||Object)({ie:vu,ielt9:di,edge:wr,webkit:ce,android:br,android23:kr,opera:le,chrome:yu,gecko:ae,safari:uh,phantom:fh,opera12:eh,win:oh,ie3d:ve,webkit3d:ye,gecko3d:sh,any3d:ft,mobile:gi,mobileWebkit:bc,mobileWebkit3d:kc,msPointer:ui,pointer:vt,touch:et,mobileOpera:hh,mobileGecko:dc,retina:fi,canvas:ch,svg:pu,vml:wu}),pe=ui?"MSPointerDown":"pointerdown",we=ui?"MSPointerMove":"pointermove",be=ui?"MSPointerUp":"pointerup",ke=ui?"MSPointerCancel":"pointercancel",nl=["INPUT","SELECT","OPTION"],nr={},lh=!1,de=0,bu=ui?"MSPointerDown":vt?"pointerdown":"touchstart",ku=ui?"MSPointerUp":vt?"pointerup":"touchend",tr="_leaflet_",ot="_leaflet_events",tl=oh&&yu?2*window.devicePixelRatio:ae?window.devicePixelRatio:1,ge={},il=(Object.freeze||Object)({on:i,off:w,stopPropagation:oi,disableScrollPropagation:cf,disableClickPropagation:lr,preventDefault:rt,stop:lt,getMousePosition:cs,getWheelDelta:ls,fakeStop:lf,skipped:af,isExternalTarget:uu,addListener:i,removeListener:w}),no=eu(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),dr=eu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ah="webkitTransition"===dr||"OTransition"===dr?dr+"End":"transitionend";"onselectstart"in document?(yr=function(){i(window,"selectstart",rt)},pr=function(){w(window,"selectstart",rt)}):(ir=eu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),yr=function(){if(ir){var n=document.documentElement.style;oe=n[ir];n[ir]="none"}},pr=function(){ir&&(document.documentElement.style[ir]=oe,oe=void 0)});var du,to,rl=(Object.freeze||Object)({TRANSFORM:no,TRANSITION:dr,TRANSITION_END:ah,get:as,getStyle:ar,create:f,remove:l,empty:vf,toFront:pi,toBack:wi,hasClass:yf,addClass:e,removeClass:p,setClass:pf,getClass:fu,setOpacity:ut,testProp:eu,setTransform:si,setPosition:b,getPosition:hi,disableTextSelection:yr,enableTextSelection:pr,disableImageDrag:wf,enableImageDrag:bf,preventOutline:kf,restoreOutline:ou}),vh=ki.extend({run:function(n,t,i,r){this.stop();this._el=n;this._inProgress=!0;this._duration=i||.25;this._easeOutPower=1/Math.max(r||.5,.2);this._startPos=hi(n);this._offset=t.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=g(this._animate,this);this._step()},_step:function(n){var t=+new Date-this._startTime,i=1e3*this._duration;t<i?this._runFrame(this._easeOut(t/i),n):(this._runFrame(1),this._complete())},_runFrame:function(n,t){var i=this._startPos.add(this._offset.multiplyBy(n));t&&i._round();b(this._el,i);this.fire("step")},_complete:function(){ct(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),u=ki.extend({options:{crs:se,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,t){t=a(this,t);this._initContainer(n);this._initLayout();this._onResize=c(this._onResize,this);this._initEvents();t.maxBounds&&this.setMaxBounds(t.maxBounds);void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom));t.center&&void 0!==t.zoom&&this.setView(y(t.center),t.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this.callInitHooks();this._zoomAnimated=dr&&ft&&!hh&&this.options.zoomAnimation;this._zoomAnimated&&(this._createAnimProxy(),i(this._proxy,ah,this._catchTransitionEnd,this));this._addLayers(this.options.layers)},setView:function(n,t,i){return t=void 0===t?this._zoom:this._limitZoom(t),n=this._limitCenter(y(n),t,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=s({animate:i.animate},i.zoom),i.pan=s({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,t,i.zoom):this._tryAnimatedPan(n,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(n,t),this)},setZoom:function(n,t){return this._loaded?this.setView(this.getCenter(),n,{zoom:t}):(this._zoom=n,this)},zoomIn:function(n,t){return n=n||(ft?this.options.zoomDelta:1),this.setZoom(this._zoom+n,t)},zoomOut:function(n,t){return n=n||(ft?this.options.zoomDelta:1),this.setZoom(this._zoom-n,t)},setZoomAround:function(n,i,r){var f=this.getZoomScale(i),u=this.getSize().divideBy(2),e=(n instanceof t?n:this.latLngToContainerPoint(n)).subtract(u).multiplyBy(1-1/f),o=this.containerPointToLatLng(u.add(e));return this.setView(o,i,{zoom:r})},_getBoundsCenterZoom:function(n,t){t=t||{};n=n.getBounds?n.getBounds():k(n);var u=r(t.paddingTopLeft||t.padding||[0,0]),f=r(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(n,!1,u.add(f));if((i="number"==typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:n.getCenter(),zoom:i};var e=f.subtract(u).divideBy(2),o=this.project(n.getSouthWest(),i),s=this.project(n.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(e),i),zoom:i}},fitBounds:function(n,t){if(!(n=k(n)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(n,t);return this.setView(i.center,i.zoom,t)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,t){return this.setView(n,this._zoom,{pan:t})},panBy:function(n,t){if(n=r(n).round(),t=t||{},!n.x&&!n.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){e(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,t,i){function a(n){var t=(l*l-r*r+(n?-1:1)*h*h*s*s)/(2*(n?l:r)*h*s),i=Math.sqrt(t*t+1)-t;return i<1e-9?-18:Math.log(i)}function v(n){return(Math.exp(n)-Math.exp(-n))/2}function e(n){return(Math.exp(n)+Math.exp(-n))/2}function d(n){return v(n)/e(n)}function nt(n){return r*(e(u)/e(u+f*n))}function tt(n){return r*(e(u)*d(u+f*n)-v(u))/h}function it(n){return 1-Math.pow(1-n,1.5)}function p(){var i=(Date.now()-rt)/ut,u=it(i)*k;i<=1?(this._flyToFrame=g(p,this),this._move(this.unproject(c.add(w.subtract(c).multiplyBy(tt(u)/s)),o),this.getScaleZoom(r/nt(u),o),{flyTo:!0})):this._move(n,t)._moveEnd(!0)}if(!1===(i=i||{}).animate||!ft)return this.setView(n,t,i);this._stop();var c=this.project(this.getCenter()),w=this.project(n),b=this.getSize(),o=this._zoom;n=y(n);t=void 0===t?o:t;var r=Math.max(b.x,b.y),l=r*this.getZoomScale(o,t),s=w.distanceTo(c)||1,f=1.42,h=f*f,u=a(0),rt=Date.now(),k=(a(1)-u)/f,ut=i.duration?1e3*i.duration:1e3*k*.8;return this._moveStart(!0),p.call(this),this},flyToBounds:function(n,t){var i=this._getBoundsCenterZoom(n,t);return this.flyTo(i.center,i.zoom,t)},setMaxBounds:function(n){return(n=k(n)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(n){return this.options.minZoom=n,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(n):this},setMaxZoom:function(n){return this.options.maxZoom=n,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(n):this},panInsideBounds:function(n,t){this._enforcingBounds=!0;var i=this.getCenter(),r=this._limitCenter(i,this._zoom,k(n));return i.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},invalidateSize:function(n){var i;if(!this._loaded)return this;n=s({animate:!1,pan:!0},!0===n?{animate:!0}:n);i=this.getSize();this._sizeChanged=!0;this._lastCenter=null;var r=this.getSize(),u=i.divideBy(2).round(),f=r.divideBy(2).round(),t=u.subtract(f);return t.x||t.y?(n.animate&&n.pan?this.panBy(t):(n.pan&&this._rawPanBy(t),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=s({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=c(this._handleGeolocationResponse,this),i=c(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,n):navigator.geolocation.getCurrentPosition(t,i,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){var t=n.code,i=n.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(n){var i=new h(n.coords.latitude,n.coords.longitude),e=i.toBounds(n.coords.accuracy),r=this._locateOptions,u,f,t;r.setView&&(u=this.getBoundsZoom(e),this.setView(i,r.maxZoom?Math.min(u,r.maxZoom):u));f={latlng:i,bounds:e,timestamp:n.timestamp};for(t in n.coords)"number"==typeof n.coords[t]&&(f[t]=n.coords[t]);this.fire("locationfound",f)},addHandler:function(n,t){if(!t)return this;var i=this[n]=new t(this);return this._handlers.push(i),this.options[n]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id;delete this._containerId}catch(n){this._container._leaflet_id=void 0;this._containerId=void 0}l(this._mapPane);this._clearControlPos&&this._clearControlPos();this._clearHandlers();this._loaded&&this.fire("unload");for(var n in this._layers)this._layers[n].remove();for(n in this._panes)l(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,t){var i=f("div","leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),t||this._mapPane);return n&&(this._panes[n]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds();return new nt(this.unproject(n.getBottomLeft()),this.unproject(n.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,t,i){n=k(n);i=r(i||[0,0]);var u=this.getZoom()||0,c=this.getMinZoom(),l=this.getMaxZoom(),a=n.getNorthWest(),v=n.getSouthEast(),e=this.getSize().subtract(i),o=ii(this.project(v,u),this.project(a,u)).getSize(),f=ft?this.options.zoomSnap:1,s=e.x/o.x,h=e.y/o.y,y=t?Math.max(s,h):Math.min(s,h);return u=this.getScaleZoom(y,u),f&&(u=Math.round(u/(f/100))*(f/100),u=t?Math.ceil(u/f)*f:Math.floor(u/f)*f),Math.max(c,Math.min(l,u))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new t(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,t){var i=this._getTopLeftPoint(n,t);return new v(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(void 0===n?this.getZoom():n)},getPane:function(n){return"string"==typeof n?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,t){var i=this.options.crs;return t=void 0===t?this._zoom:t,i.scale(n)/i.scale(t)},getScaleZoom:function(n,t){var r=this.options.crs,i;return t=void 0===t?this._zoom:t,i=r.zoom(n*r.scale(t)),isNaN(i)?1/0:i},project:function(n,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(y(n),t)},unproject:function(n,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(r(n),t)},layerPointToLatLng:function(n){var t=r(n).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(n){return this.project(y(n))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(y(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(k(n))},distance:function(n,t){return this.options.crs.distance(y(n),y(t))},containerPointToLayerPoint:function(n){return r(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return r(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var t=this.containerPointToLayerPoint(r(n));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(y(n)))},mouseEventToContainerPoint:function(n){return cs(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var t=this._container=as(n);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");i(t,"scroll",this._onScroll,this);this._containerId=o(t)},_initLayout:function(){var t=this._container,n;this._fadeAnimated=this.options.fadeAnimation&&ft;e(t,"leaflet-container"+(et?" leaflet-touch":"")+(fi?" leaflet-retina":"")+(di?" leaflet-oldie":"")+(uh?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));n=ar(t,"position");"absolute"!==n&&"relative"!==n&&"fixed"!==n&&(t.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);b(this._mapPane,new t(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||(e(n.markerPane,"leaflet-zoom-hide"),e(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,i){var u,r;b(this._mapPane,new t(0,0));u=!this._loaded;this._loaded=!0;i=this._limitZoom(i);this.fire("viewprereset");r=this._zoom!==i;this._moveStart(r)._move(n,i)._moveEnd(r);this.fire("viewreset");u&&this.fire("load")},_moveStart:function(n){return n&&this.fire("zoomstart"),this.fire("movestart")},_move:function(n,t,i){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),(r||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ct(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){b(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.");},_initEvents:function(n){this._targets={};this._targets[o(this._container)]=this;var t=n?w:i;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this);this.options.trackResize&&t(window,"resize",this._onResize,this);ft&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ct(this._resizeRequest);this._resizeRequest=g(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,t){for(var r,u=[],f="mouseout"===t||"mouseover"===t,i=n.target||n.srcElement,e=!1;i;){if((r=this._targets[o(i)])&&("click"===t||"preclick"===t)&&!n._simulated&&this._draggableMoved(r)){e=!0;break}if(r&&r.listens(t,!0)){if(f&&!uu(i,n))break;if(u.push(r),f)break}if(i===this._container)break;i=i.parentNode}return u.length||e||f||!uu(i,n)||(u=[this]),u},_handleDOMEvent:function(n){if(this._loaded&&!af(n)){var t=n.type;"mousedown"!==t&&"keypress"!==t||kf(n.target||n.srcElement);this._fireDOMEvent(n,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,t,i){var e,u,r,o,f;if("click"===n.type&&(e=s({},n),e.type="preclick",this._fireDOMEvent(e,e.type,i)),!n._stopped&&(i=(i||[]).concat(this._findEventTargets(n,t))).length)for(u=i[0],"contextmenu"===t&&u.listens(t,!0)&&rt(n),r={originalEvent:n},"keypress"!==n.type&&(o=u.options&&"icon"in u.options,r.containerPoint=o?this.latLngToContainerPoint(u.getLatLng()):this.mouseEventToContainerPoint(n),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=o?u.getLatLng():this.layerPointToLatLng(r.layerPoint)),f=0;f<i.length;f++)if(i[f].fire(t,r,!0),r.originalEvent._stopped||!1===i[f].options.bubblingMouseEvents&&-1!==rs(this._mouseEvents,t))return},_draggableMoved:function(n){return(n=n.dragging&&n.dragging.enabled()?n:this).dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,t=this._handlers.length;n<t;n++)this._handlers[n].disable()},whenReady:function(n,t){return this._loaded?n.call(t||this,{target:this}):this.on("load",n,t),this},_getMapPanePos:function(){return hi(this._mapPane)||new t(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,t){return(n&&void 0!==t?this._getNewPixelOrigin(n,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,t){var i=this.getSize()._divideBy(2);return this.project(n,t)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,t,i){var r=this._getNewPixelOrigin(i,t);return this.project(n,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(n,t,i){var r=this._getNewPixelOrigin(i,t);return ii([this.project(n.getSouthWest(),t)._subtract(r),this.project(n.getNorthWest(),t)._subtract(r),this.project(n.getSouthEast(),t)._subtract(r),this.project(n.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,t,i){if(!i)return n;var r=this.project(n,t),u=this.getSize().divideBy(2),e=new v(r.subtract(u),r.add(u)),f=this._getBoundsOffset(e,i,t);return f.round().equals([0,0])?n:this.unproject(r.add(f),t)},_limitOffset:function(n,t){if(!t)return n;var i=this.getPixelBounds(),r=new v(i.min.add(n),i.max.add(n));return n.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(n,i,r){var u=ii(this.project(i.getNorthEast(),r),this.project(i.getSouthWest(),r)),f=u.min.subtract(n.min),e=u.max.subtract(n.max);return new t(this._rebound(f.x,-e.x),this._rebound(f.y,-e.y))},_rebound:function(n,t){return n+t>0?Math.round(n-t)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(t))},_limitZoom:function(n){var i=this.getMinZoom(),r=this.getMaxZoom(),t=ft?this.options.zoomSnap:1;return t&&(n=Math.round(n/t)*t),Math.max(i,Math.min(r,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){p(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(n,t){var i=this._getCenterOffset(n)._floor();return!(!0!==(t&&t.animate)&&!this.getSize().contains(i))&&(this.panBy(i,t),!0)},_createAnimProxy:function(){var n=this._proxy=f("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n);this.on("zoomanim",function(n){var t=no,i=this._proxy.style[t];si(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1));i===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",function(){var t=this.getCenter(),n=this.getZoom();si(this._proxy,this.project(t,n),this.getZoomScale(n,1))},this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){l(this._proxy);delete this._proxy},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),u=this._getCenterOffset(n)._divideBy(1-1/r);return!(!0!==i.animate&&!this.getSize().contains(u))&&(g(function(){this._moveStart(!0)._animateZoom(n,t,!0)},this),!0)},_animateZoom:function(n,t,i,r){i&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=t,e(this._mapPane,"leaflet-zoom-anim"));this.fire("zoomanim",{center:n,zoom:t,noUpdate:r});setTimeout(c(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(p(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),g(function(){this._moveEnd(!0)},this))}}),st=pt.extend({options:{position:"topright"},initialize:function(n){a(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var t=this._map;return t&&t.removeControl(this),this.options.position=n,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove();this._map=n;var t=this._container=this.onAdd(n),r=this.getPosition(),i=n._controlCorners[r];return e(t,"leaflet-control"),-1!==r.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this},remove:function(){return this._map?(l(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),gr=function(n){return new st(n)};u.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){function n(n,u){var e=t+n+" "+t+u;i[n+u]=f("div",e,r)}var i=this._controlCorners={},t="leaflet-",r=this._controlContainer=f("div",t+"control-container",this._container);n("top","left");n("top","right");n("bottom","left");n("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)l(this._controlCorners[n]);l(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});io=st.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,t,i,r){return i<r?-1:r<i?1:0}},initialize:function(n,t,i){a(this,i);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=!1;for(var r in n)this._addLayer(n[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(n){this._initLayout();this._update();this._map=n;n.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return st.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,t){return this._addLayer(n,t),this._map?this._update():this},addOverlay:function(n,t){return this._addLayer(n,t,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(n));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){e(this._container,"leaflet-control-layers-expanded");this._form.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._form.clientHeight?(e(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=n+"px"):p(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return p(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",t=this._container=f("div",n),e=this.options.collapsed,u,r;t.setAttribute("aria-haspopup",!0);lr(t);cf(t);u=this._form=f("form",n+"-list");e&&(this._map.on("click",this.collapse,this),br||i(t,{mouseenter:this.expand,mouseleave:this.collapse},this));r=this._layersLink=f("a",n+"-toggle",t);r.href="#";r.title="Layers";et?(i(r,"click",lt),i(r,"click",this.expand,this)):i(r,"focus",this.expand,this);e||this.expand();this._baseLayersList=f("div",n+"-base",u);this._separator=f("div",n+"-separator",u);this._overlaysList=f("div",n+"-overlays",u);t.appendChild(u)},_getLayer:function(n){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===n)return this._layers[t]},_addLayer:function(n,t,i){this._map&&n.on("add remove",this._onLayerChange,this);this._layers.push({layer:n,name:t,overlay:i});this.options.sortLayers&&this._layers.sort(c(function(n,t){return this.options.sortFunction(n.layer,t.layer,n.name,t.name)},this));this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex));this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vf(this._baseLayersList);vf(this._overlaysList);this._layerControlInputs=[];for(var n,r,t,u=0,i=0;i<this._layers.length;i++)t=this._layers[i],this._addItem(t),r=r||t.overlay,n=n||!t.overlay,u+=t.overlay?0:1;return this.options.hideSingleBase&&(n=n&&u>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var t=this._getLayer(o(n.target)),i=t.overlay?"add"===n.type?"overlayadd":"overlayremove":"add"===n.type?"baselayerchange":null;i&&this._map.fire(i,t)},_createRadioElement:function(n,t){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=r,i.firstChild},_addItem:function(n){var t,u=document.createElement("label"),e=this._map.hasLayer(n.layer),f,r;return n.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=e):t=this._createRadioElement("leaflet-base-layers",e),this._layerControlInputs.push(t),t.layerId=o(n.layer),i(t,"click",this._onInputClick,this),f=document.createElement("span"),f.innerHTML=" "+n.name,r=document.createElement("div"),u.appendChild(r),r.appendChild(t),r.appendChild(f),(n.overlay?this._overlaysList:this._baseLayersList).appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){var t,u,f=this._layerControlInputs,i=[],r=[],n;for(this._handlingClick=!0,n=f.length-1;n>=0;n--)t=f[n],u=this._getLayer(t.layerId).layer,t.checked?i.push(u):t.checked||r.push(u);for(n=0;n<r.length;n++)this._map.hasLayer(r[n])&&this._map.removeLayer(r[n]);for(n=0;n<i.length;n++)this._map.hasLayer(i[n])||this._map.addLayer(i[n]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,n,r=this._layerControlInputs,u=this._map.getZoom(),i=r.length-1;i>=0;i--)t=r[i],n=this._getLayer(t.layerId).layer,t.disabled=void 0!==n.options.minZoom&&u<n.options.minZoom||void 0!==n.options.maxZoom&&u>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}});gu=st.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(n){var i="leaflet-control-zoom",r=f("div",i+" leaflet-bar"),t=this.options;return this._zoomInButton=this._createButton(t.zoomInText,t.zoomInTitle,i+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(t.zoomOutText,t.zoomOutTitle,i+"-out",r,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,t,r,u,e){var o=f("a",r,u);return o.innerHTML=n,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),lr(o),i(o,"click",lt),i(o,"click",e,this),i(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var n=this._map,t="leaflet-disabled";p(this._zoomInButton,t);p(this._zoomOutButton,t);(this._disabled||n._zoom===n.getMinZoom())&&e(this._zoomOutButton,t);(this._disabled||n._zoom===n.getMaxZoom())&&e(this._zoomInButton,t)}});u.mergeOptions({zoomControl:!0});u.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gu,this.addControl(this.zoomControl))});ro=st.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var t=f("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",t),n.on(i.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),t},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,t,i){n.metric&&(this._mScale=f("div",t,i));n.imperial&&(this._iScale=f("div",t,i))},_update:function(){var n=this._map,t=n.getSize().y/2,i=n.distance(n.containerPointToLatLng([0,t]),n.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(i)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n);this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var t=this._getRoundNum(n),i=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,i,t/n)},_updateImperial:function(n){var i,r,u,t=3.2808399*n;t>5280?(i=t/5280,r=this._getRoundNum(i),this._updateScale(this._iScale,r+" mi",r/i)):(u=this._getRoundNum(t),this._updateScale(this._iScale,u+" ft",u/t))},_updateScale:function(n,t,i){n.style.width=Math.round(this.options.maxWidth*i)+"px";n.innerHTML=t},_getRoundNum:function(n){var i=Math.pow(10,(Math.floor(n)+"").length-1),t=n/i;return t=t>=10?10:t>=5?5:t>=3?3:t>=2?2:1,i*t}});nf=st.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet<\/a>'},initialize:function(n){a(this,n);this._attributions={}},onAdd:function(n){n.attributionControl=this;this._container=f("div","leaflet-control-attribution");lr(this._container);for(var t in n._layers)n._layers[t].getAttribution&&this.addAttribution(n._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){var n,i,t;if(this._map){n=[];for(i in this._attributions)this._attributions[i]&&n.push(i);t=[];this.options.prefix&&t.push(this.options.prefix);n.length&&t.push(n.join(", "));this._container.innerHTML=t.join(" | ")}}});u.mergeOptions({attributionControl:!0});u.addInitHook(function(){this.options.attributionControl&&(new nf).addTo(this)});st.Layers=io;st.Zoom=gu;st.Scale=ro;st.Attribution=nf;gr.layers=function(n,t,i){return new io(n,t,i)};gr.zoom=function(n){return new gu(n)};gr.scale=function(n){return new ro(n)};gr.attribution=function(n){return new nf(n)};var yh,dt=pt.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),ul={Events:tt},ph=et?"touchstart mousedown":"mousedown",wh={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},uo={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},li=ki.extend({options:{clickTolerance:3},initialize:function(n,t,i,r){a(this,r);this._element=n;this._dragStartTarget=t||n;this._preventOutline=i},enable:function(){this._enabled||(i(this._dragStartTarget,ph,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(li._dragging===this&&this.finishDrag(),w(this._dragStartTarget,ph,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(!n._simulated&&this._enabled&&(this._moved=!1,!yf(this._element,"leaflet-zoom-anim")&&!(li._dragging||n.shiftKey||1!==n.which&&1!==n.button&&!n.touches||(li._dragging=this,this._preventOutline&&kf(this._element),wf(),yr(),this._moving)))){this.fire("down");var r=n.touches?n.touches[0]:n;this._startPoint=new t(r.clientX,r.clientY);i(document,uo[n.type],this._onMove,this);i(document,wh[n.type],this._onUp,this)}},_onMove:function(n){if(!n._simulated&&this._enabled)if(n.touches&&n.touches.length>1)this._moved=!0;else{var r=n.touches&&1===n.touches.length?n.touches[0]:n,i=new t(r.clientX,r.clientY).subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(rt(n),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=hi(this._element).subtract(i),e(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,ct(this._animRequest),this._lastEvent=n,this._animRequest=g(this._updatePosition,this,!0)))}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n);b(this._element,this._newPos);this.fire("drag",n)},_onUp:function(n){!n._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){p(document.body,"leaflet-dragging");this._lastTarget&&(p(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var n in uo)w(document,uo[n],this._onMove,this),w(document,wh[n],this._onUp,this);bf();pr();this._moved&&this._moving&&(ct(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;li._dragging=!1}}),fl=(Object.freeze||Object)({simplify:vs,pointToSegmentDistance:ys,closestPointOnSegment:function(n,t,i){return vr(n,t,i)},clipSegment:ps,_getEdgeIntersection:su,_getBitCode:ci,_sqClosestPointOnSegment:vr,isFlat:bt,_flat:ws}),el=(Object.freeze||Object)({clipPolygon:bs}),fo={project:function(n){return new t(n.lng,n.lat)},unproject:function(n){return new h(n.y,n.x)},bounds:new v([-180,-90],[180,90])},eo={R:6378137,R_MINOR:6356752.3142451793,bounds:new v([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(n){var u=Math.PI/180,r=this.R,i=n.lat*u,f=this.R_MINOR/r,e=Math.sqrt(1-f*f),o=e*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-o)/(1+o),e/2);return i=-r*Math.log(Math.max(s,1e-10)),new t(n.lng*u*r,i)},unproject:function(n){for(var t,u=180/Math.PI,r=this.R,f=this.R_MINOR/r,e=Math.sqrt(1-f*f),o=Math.exp(-n.y/r),i=Math.PI/2-2*Math.atan(o),s=0,c=.1;s<15&&Math.abs(c)>1e-7;s++)t=e*Math.sin(i),t=Math.pow((1-t)/(1+t),e/2),i+=c=Math.PI/2-2*Math.atan(o*t)-i;return new h(i*u,n.x*u/r)}},ol=(Object.freeze||Object)({LonLat:fo,Mercator:eo,SphericalMercator:fe}),sl=s({},ri,{code:"EPSG:3395",projection:eo,transformation:function(){var n=.5/(Math.PI*eo.R);return cr(n,.5,-n,.5)}()}),bh=s({},ri,{code:"EPSG:4326",projection:fo,transformation:cr(1/180,1,-1/180,.5)}),hl=s({},kt,{projection:fo,transformation:cr(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,t){var i=t.lng-n.lng,r=t.lat-n.lat;return Math.sqrt(i*i+r*r)},infinite:!0});kt.Earth=ri;kt.EPSG3395=sl;kt.EPSG3857=se;kt.EPSG900913=wc;kt.EPSG4326=bh;kt.Simple=hl;it=ki.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[o(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[o(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var t=n.target,i;t.hasLayer(this)&&((this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents)&&(i=this.getEvents(),t.on(i,this),this.once("remove",function(){t.off(i,this)},this)),this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this}))}});u.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(n);return this._layers[t]?this:(this._layers[t]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var t=o(n);return this._layers[t]?(this._loaded&&n.onRemove(this),n.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(n.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return!!n&&o(n)in this._layers},eachLayer:function(n,t){for(var i in this._layers)n.call(t,this._layers[i]);return this},_addLayers:function(n){for(var t=0,i=(n=n?at(n)?n:[n]:[]).length;t<i;t++)this.addLayer(n[t])},_addZoomLimit:function(n){!isNaN(n.options.maxZoom)&&isNaN(n.options.minZoom)||(this._zoomBoundLayers[o(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var t=o(n);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,t=-1/0,u=this._getZoomSpan(),r,i;for(r in this._zoomBoundLayers)i=this._zoomBoundLayers[r].options,n=void 0===i.minZoom?n:Math.min(n,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom);this._layersMaxZoom=t===-1/0?void 0:t;this._layersMinZoom=n===1/0?void 0:n;u!==this._getZoomSpan()&&this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var rr=it.extend({initialize:function(n){this._layers={};var t,i;if(n)for(t=0,i=n.length;t<i;t++)this.addLayer(n[t])},addLayer:function(n){var t=this.getLayerId(n);return this._layers[t]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var t=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(n){return!!n&&(n in this._layers||this.getLayerId(n)in this._layers)},clearLayers:function(){for(var n in this._layers)this.removeLayer(this._layers[n]);return this},invoke:function(n){var i,t,r=Array.prototype.slice.call(arguments,1);for(i in this._layers)(t=this._layers[i])[n]&&t[n].apply(t,r);return this},onAdd:function(n){for(var t in this._layers)n.addLayer(this._layers[t])},onRemove:function(n){for(var t in this._layers)n.removeLayer(this._layers[t])},eachLayer:function(n,t){for(var i in this._layers)n.call(t,this._layers[i]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];for(var t in this._layers)n.push(this._layers[t]);return n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return o(n)}}),ai=rr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),rr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),rr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new nt,i,n;for(i in this._layers)n=this._layers[i],t.extend(n.getBounds?n.getBounds():n.getLatLng());return t}}),ur=pt.extend({initialize:function(n){a(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,t){var r=this._getIconUrl(n),i;if(!r){if("icon"===n)throw new Error("iconUrl not set in Icon options (see the docs).");return null}return i=this._createImg(r,t&&"IMG"===t.tagName?t:null),this._setIconStyles(i,n),i},_setIconStyles:function(n,t){var f=this.options,u=f[t+"Size"],i,e;"number"==typeof u&&(u=[u,u]);i=r(u);e=r("shadow"===t&&f.shadowAnchor||f.iconAnchor||i&&i.divideBy(2,!0));n.className="leaflet-marker-"+t+" "+(f.className||"");e&&(n.style.marginLeft=-e.x+"px",n.style.marginTop=-e.y+"px");i&&(n.style.width=i.x+"px",n.style.height=i.y+"px")},_createImg:function(n,t){return t=t||document.createElement("img"),t.src=n,t},_getIconUrl:function(n){return fi&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}}),nu=ur.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return nu.imagePath||(nu.imagePath=this._detectIconPath()),(this.options.imagePath||nu.imagePath)+ur.prototype._getIconUrl.call(this,n)},_detectIconPath:function(){var t=f("div","leaflet-default-icon-path",document.body),n=ar(t,"background-image")||ar(t,"backgroundImage");return document.body.removeChild(t),n=null===n||0!==n.indexOf("url")?"":n.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),kh=dt.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new li(n,n,!0));this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable();e(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&p(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(n){var t=this._marker,i=t._shadow,r=hi(t._icon),u=t._map.layerPointToLatLng(r);i&&b(i,r);t._latlng=u;n.latlng=u;n.oldLatLng=this._oldLatLng;t.fire("move",n).fire("drag",n)},_onDragEnd:function(n){delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",n)}}),tu=it.extend({options:{icon:new nu,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(n,t){a(this,t);this._latlng=y(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation;this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var t=this._latlng;return this._latlng=y(n),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=n.icon.createIcon(this._icon),f=!1,t,r;i!==this._icon&&(this._icon&&this._removeIcon(),f=!0,n.title&&(i.title=n.title),n.alt&&(i.alt=n.alt));e(i,u);n.keyboard&&(i.tabIndex="0");this._icon=i;n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});t=n.icon.createShadow(this._shadow);r=!1;t!==this._shadow&&(this._removeShadow(),r=!0);t&&(e(t,u),t.alt="");this._shadow=t;n.opacity<1&&this._updateOpacity();f&&this.getPane().appendChild(this._icon);this._initInteraction();t&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});l(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&l(this._shadow);this._shadow=null},_setPos:function(n){b(this._icon,n);this._shadow&&b(this._shadow,n);this._zIndex=n.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(n){this._icon.style.zIndex=this._zIndex+n},_animateZoom:function(n){var t=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kh)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable());this.dragging=new kh(this);n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;ut(this._icon,n);this._shadow&&ut(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),ei=it.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return a(this,n),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(et?10:0)}}),tf=ei.extend({options:{fill:!0,radius:10},initialize:function(n,t){a(this,t);this._latlng=y(n);this._radius=this.options.radius},setLatLng:function(n){return this._latlng=y(n),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var t=n&&n.radius||this._radius;return ei.prototype.setStyle.call(this,n),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,t=this._clickTolerance(),i=[n+t,r+t];this._pxBounds=new v(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),oo=tf.extend({initialize:function(n,t,i){if("number"==typeof t&&(t=s({},i,{radius:t})),a(this,t),this._latlng=y(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new nt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:ei.prototype.setStyle,_project:function(){var e=this._latlng.lng,i=this._latlng.lat,n=this._map,o=n.options.crs,c;if(o.distance===ri.distance){var t=Math.PI/180,u=this._mRadius/ri.R/t,h=n.project([i+u,e]),l=n.project([i-u,e]),f=h.add(l).divideBy(2),s=n.unproject(f).lat,r=Math.acos((Math.cos(u*t)-Math.sin(i*t)*Math.sin(s*t))/(Math.cos(i*t)*Math.cos(s*t)))/t;(isNaN(r)||0===r)&&(r=u/Math.cos(Math.PI/180*i));this._point=f.subtract(n.getPixelOrigin());this._radius=isNaN(r)?0:Math.max(Math.round(f.x-n.project([s,e-r]).x),1);this._radiusY=Math.max(Math.round(f.y-h.y),1)}else c=o.unproject(o.project(this._latlng).subtract([this._mRadius,0])),this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(c).x;this._updateBounds()}}),gt=ei.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,t){a(this,t);this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var e,o,s,r=1/0,t=null,h=vr,u=0,c=this._parts.length;u<c;u++)for(var f=this._parts[u],i=1,l=f.length;i<l;i++)e=h(n,o=f[i-1],s=f[i],!0),e<r&&(r=e,t=h(n,o,s));return t&&(t.distance=Math.sqrt(r)),t},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var n,r,f,e,u,t,o,i=this._rings[0],s=i.length;if(!s)return null;for(n=0,r=0;n<s-1;n++)r+=i[n].distanceTo(i[n+1])/2;if(0===r)return this._map.layerPointToLatLng(i[0]);for(n=0,e=0;n<s-1;n++)if(u=i[n],t=i[n+1],f=u.distanceTo(t),(e+=f)>r)return o=(e-r)/f,this._map.layerPointToLatLng([t.x-o*(t.x-u.x),t.y-o*(t.y-u.y)])},getBounds:function(){return this._bounds},addLatLng:function(n,t){return t=t||this._defaultShape(),n=y(n),t.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new nt;this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return bt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var i=[],r=bt(n),t=0,u=n.length;t<u;t++)r?(i[t]=y(n[t]),this._bounds.extend(i[t])):i[t]=this._convertLatLngs(n[t]);return i},_project:function(){var n=new v,i,r;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,n);i=this._clickTolerance();r=new t(i,i);this._bounds.isValid()&&n.isValid()&&(n.min._subtract(r),n.max._add(r),this._pxBounds=n)},_projectLatlngs:function(n,t,i){var r,u,e=n[0]instanceof h,f=n.length;if(e){for(u=[],r=0;r<f;r++)u[r]=this._map.latLngToLayerPoint(n[r]),i.extend(u[r]);t.push(u)}else for(r=0;r<f;r++)this._projectLatlngs(n[r],t,i)},_clipPoints:function(){var o=this._renderer._bounds,r,n,t,s,e,u,f,i;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(o))if(this.options.noClip)this._parts=this._rings;else for(i=this._parts,r=0,t=0,s=this._rings.length;r<s;r++)for(n=0,e=(f=this._rings[r]).length;n<e-1;n++)(u=ps(f[n],f[n+1],o,n,!0))&&(i[t]=i[t]||[],i[t].push(u[0]),u[1]===f[n+1]&&n!==e-2||(i[t].push(u[1]),t++))},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=vs(t[n],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,t){var r,i,u,e,o,f,s=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(r=0,e=this._parts.length;r<e;r++)for(i=0,u=(o=(f=this._parts[r]).length)-1;i<o;u=i++)if((t||0!==i)&&ys(n,f[u],f[i])<=s)return!0;return!1}});gt._flat=ws;var fr=gt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var r,e,n,t,u,i,o,s,c,f=this._rings[0],h=f.length;if(!h)return null;for(i=o=s=0,r=0,e=h-1;r<h;e=r++)n=f[r],t=f[e],u=n.y*t.x-t.y*n.x,o+=(n.x+t.x)*u,s+=(n.y+t.y)*u,i+=3*u;return c=0===i?f[0]:[o/i,s/i],this._map.layerPointToLatLng(c)},_convertLatLngs:function(n){var t=gt.prototype._convertLatLngs.call(this,n),i=t.length;return i>=2&&t[0]instanceof h&&t[0].equals(t[i-1])&&t.pop(),t},_setLatLngs:function(n){gt.prototype._setLatLngs.call(this,n);bt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,u=new t(r,r),f,i,e;if(n=new v(n.min.subtract(u),n.max.add(u)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(n))if(this.options.noClip)this._parts=this._rings;else for(i=0,e=this._rings.length;i<e;i++)(f=bs(this._rings[i],n,!0)).length&&this._parts.push(f)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var f,t,i,r,u,e,s,h,o=!1;if(!this._pxBounds.contains(n))return!1;for(r=0,s=this._parts.length;r<s;r++)for(u=0,e=(h=(f=this._parts[r]).length)-1;u<h;e=u++)t=f[u],i=f[e],t.y>n.y!=i.y>n.y&&n.x<(i.x-t.x)*(n.y-t.y)/(i.y-t.y)+t.x&&(o=!o);return o||gt.prototype._containsPoint.call(this,n,!0)}}),ni=ai.extend({initialize:function(n,t){a(this,t);this._layers={};n&&this.addData(n)},addData:function(n){var u,e,r,f=at(n)?n:n.features,i,t;if(f){for(u=0,e=f.length;u<e;u++)((r=f[u]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}return(i=this.options,i.filter&&!i.filter(n))?this:(t=gf(n,i),t?(t.feature=lu(n),t.defaultOptions=t.options,this.resetStyle(t),i.onEachFeature&&i.onEachFeature(n,t),this.addLayer(t)):this)},resetStyle:function(n){return n.options=s({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this},setStyle:function(n){return this.eachLayer(function(t){this._setLayerStyle(t,n)},this)},_setLayerStyle:function(n,t){"function"==typeof t&&(t=t(n.feature));n.setStyle&&n.setStyle(t)}}),so={toGeoJSON:function(n){return bi(this,{type:"Point",coordinates:te(this.getLatLng(),n)})}};tu.include(so);oo.include(so);tf.include(so);gt.include({toGeoJSON:function(n){var t=!bt(this._latlngs),i=cu(this._latlngs,t?1:0,!1,n);return bi(this,{type:(t?"Multi":"")+"LineString",coordinates:i})}});fr.include({toGeoJSON:function(n){var t=!bt(this._latlngs),r=t&&!bt(this._latlngs[0]),i=cu(this._latlngs,r?2:t?1:0,!0,n);return t||(i=[i]),bi(this,{type:(r?"Multi":"")+"Polygon",coordinates:i})}});rr.include({toMultiPoint:function(n){var t=[];return this.eachLayer(function(i){t.push(i.toGeoJSON(n).geometry.coordinates)}),bi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type,i,t;return"MultiPoint"===r?this.toMultiPoint(n):(i="GeometryCollection"===r,t=[],this.eachLayer(function(r){var f,u;r.toGeoJSON&&(f=r.toGeoJSON(n),i?t.push(f.geometry):(u=lu(f),"FeatureCollection"===u.type?t.push.apply(t,u.features):t.push(u)))}),i?bi(this,{geometries:t,type:"GeometryCollection"}):{type:"FeatureCollection",features:t})}});var cl=ks,ho=it.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,t,i){this._url=n;this._bounds=k(t);a(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity());this.options.interactive&&(e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){l(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&pi(this._image),this},bringToBack:function(){return this._map&&wi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=k(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._image=f("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));n.onselectstart=d;n.onmousemove=d;n.onload=c(this.fire,this,"load");n.onerror=c(this._overlayOnError,this,"error");this.options.crossOrigin&&(n.crossOrigin="");this.options.zIndex&&this._updateZIndex();n.src=this._url;n.alt=this.options.alt},_animateZoom:function(n){var t=this._map.getZoomScale(n.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;si(this._image,i,t)},_reset:function(){var n=this._image,t=new v(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=t.getSize();b(n,t.min);n.style.width=i.x+"px";n.style.height=i.y+"px"},_updateOpacity:function(){ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)}}),dh=ho.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var r="VIDEO"===this._url.tagName,n=this._image=r?this._url:f("video"),t,i;if(n.class=n.class||"",n.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),n.onselectstart=d,n.onmousemove=d,n.onloadeddata=c(this.fire,this,"load"),!r)for(at(this._url)||(this._url=[this._url]),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,t=0;t<this._url.length;t++)i=f("source"),i.src=this._url[t],n.appendChild(i)}}),ti=it.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(n,t){a(this,n);this._source=t},onAdd:function(n){this._zoomAnimated=n._zoomAnimated;this._container||this._initLayout();n._fadeAnimated&&ut(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();n._fadeAnimated&&ut(this._container,1);this.bringToFront()},onRemove:function(n){n._fadeAnimated?(ut(this._container,0),this._removeTimeout=setTimeout(c(l,void 0,this._container),200)):l(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=y(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pi(this._container),this},bringToBack:function(){return this._map&&wi(this._container),this},_updateContent:function(){if(this._content){var n=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)n.innerHTML=t;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){var u,f;if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=r(this.options.offset),i=this._getAnchor();this._zoomAnimated?b(this._container,t.add(i)):n=n.add(t).add(i);u=this._containerBottom=-n.y;f=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=u+"px";this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}}),er=ti.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(n){return n.openPopup(this),this},onAdd:function(n){ti.prototype.onAdd.call(this,n);n.fire("popupopen",{popup:this});this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ei||this._source.on("preclick",oi))},onRemove:function(n){ti.prototype.onRemove.call(this,n);n.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ei||this._source.off("preclick",oi))},getEvents:function(){var n=ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this._close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var n="leaflet-popup",r=this._container=f("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=f("div",n+"-content-wrapper",r),t;(this._contentNode=f("div",n+"-content",u),lr(u),cf(this._contentNode),i(u,"contextmenu",oi),this._tipContainer=f("div",n+"-tip-container",r),this._tip=f("div",n+"-tip",this._tipContainer),this.options.closeButton)&&(t=this._closeButton=f("a",n+"-close-button",r),t.href="#close",t.innerHTML="&#215;",i(t,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var i=this._contentNode,n=i.style,t,u,r;n.width="";n.whiteSpace="nowrap";t=i.offsetWidth;t=Math.min(t,this.options.maxWidth);t=Math.max(t,this.options.minWidth);n.width=t+1+"px";n.whiteSpace="";n.height="";u=i.offsetHeight;r=this.options.maxHeight;r&&u>r?(n.height=r+"px",e(i,"leaflet-popup-scrolled")):p(i,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var t=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),i=this._getAnchor();b(this._container,t.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var s=this._map,v=parseInt(ar(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+v,c=this._containerWidth,l=new t(this._containerLeft,-h-this._containerBottom);l._add(hi(this._container));var n=s.layerPointToContainerPoint(l),a=r(this.options.autoPanPadding),f=r(this.options.autoPanPaddingTopLeft||a),e=r(this.options.autoPanPaddingBottomRight||a),o=s.getSize(),i=0,u=0;n.x+c+e.x>o.x&&(i=n.x+c-o.x+e.x);n.x-i-f.x<0&&(i=n.x-f.x);n.y+h+e.y>o.y&&(u=n.y+h-o.y+e.y);n.y-u-f.y<0&&(u=n.y-f.y);(i||u)&&s.fire("autopanstart").panBy([i,u])}},_onCloseButtonClick:function(n){this._close();lt(n)},_getAnchor:function(){return r(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});u.mergeOptions({closePopupOnClick:!0});u.include({openPopup:function(n,t,i){return n instanceof er||(n=new er(i).setContent(n)),t&&n.setLatLng(t),this.hasLayer(n)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=n,this.addLayer(n))},closePopup:function(n){return n&&n!==this._popup||(n=this._popup,this._popup=null),n&&this.removeLayer(n),this}});it.include({bindPopup:function(n,t){return n instanceof er?(a(n,t),this._popup=n,n._source=this):(this._popup&&!t||(this._popup=new er(t,this)),this._popup.setContent(n)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n,t){if(n instanceof it||(t=n,n=this),n instanceof ai)for(var i in this._layers){n=this._layers[i];break}return t||(t=n.getCenter?n.getCenter():n.getLatLng()),this._popup&&this._map&&(this._popup._source=n,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(n){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(n)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){var t=n.layer||n.target;this._popup&&this._map&&(lt(n),t instanceof ei?this.openPopup(n.layer||n.target,n.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,n.latlng))},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){13===n.originalEvent.keyCode&&this._openPopup(n)}});vi=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(n){ti.prototype.onAdd.call(this,n);this.setOpacity(this.options.opacity);n.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(n){ti.prototype.onRemove.call(this,n);n.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var n=ti.prototype.getEvents.call(this);return et&&!this.options.permanent&&(n.preclick=this._close),n},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var n="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=f("div",n)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var h=this._map,i=this._container,c=h.latLngToContainerPoint(h.getCenter()),l=h.layerPointToContainerPoint(n),u=this.options.direction,o=i.offsetWidth,s=i.offsetHeight,t=r(this.options.offset),f=this._getAnchor();"top"===u?n=n.add(r(-o/2+t.x,-s+t.y+f.y,!0)):"bottom"===u?n=n.subtract(r(o/2-t.x,-t.y,!0)):"center"===u?n=n.subtract(r(o/2+t.x,s/2-f.y+t.y,!0)):"right"===u||"auto"===u&&l.x<c.x?(u="right",n=n.add(r(t.x+f.x,f.y-s/2+t.y,!0))):(u="left",n=n.subtract(r(o+f.x-t.x,s/2-f.y-t.y,!0)));p(i,"leaflet-tooltip-right");p(i,"leaflet-tooltip-left");p(i,"leaflet-tooltip-top");p(i,"leaflet-tooltip-bottom");e(i,"leaflet-tooltip-"+u);b(i,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n;this._container&&ut(this._container,n)},_animateZoom:function(n){var t=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(t)},_getAnchor:function(){return r(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});u.include({openTooltip:function(n,t,i){return n instanceof vi||(n=new vi(i).setContent(n)),t&&n.setLatLng(t),this.hasLayer(n)?this:this.addLayer(n)},closeTooltip:function(n){return n&&this.removeLayer(n),this}});it.include({bindTooltip:function(n,t){return n instanceof vi?(a(n,t),this._tooltip=n,n._source=this):(this._tooltip&&!t||(this._tooltip=new vi(t,this)),this._tooltip.setContent(n)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(n||!this._tooltipHandlersAdded){var i=n?"off":"on",t={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?t.add=this._openTooltip:(t.mouseover=this._openTooltip,t.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(t.mousemove=this._moveTooltip),et&&(t.click=this._openTooltip));this[i](t);this._tooltipHandlersAdded=!n}},openTooltip:function(n,t){if(n instanceof it||(t=n,n=this),n instanceof ai)for(var i in this._layers){n=this._layers[i];break}return t||(t=n.getCenter?n.getCenter():n.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=n,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(e(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(p(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(n){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(n)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_openTooltip:function(n){var t=n.layer||n.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?n.latlng:void 0)},_moveTooltip:function(n){var t,i,r=n.latlng;this._tooltip.options.sticky&&n.originalEvent&&(t=this._map.mouseEventToContainerPoint(n.originalEvent),i=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(i));this._tooltip.setLatLng(r)}});co=ur.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var t=n&&"DIV"===n.tagName?n:document.createElement("div"),i=this.options,u;return(t.innerHTML=!1!==i.html?i.html:"",i.bgPos)&&(u=r(i.bgPos),t.style.backgroundPosition=-u.x+"px "+-u.y+"px"),this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});ur.Default=nu;var lo=it.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gi,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){a(this,n)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles();l(this._container);n._removeZoomLimit(this);this._container=null;this._tileZoom=null},bringToFront:function(){return this._map&&(pi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=uf(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof t?n:new t(n,n)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r,u=this.getPane().children,t=-n(-1/0,1/0),i=0,f=u.length;i<f;i++)r=u[i].style.zIndex,u[i]!==this._container&&r&&(t=n(t,+r));isFinite(t)&&(this.options.zIndex=t+n(-1,1),this._updateZIndex())},_updateOpacity:function(){var u,n,t;if(this._map&&!di){ut(this._container,this.options.opacity);var f=+new Date,i=!1,r=!1;for(u in this._tiles)n=this._tiles[u],n.current&&n.loaded&&(t=Math.min(1,(f-n.loaded)/200),ut(n.el,t),t<1?i=!0:(n.active?r=!0:this._onOpaqueTile(n),n.active=!0));r&&!this._noPrune&&this._pruneTiles();i&&(ct(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=f("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,u=this.options.maxZoom,t,n,r;if(void 0!==i){for(t in this._levels)this._levels[t].el.children.length||t===i?(this._levels[t].el.style.zIndex=u-Math.abs(i-t),this._onUpdateLevel(t)):(l(this._levels[t].el),this._removeTilesAtZoom(t),this._onRemoveLevel(t),delete this._levels[t]);return n=this._levels[i],r=this._map,n||((n=this._levels[i]={}).el=f("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=u,n.origin=r.project(r.unproject(r.getPixelOrigin()),i).round(),n.zoom=i,this._setZoomTransform(n,r.getCenter(),r.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){var t,i,r,n;if(this._map)if(r=this._map.getZoom(),r>this.options.maxZoom||r<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(i=this._tiles[t]).retain=i.current;for(t in this._tiles)(i=this._tiles[t]).current&&!i.active&&(n=i.coords,this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2));for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(n){for(var t in this._tiles)this._tiles[t].coords.z===n&&this._removeTile(t)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)l(this._levels[n].el),this._onRemoveLevel(n),delete this._levels[n];this._removeAllTiles();this._tileZoom=null},_retainParent:function(n,i,r,u){var o=Math.floor(n/2),s=Math.floor(i/2),e=r-1,h=new t(+o,+s),c,f;return h.z=+e,c=this._tileCoordsToKey(h),f=this._tiles[c],f&&f.active?(f.retain=!0,!0):(f&&f.loaded&&(f.retain=!0),e>u&&this._retainParent(o,s,e,u))},_retainChildren:function(n,i,r,u){for(var o,s,h,f,e=2*n;e<2*n+2;e++)for(o=2*i;o<2*i+2;o++)s=new t(e,o),s.z=r+1,h=this._tileCoordsToKey(s),f=this._tiles[h],f&&f.active?f.retain=!0:(f&&f.loaded&&(f.retain=!0),r+1<u&&this._retainChildren(e,o,r+1,u))},_resetView:function(n){var t=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var t=this.options;return void 0!==t.minNativeZoom&&n<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<n?t.maxNativeZoom:n},_setView:function(n,t,i,r){var u=this._clampZoom(Math.round(t)),f;(void 0!==this.options.maxZoom&&u>this.options.maxZoom||void 0!==this.options.minZoom&&u<this.options.minZoom)&&(u=void 0);f=this.options.updateWhenZooming&&u!==this._tileZoom;r&&!f||(this._tileZoom=u,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==u&&this._update(n),i||this._pruneTiles(),this._noPrune=!!i);this._setZoomTransforms(n,t)},_setZoomTransforms:function(n,t){for(var i in this._levels)this._setZoomTransform(this._levels[i],n,t)},_setZoomTransform:function(n,t,i){var r=this._map.getZoomScale(i,n.zoom),u=n.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,i)).round();ft?si(n.el,u,r):b(n.el,u)},_resetGrid:function(){var t=this._map,n=t.options.crs,i=this._tileSize=this.getTileSize(),r=this._tileZoom,u=this._map.getPixelWorldBounds(this._tileZoom);u&&(this._globalTileRange=this._pxBoundsToTileRange(u));this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],r).x/i.x),Math.ceil(t.project([0,n.wrapLng[1]],r).x/i.y)];this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],r).y/i.x),Math.ceil(t.project([n.wrapLat[1],0],r).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(n){var t=this._map,u=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),f=t.getZoomScale(u,this._tileZoom),i=t.project(n,this._tileZoom).floor(),r=t.getSize().divideBy(2*f);return new v(i.subtract(r),i.add(r))},_update:function(n){var h=this._map,c,l,o,s,r,f,a;if(h&&(c=this._clampZoom(h.getZoom()),void 0===n&&(n=h.getCenter()),void 0!==this._tileZoom)){var p=this._getTiledPixelBounds(n),i=this._pxBoundsToTileRange(p),y=i.getCenter(),u=[],e=this.options.keepBuffer,w=new v(i.getBottomLeft().subtract([e,-e]),i.getTopRight().add([e,-e]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(l in this._tiles)o=this._tiles[l].coords,o.z===this._tileZoom&&w.contains(new t(o.x,o.y))||(this._tiles[l].current=!1);if(Math.abs(c-this._tileZoom)>1)this._setView(n,c);else{for(s=i.min.y;s<=i.max.y;s++)for(r=i.min.x;r<=i.max.x;r++)f=new t(r,s),f.z=this._tileZoom,this._isValidTile(f)&&(this._tiles[this._tileCoordsToKey(f)]||u.push(f));if(u.sort(function(n,t){return n.distanceTo(y)-t.distanceTo(y)}),0!==u.length){for(this._loading||(this._loading=!0,this.fire("loading")),a=document.createDocumentFragment(),r=0;r<u.length;r++)this._addTile(u[r],a);this._level.el.appendChild(a)}}}},_isValidTile:function(n){var i=this._map.options.crs,t,r;return!i.infinite&&(t=this._globalTileRange,!i.wrapLng&&(n.x<t.min.x||n.x>t.max.x)||!i.wrapLat&&(n.y<t.min.y||n.y>t.max.y))?!1:this.options.bounds?(r=this._tileCoordsToBounds(n),k(this.options.bounds).overlaps(r)):!0},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToBounds:function(n){var t=this._map,i=this.getTileSize(),r=n.scaleBy(i),f=r.add(i),u=new nt(t.unproject(r,n.z),t.unproject(f,n.z));return this.options.noWrap||t.wrapLatLngBounds(u),u},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var i=n.split(":"),r=new t(+i[0],+i[1]);return r.z=+i[2],r},_removeTile:function(n){var t=this._tiles[n];t&&(l(t.el),delete this._tiles[n],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){e(n,"leaflet-tile");var t=this.getTileSize();n.style.width=t.x+"px";n.style.height=t.y+"px";n.onselectstart=d;n.onmousemove=d;di&&this.options.opacity<1&&ut(n,this.options.opacity);br&&!kr&&(n.style.WebkitBackfaceVisibility="hidden")},_addTile:function(n,t){var r=this._getTilePos(n),u=this._tileCoordsToKey(n),i=this.createTile(this._wrapCoords(n),c(this._tileReady,this,n));this._initTile(i);this.createTile.length<2&&g(c(this._tileReady,this,n,null,i));b(i,r);this._tiles[u]={el:i,coords:n,current:!0};t.appendChild(i);this.fire("tileloadstart",{tile:i,coords:n})},_tileReady:function(n,t,i){if(this._map){t&&this.fire("tileerror",{error:t,tile:i,coords:n});var r=this._tileCoordsToKey(n);(i=this._tiles[r])&&(i.loaded=+new Date,this._map._fadeAnimated?(ut(i.el,0),ct(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),t||(e(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),di||!this._map._fadeAnimated?g(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))}},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var i=new t(this._wrapX?hr(n.x,this._wrapX):n.x,this._wrapY?hr(n.y,this._wrapY):n.y);return i.z=n.z,i},_pxBoundsToTileRange:function(n){var t=this.getTileSize();return new v(n.min.unscaleBy(t).floor(),n.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}}),or=lo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(n,t){this._url=n;(t=a(this,t)).detectRetina&&fi&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom));"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split(""));br||this.on("tileunload",this._onTileRemove)},setUrl:function(n,t){return this._url=n,t||this.redraw(),this},createTile:function(n,t){var r=document.createElement("img");return i(r,"load",c(this._tileOnLoad,this,t,r)),i(r,"error",c(this._tileOnError,this,t,r)),this.options.crossOrigin&&(r.crossOrigin=""),r.alt="",r.setAttribute("role","presentation"),r.src=this.getTileUrl(n),r},getTileUrl:function(n){var t={r:fi?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()},i;return this._map&&!this._map.options.crs.infinite&&(i=this._globalTileRange.max.y-n.y,this.options.tms&&(t.y=i),t["-y"]=i),is(this._url,s(t,this.options))},_tileOnLoad:function(n,t){di?setTimeout(c(n,this,null,t),0):n(null,t)},_tileOnError:function(n,t,i){var r=this.options.errorTileUrl;r&&t.src!==r&&(t.src=r);n(i,t)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,t=this.options.maxZoom,i=this.options.zoomReverse,r=this.options.zoomOffset;return i&&(n=t-n),n+r},_getSubdomain:function(n){var t=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var t,n;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((n=this._tiles[t].el).onload=d,n.onerror=d,n.complete||(n.src=th,l(n)))}}),gh=or.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,t){var i,r;this._url=n;i=s({},this.defaultWmsParams);for(r in t)r in this.options||(i[r]=t[r]);t=a(this,t);i.width=i.height=t.tileSize*(t.detectRetina&&fi?2:1);this.wmsParams=i},onAdd:function(n){this._crs=this.options.crs||n.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code;or.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToBounds(n),t=this._crs.project(r.getNorthWest()),i=this._crs.project(r.getSouthEast()),f=(this._wmsVersion>=1.3&&this._crs===bh?[i.y,t.x,t.y,i.x]:[t.x,i.y,i.x,t.y]).join(","),u=or.prototype.getTileUrl.call(this,n);return u+ts(this.wmsParams,u,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+f},setParams:function(n,t){return s(this.wmsParams,n),t||this.redraw(),this}});or.WMS=gh;ds.wms=function(n,t){return new gh(n,t)};var yt=it.extend({options:{padding:.1},initialize:function(n){a(this,n);o(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&e(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,t){var i=this._map.getZoomScale(t,this._zoom),f=hi(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),e=this._map.project(this._center,t),o=this._map.project(n,t).subtract(e),u=r.multiplyBy(-i).add(f).add(r).subtract(o);ft?si(this._container,u,i):b(this._container,u)},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,t=this._map.getSize(),i=this._map.containerPointToLayerPoint(t.multiplyBy(-n)).round();this._bounds=new v(i,i.add(t.multiplyBy(1+2*n)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),ao=yt.extend({getEvents:function(){var n=yt.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yt.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");i(n,"mousemove",uf(this._onMouseMove,32,this),this);i(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this);i(n,"mouseout",this._handleMouseOut,this);this._ctx=n.getContext("2d")},_destroyContainer:function(){delete this._ctx;l(this._container);w(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var n in this._layers)this._layers[n]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={};yt.prototype._update.call(this);var t=this._bounds,n=this._container,i=t.getSize(),r=fi?2:1;b(n,t.min);n.width=r*i.x;n.height=r*i.y;n.style.width=i.x+"px";n.style.height=i.y+"px";fi&&this._ctx.scale(2,2);this._ctx.translate(-t.min.x,-t.min.y);this.fire("update")}},_reset:function(){yt.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n);this._layers[o(n)]=n;var t=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t);this._drawLast=t;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,t=r.next,i=r.prev;t?t.prev=i:this._drawLast=i;i?i.next=t:this._drawFirst=t;delete n._order;delete this._layers[L.stamp(n)];this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n);n._project();n._update();this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n);this._requestRedraw(n)},_updateDashArray:function(n){if(n.options.dashArray){for(var i=n.options.dashArray.split(","),r=[],t=0;t<i.length;t++)r.push(Number(i[t]));n.options._dashArray=r}},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||g(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var t=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new v;this._redrawBounds.extend(n._pxBounds.min.subtract([t,t]));this._redrawBounds.extend(n._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null;this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var n=this._redrawBounds,t;n?(t=n.getSize(),this._ctx.clearRect(n.min.x,n.min.y,t.x,t.y)):this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var i,n=this._redrawBounds,r,t;for((this._ctx.save(),n)&&(r=n.getSize(),this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,r.x,r.y),this._ctx.clip()),this._drawing=!0,t=this._drawFirst;t;t=t.next)i=t.layer,(!n||i._pxBounds&&i._pxBounds.intersects(n))&&i._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(n,t){if(this._drawing){var i,r,o,f,e=n._parts,s=e.length,u=this._ctx;if(s){for(this._drawnLayers[n._leaflet_id]=n,u.beginPath(),i=0;i<s;i++){for(r=0,o=e[i].length;r<o;r++)f=e[i][r],u[r?"lineTo":"moveTo"](f.x,f.y);t&&u.closePath()}this._fillStroke(u,n)}}},_updateCircle:function(n){if(this._drawing&&!n._empty()){var u=n._point,t=this._ctx,r=n._radius,i=(n._radiusY||r)/r;this._drawnLayers[n._leaflet_id]=n;1!==i&&(t.save(),t.scale(1,i));t.beginPath();t.arc(u.x,u.y/i,r,0,2*Math.PI,!1);1!==i&&t.restore();this._fillStroke(t,n)}},_fillStroke:function(n,t){var i=t.options;i.fill&&(n.globalAlpha=i.fillOpacity,n.fillStyle=i.fillColor||i.color,n.fill(i.fillRule||"evenodd"));i.stroke&&0!==i.weight&&(n.setLineDash&&n.setLineDash(t.options&&t.options._dashArray||[]),n.globalAlpha=i.opacity,n.lineWidth=i.weight,n.strokeStyle=i.color,n.lineCap=i.lineCap,n.lineJoin=i.lineJoin,n.stroke())},_onClick:function(n){for(var t,r,u=this._map.mouseEventToLayerPoint(n),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(u)&&!this._map._draggableMoved(t)&&(r=t);r&&(lf(n),this._fireEvent([r],n))},_onMouseMove:function(n){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,t)}},_handleMouseOut:function(n){var t=this._hoveredLayer;t&&(p(this._container,"leaflet-interactive"),this._fireEvent([t],n,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(n,t){for(var u,i,r=this._drawFirst;r;r=r.next)(u=r.layer).options.interactive&&u._containsPoint(t)&&(i=u);i!==this._hoveredLayer&&(this._handleMouseOut(n),i&&(e(this._container,"leaflet-interactive"),this._fireEvent([i],n,"mouseover"),this._hoveredLayer=i));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],n)},_fireEvent:function(n,t,i){this._map._fireDOMEvent(t,i||t.type,n)},_bringToFront:function(n){var t=n._order,i=t.next,r=t.prev;i&&(i.prev=r,r?r.next=i:i&&(this._drawFirst=i),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(n))},_bringToBack:function(n){var t=n._order,r=t.next,i=t.prev;i&&(i.next=r,r?r.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(n))}}),iu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch(n){return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ll={_initContainer:function(){this._container=f("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yt.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var t=n._container=iu("shape");e(t,"leaflet-vml-shape "+(this.options.className||""));t.coordsize="1 1";n._path=iu("path");t.appendChild(n._path);this._updateStyle(n);this._layers[o(n)]=n},_addPath:function(n){var t=n._container;this._container.appendChild(t);n.options.interactive&&n.addInteractiveTarget(t)},_removePath:function(n){var t=n._container;l(t);n.removeInteractiveTarget(t);delete this._layers[o(n)]},_updateStyle:function(n){var i=n._stroke,r=n._fill,t=n.options,u=n._container;u.stroked=!!t.stroke;u.filled=!!t.fill;t.stroke?(i||(i=n._stroke=iu("stroke")),u.appendChild(i),i.weight=t.weight+"px",i.color=t.color,i.opacity=t.opacity,i.dashStyle=t.dashArray?at(t.dashArray)?t.dashArray.join(" "):t.dashArray.replace(/( *, *)/g," "):"",i.endcap=t.lineCap.replace("butt","flat"),i.joinstyle=t.lineJoin):i&&(u.removeChild(i),n._stroke=null);t.fill?(r||(r=n._fill=iu("fill")),u.appendChild(r),r.color=t.fillColor||t.color,r.opacity=t.fillOpacity):r&&(u.removeChild(r),n._fill=null)},_updateCircle:function(n){var t=n._point.round(),i=Math.round(n._radius),r=Math.round(n._radiusY||i);this._setPath(n,n._empty()?"M0 0":"AL "+t.x+","+t.y+" "+i+","+r+" 0,23592600")},_setPath:function(n,t){n._path.v=t},_bringToFront:function(n){pi(n._container)},_bringToBack:function(n){wi(n._container)}},rf=wu?iu:fs,sr=yt.extend({getEvents:function(){var n=yt.prototype.getEvents.call(this);return n.zoomstart=this._onZoomStart,n},_initContainer:function(){this._container=rf("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=rf("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){l(this._container);w(this._container);delete this._container;delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){yt.prototype._update.call(this);var t=this._bounds,n=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(n)||(this._svgSize=n,i.setAttribute("width",n.x),i.setAttribute("height",n.y));b(i,t.min);i.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" "));this.fire("update")}},_initPath:function(n){var t=n._path=rf("path");n.options.className&&e(t,n.options.className);n.options.interactive&&e(t,"leaflet-interactive");this._updateStyle(n);this._layers[o(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer();this._rootGroup.appendChild(n._path);n.addInteractiveTarget(n._path)},_removePath:function(n){l(n._path);n.removeInteractiveTarget(n._path);delete this._layers[o(n)]},_updatePath:function(n){n._project();n._update()},_updateStyle:function(n){var t=n._path,i=n.options;t&&(i.stroke?(t.setAttribute("stroke",i.color),t.setAttribute("stroke-opacity",i.opacity),t.setAttribute("stroke-width",i.weight),t.setAttribute("stroke-linecap",i.lineCap),t.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?t.setAttribute("stroke-dasharray",i.dashArray):t.removeAttribute("stroke-dasharray"),i.dashOffset?t.setAttribute("stroke-dashoffset",i.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),i.fill?(t.setAttribute("fill",i.fillColor||i.color),t.setAttribute("fill-opacity",i.fillOpacity),t.setAttribute("fill-rule",i.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(n,t){this._setPath(n,es(n._parts,t))},_updateCircle:function(n){var i=n._point,t=n._radius,r="a"+t+","+(n._radiusY||t)+" 0 1,0 ",u=n._empty()?"M0 0":"M"+(i.x-t)+","+i.y+r+2*t+",0 "+r+2*-t+",0 ";this._setPath(n,u)},_setPath:function(n,t){n._path.setAttribute("d",t)},_bringToFront:function(n){pi(n._path)},_bringToBack:function(n){wi(n._path)}});wu&&sr.include(ll);u.include({getRenderer:function(n){var t=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this.options.preferCanvas&&ie()||re()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(n){if("overlayPane"===n||void 0===n)return!1;var t=this._paneRenderers[n];return void 0===t&&(t=sr&&re({pane:n})||ao&&ie({pane:n}),this._paneRenderers[n]=t),t}});vo=fr.extend({initialize:function(n,t){fr.prototype.initialize.call(this,this._boundsToLatLngs(n),t)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=k(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});sr.create=rf;sr.pointsToPath=es;ni.geometryToLayer=gf;ni.coordsToLatLng=ne;ni.coordsToLatLngs=hu;ni.latLngToCoords=te;ni.latLngsToCoords=cu;ni.getFeature=bi;ni.asFeature=lu;u.mergeOptions({boxZoom:!0});yo=dt.extend({initialize:function(n){this._map=n;this._container=n._container;this._pane=n._panes.overlayPane;this._resetStateTimeout=0;n.on("unload",this._destroy,this)},addHooks:function(){i(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){w(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){l(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||1!==n.which&&1!==n.button)return!1;this._clearDeferredResetState();this._resetState();yr();wf();this._startPoint=this._map.mouseEventToContainerPoint(n);i(document,{contextmenu:lt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=f("div","leaflet-zoom-box",this._container),e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(n);var t=new v(this._point,this._startPoint),i=t.getSize();b(this._box,t.min);this._box.style.width=i.x+"px";this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(l(this._box),p(this._container,"leaflet-crosshair"));pr();bf();w(document,{contextmenu:lt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if((1===n.which||1===n.button)&&(this._finish(),this._moved)){this._clearDeferredResetState();this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var t=new nt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(n){27===n.keyCode&&this._finish()}});u.addInitHook("addHandler","boxZoom",yo);u.mergeOptions({doubleClickZoom:!0});po=dt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var t=this._map,i=t.getZoom(),r=t.options.zoomDelta,u=n.originalEvent.shiftKey?i-r:i+r;"center"===t.options.doubleClickZoom?t.setZoom(u):t.setZoomAround(n.containerPoint,u)}});u.addInitHook("addHandler","doubleClickZoom",po);u.mergeOptions({dragging:!0,inertia:!kr,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});wo=dt.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new li(n._mapPane,n._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}e(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){p(this._map._container,"leaflet-grab");p(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map,t;(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity)?(t=k(this._map.options.maxBounds),this._offsetLimit=ii(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null;n.fire("movestart").fire("dragstart");n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var t=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i);this._times.push(t);t-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",n).fire("drag",n)},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(n).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,t){return n-(n-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var n=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;n.x<t.min.x&&(n.x=this._viscousLimit(n.x,t.min.x));n.y<t.min.y&&(n.y=this._viscousLimit(n.y,t.min.y));n.x>t.max.x&&(n.x=this._viscousLimit(n.x,t.max.x));n.y>t.max.y&&(n.y=this._viscousLimit(n.y,t.max.y));this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var i=this._worldWidth,t=Math.round(i/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,u=(r-t+n)%i+t-n,f=(r+t+n)%i-t-n,e=Math.abs(u+n)<Math.abs(f+n)?u:f;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=e},_onDragEnd:function(n){var t=this._map,r=t.options,h=!r.inertia||this._times.length<2;if(t.fire("dragend",n),h)t.fire("moveend");else{var c=this._lastPos.subtract(this._positions[0]),l=(this._lastTime-this._times[0])/1e3,u=r.easeLinearity,f=c.multiplyBy(u/l),e=f.distanceTo([0,0]),o=Math.min(r.inertiaMaxSpeed,e),a=f.multiplyBy(o/e),s=o/(r.inertiaDeceleration*u),i=a.multiplyBy(-s/2).round();i.x||i.y?(i=t._limitOffset(i,t.options.maxBounds),g(function(){t.panBy(i,{duration:s,easeLinearity:u,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});u.addInitHook("addHandler","dragging",wo);u.mergeOptions({keyboard:!0,keyboardPanDelta:80});bo=dt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n;this._setPanDelta(n.options.keyboardPanDelta);this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0");i(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();w(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,t=document.documentElement,i=n.scrollTop||t.scrollTop,r=n.scrollLeft||t.scrollLeft;this._map._container.focus();window.scrollTo(r,i)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(n){for(var u=this._panKeys={},r=this.keyCodes,t=0,i=r.left.length;t<i;t++)u[r.left[t]]=[-1*n,0];for(t=0,i=r.right.length;t<i;t++)u[r.right[t]]=[n,0];for(t=0,i=r.down.length;t<i;t++)u[r.down[t]]=[0,n];for(t=0,i=r.up.length;t<i;t++)u[r.up[t]]=[0,-1*n]},_setZoomDelta:function(n){for(var u=this._zoomKeys={},r=this.keyCodes,t=0,i=r.zoomIn.length;t<i;t++)u[r.zoomIn[t]]=n;for(t=0,i=r.zoomOut.length;t<i;t++)u[r.zoomOut[t]]=-n},_addHooks:function(){i(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){w(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var u,i=n.keyCode,t=this._map;if(i in this._panKeys){if(t._panAnim&&t._panAnim._inProgress)return;u=this._panKeys[i];n.shiftKey&&(u=r(u).multiplyBy(3));t.panBy(u);t.options.maxBounds&&t.panInsideBounds(t.options.maxBounds)}else if(i in this._zoomKeys)t.setZoom(t.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!t._popup)return;t.closePopup()}lt(n)}}});u.addInitHook("addHandler","keyboard",bo);u.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});ko=dt.extend({addHooks:function(){i(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){w(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var i=ls(n),r=this._map.options.wheelDebounceTime,t;this._delta+=i;this._lastMousePos=this._map.mouseEventToContainerPoint(n);this._startTime||(this._startTime=+new Date);t=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(c(this._performZoom,this),t);lt(n)},_performZoom:function(){var n=this._map,t=n.getZoom(),i=this._map.options.zoomSnap||0;n._stop();var e=this._delta/(4*this._map.options.wheelPxPerZoomLevel),u=4*Math.log(2/(1+Math.exp(-Math.abs(e))))/Math.LN2,f=i?Math.ceil(u/i)*i:u,r=n._limitZoom(t+(this._delta>0?f:-f))-t;this._delta=0;this._startTime=null;r&&("center"===n.options.scrollWheelZoom?n.setZoom(t+r):n.setZoomAround(this._lastMousePos,t+r))}});u.addInitHook("addHandler","scrollWheelZoom",ko);u.mergeOptions({tap:!0,tapTolerance:15});go=dt.extend({addHooks:function(){i(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){w(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(n.touches){if(rt(n),this._fireClick=!0,n.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var r=n.touches[0],u=r.target;this._startPos=this._newPos=new t(r.clientX,r.clientY);u.tagName&&"a"===u.tagName.toLowerCase()&&e(u,"leaflet-active");this._holdTimeout=setTimeout(c(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",r))},this),1e3);this._simulateEvent("mousedown",r);i(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(n){if(clearTimeout(this._holdTimeout),w(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&n&&n.changedTouches){var i=n.changedTouches[0],t=i.target;t&&t.tagName&&"a"===t.tagName.toLowerCase()&&p(t,"leaflet-active");this._simulateEvent("mouseup",i);this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(n){var i=n.touches[0];this._newPos=new t(i.clientX,i.clientY);this._simulateEvent("mousemove",i)},_simulateEvent:function(n,t){var i=document.createEvent("MouseEvents");i._simulated=!0;t.target._simulatedClick=!0;i.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null);t.target.dispatchEvent(i)}});et&&!vt&&u.addInitHook("addHandler","tap",go);u.mergeOptions({touchZoom:et&&!kr,bounceAtZoomLimits:!0});ns=dt.extend({addHooks:function(){e(this._map._container,"leaflet-touch-zoom");i(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){p(this._map._container,"leaflet-touch-zoom");w(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var t=this._map,r,u;!n.touches||2!==n.touches.length||t._animatingZoom||this._zooming||(r=t.mouseEventToContainerPoint(n.touches[0]),u=t.mouseEventToContainerPoint(n.touches[1]),this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(r.add(u)._divideBy(2))),this._startDist=r.distanceTo(u),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),i(document,"touchmove",this._onTouchMove,this),i(document,"touchend",this._onTouchEnd,this),rt(n))},_onTouchMove:function(n){var r,e;if(n.touches&&2===n.touches.length&&this._zooming){var t=this._map,u=t.mouseEventToContainerPoint(n.touches[0]),f=t.mouseEventToContainerPoint(n.touches[1]),i=u.distanceTo(f)/this._startDist;if(this._zoom=t.getScaleZoom(i,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&i<1||this._zoom>t.getMaxZoom()&&i>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===i)return}else{if(r=u._add(f)._divideBy(2)._subtract(this._centerPoint),1===i&&0===r.x&&0===r.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(t._moveStart(!0),this._moved=!0);ct(this._animRequest);e=c(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=g(e,this,!0);rt(n)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,ct(this._animRequest),w(document,"touchmove",this._onTouchMove),w(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});u.addInitHook("addHandler","touchZoom",ns);u.BoxZoom=yo;u.DoubleClickZoom=po;u.Drag=wo;u.Keyboard=bo;u.ScrollWheelZoom=ko;u.Tap=go;u.TouchZoom=ns;nc=window.L;window.L=n;Object.freeze=gs;n.version="1.2.0";n.noConflict=function(){return window.L=nc,this};n.Control=st;n.control=gr;n.Browser=gc;n.Evented=ki;n.Mixin=ul;n.Util=pc;n.Class=pt;n.Handler=dt;n.extend=s;n.bind=c;n.stamp=o;n.setOptions=a;n.DomEvent=il;n.DomUtil=rl;n.PosAnimation=vh;n.Draggable=li;n.LineUtil=fl;n.PolyUtil=el;n.Point=t;n.point=r;n.Bounds=v;n.bounds=ii;n.Transformation=of;n.transformation=cr;n.Projection=ol;n.LatLng=h;n.latLng=y;n.LatLngBounds=nt;n.latLngBounds=k;n.CRS=kt;n.GeoJSON=ni;n.geoJSON=ks;n.geoJson=cl;n.Layer=it;n.LayerGroup=rr;n.layerGroup=function(n){return new rr(n)};n.FeatureGroup=ai;n.featureGroup=function(n){return new ai(n)};n.ImageOverlay=ho;n.imageOverlay=function(n,t,i){return new ho(n,t,i)};n.VideoOverlay=dh;n.videoOverlay=function(n,t,i){return new dh(n,t,i)};n.DivOverlay=ti;n.Popup=er;n.popup=function(n,t){return new er(n,t)};n.Tooltip=vi;n.tooltip=function(n,t){return new vi(n,t)};n.Icon=ur;n.icon=function(n){return new ur(n)};n.DivIcon=co;n.divIcon=function(n){return new co(n)};n.Marker=tu;n.marker=function(n,t){return new tu(n,t)};n.TileLayer=or;n.tileLayer=ds;n.GridLayer=lo;n.gridLayer=function(n){return new lo(n)};n.SVG=sr;n.svg=re;n.Renderer=yt;n.Canvas=ao;n.canvas=ie;n.Path=ei;n.CircleMarker=tf;n.circleMarker=function(n,t){return new tf(n,t)};n.Circle=oo;n.circle=function(n,t,i){return new oo(n,t,i)};n.Polyline=gt;n.polyline=function(n,t){return new gt(n,t)};n.Polygon=fr;n.polygon=function(n,t){return new fr(n,t)};n.Rectangle=vo;n.rectangle=function(n,t){return new vo(n,t)};n.Map=u;n.map=function(n,t){return new u(n,t)}}),function(n){var t=function(){function n(){}return n.pageView=function(n){var t=window.appInsights,i=window.ga;typeof t!="undefined"&&t.trackPageView(window.document.title,n);typeof i!="undefined"&&i("send","pageview",n)},n.pageEvent=function(n,t,i){var r=window.appInsights,u=window.ga;typeof r!="undefined"&&r.trackEvent(n+"/"+t+"/"+i);typeof u!="undefined"&&u("send","event",n,t,i)},n}();n.Track=t}(Ksx||(Ksx={})),function(){var n=Sammy||{};n.Track=function(){this.helpers({track:Ksx.Track.pageView});this.bind("event-context-after",function(){this.track(this.path)})}}(),function(n){var t=function(){function n(){}return Object.defineProperty(n,"Offset",{get:function(){return JSON.parse(localStorage.getItem("offset"))},set:function(n){localStorage.setItem("offset",JSON.stringify(n))},enumerable:!0,configurable:!0}),Object.defineProperty(n,"ServerTime",{get:function(){return n.ToServerTime(new Date)},enumerable:!0,configurable:!0}),n.ToServerTime=function(t){return n.AddMs(t,n.Offset)},n.ToServerTimeFromInputDate=function(t,i){var r,f,e,o,s,u;if(typeof i=="undefined")i=t,u=n.ServerTime,f=u.getFullYear(),e=u.getMonth(),o=u.getDate();else{if(r=t.split("."),r.length!==3)throw new Error("Invalid input date");o=parseInt(r[0]);e=parseInt(r[1])-1;f=parseInt(r[2])}if(!i)throw new Error("Invalid input time");if(r=i.split("."),r.length!==2&&(r=t.split(":")),r.length!==2)throw new Error("Invalid input date");return s=new Date(f,e,o,r[0],r[1]),n.AddMs(s,n.Offset)},n.AddMs=function(n,t){var i=new Date;return i.setTime(n.getTime()+t),i},n.formatDate=function(t){return n.formatDateTime(t,!0,!1)},n.formatTime=function(t){return n.formatDateTime(t,!1)},n.formatDateTime=function(n,t,i){var u,r;return(t===void 0&&(t=!0),i===void 0&&(i=!0),u="",!n)?u:(r=new Date(n),t&&(u=r.getDate()+"."+(r.getMonth()+1)+"."+r.getFullYear()+" "),i&&(u+=r.getHours()+"."+(r.getMinutes()<10?"0"+r.getMinutes():""+r.getMinutes())),u.trim())},n}();n.Time=t}(Ksx||(Ksx={}));$(document).ajaxSuccess(function(n,t){var i=t.getResponseHeader("Date");if(i){var r=(new Date).getTime(),u=new Date(Date.parse(i)).getTime(),f=u-r;Ksx.Time.Offset=f}});Highcharts.theme={colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"transparent",borderWidth:0,borderRadius:15,plotBackgroundColor:null,plotShadow:!1,plotBorderWidth:0,style:{fontFamily:"Roboto, Lucida Sans Unicode, sans-serif"}},title:{style:{color:"#FFF",fontSize:"17px"}},subtitle:{style:{color:"#DDD",fontSize:"12px"}},xAxis:{gridLineWidth:0,lineColor:"#999",tickColor:"#999",labels:{style:{color:"#999"}},title:{style:{color:"#AAA",fontSize:"12px"}}},yAxis:{alternateGridColor:null,minorTickInterval:null,gridLineColor:"rgba(255, 255, 255, .1)",minorGridLineColor:"rgba(255,255,255,0.07)",lineWidth:0,tickWidth:0,labels:{style:{color:"#999"}},title:{style:{color:"#AAA",fontSize:"12px"}}},legend:{itemStyle:{color:"#CCC"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#333"}},labels:{style:{color:"#CCC"}},tooltip:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(96, 96, 96, .8)"],[1,"rgba(16, 16, 16, .8)"]]},borderWidth:0,style:{color:"#FFF"}},plotOptions:{series:{shadow:!1},line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"}},toolbar:{itemStyle:{color:"#CCC"}},navigation:{buttonOptions:{symbolStroke:"#C0C0C0",hoverSymbolStroke:"#FFFFFF",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#606060"],[.6,"#333333"]]},stroke:"#000000"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(48, 48, 48, 0.8)",legendBackgroundColorSolid:"rgb(70, 70, 70)",dataLabelsColor:"#444",textColor:"#E0E0E0",maskColor:"rgba(255,255,255,0.3)"};Highcharts.setOptions(Highcharts.theme),function(){var n={};jQuery.Topic=function(t){var i,r=t&&n[t];return r||(i=jQuery.Callbacks(),r={publish:i.fire,subscribe:i.add,unsubscribe:i.remove},t&&(n[t]=r)),r}}(),function(n){var t=function(){function n(){}return n.create=function(n){var t=$.Topic(n);return t.subscribe(function(t){return console.log(n,t)}),t},n.error=n.create("message/error"),n.warning=n.create("message/warning"),n.info=n.create("message/info"),n.success=n.create("message/success"),n.navigated=n.create("navigation/viewchanged"),n.referenceData=n.create("referencedata/refresh"),n.eventsFromServer=n.create("event/received"),n.commandAck=n.create("command/ack"),n.checkpointForScanRequest=n.create("readings/checkpointforscanrequest"),n.checkpointForScanResponse=n.create("readings/checkpointforscanresponse"),n}();n.Queues=t}(Messaging||(Messaging={}));Ksx=Ksx||{};Ksx.notify=Ksx.notify||{},function(n){"use strict";["success","info","error","warning"].forEach(function(t){n[t]=toastr[t];Messaging.Queues[t].subscribe(n[t])});toastr.options={debug:!1,positionClass:"toast-bottom-full-width",onclick:null,showDuration:300,hideDuration:1e3,timeOut:8e3,extendedTimeOut:1e3}}(Ksx.notify),function(n){var t=function(){function t(){var n=this;this.checkpoints={};this.attendees={};this.persons={};Messaging.Queues.eventsFromServer.subscribe(function(t){typeof n[t.name]=="function"&&n[t.name](t.data)});Messaging.Queues.referenceData.subscribe(function(t){t.name==="checkpoints"&&t.data.forEach(function(t){return n.checkpoints[t.id]=t.name});t.name==="attendees"&&t.data.forEach(function(t){return n.attendees[t.id]=t.name})})}return t.prototype.HappeningSetAsDefault=function(n){Messaging.Queues.success.publish(n.keyOfNewDefault+" asetettu oletustapahtumaksi.")},t.prototype.HappeningCreated=function(n){Messaging.Queues.success.publish("Tapahtuma "+n.happeningId+" luotu.")},t.prototype.HappeningDeleted=function(n){Messaging.Queues.success.publish("Tapahtuma "+n.happeningId+" poistettu.")},t.prototype.PersonCreated=function(n){var t=this.StoreFullName(n);Messaging.Queues.success.publish("Henkil "+t+" ("+n.personId+") luotu.")},t.prototype.PersonContactInformationUpdated=function(n){var t=this.StoreFullName(n);Messaging.Queues.success.publish("Henkiln "+t+" ("+n.personId+") tiedot pivitetty.")},t.prototype.PersonLinkedToHappening=function(n){Messaging.Queues.success.publish("Henkil "+this.Name(n.personId)+" sidottu satkuun "+n.happeningId+".")},t.prototype.PersonUnlinkedFromHappening=function(n){Messaging.Queues.success.publish("Henkil "+this.Name(n.personId)+" poistettu satkusta "+n.happeningId+".")},t.prototype.PersonUnlinkFailed=function(n){Messaging.Queues.error.publish(n.reason+" ("+n.personId+")")},t.prototype.AttendeeScanIn=function(n){this.ScanMessage(n,"luettu sisn huoltopisteelle")},t.prototype.AttendeeScanOut=function(n){this.ScanMessage(n,"luettu ulos huoltopisteelt")},t.prototype.AttendeePassthroughScan=function(n){this.ScanMessage(n,"luettu lpi huoltopisteest")},t.prototype.AttendeeScanInTimeChanged=function(n){this.TimeChangedMessage(n,"Sisnluenta-aika")},t.prototype.AttendeeScanOutTimeChanged=function(n){this.TimeChangedMessage(n,"Ulosluenta-aika")},t.prototype.AttendeePassthroughScanTimeChanged=function(n){this.TimeChangedMessage(n,"Lpiluenta-aika")},t.prototype.AttendeeDoubleScan=function(n){Messaging.Queues.warning.publish(n.message+this.AttendeeSuffix(n))},t.prototype.AttendeeScanOutPreceedsScanIn=function(n){Messaging.Queues.error.publish("Uloslukema ei voi olla ennen sisnlukemaa. Tarkista aika. "+this.AttendeeSuffix(n))},t.prototype.AttendeeScanInRemoved=function(n){this.ScanMessage(n,"lukema sisn poistettu huoltopisteelt")},t.prototype.AttendeeScanOutRemoved=function(n){this.ScanMessage(n,"lukema ulos poistettu huoltopisteelt")},t.prototype.AttendeeQuit=function(n){this.ScanMessage(n,"keskeytti huoltopisteell")},t.prototype.AttendeeQuitRemoved=function(n){Messaging.Queues.info.publish("Keskeytys poistettu. "+this.AttendeeSuffix(n))},t.prototype.ScanMessage=function(n,t){Messaging.Queues.info.publish(this.attendees[n.personId]+" "+t+" "+this.checkpoints[n.checkpointId]+".")},t.prototype.TimeChangedMessage=function(t,i){Messaging.Queues.info.publish(this.checkpoints[t.checkpointId]+"/"+this.attendees[t.personId]+": "+i+" vaihdettu aikaan "+n.Time.formatTime(t.newTime)+".")},t.prototype.StoreFullName=function(n){var t=n.lastname+" "+n.firstname;return this.persons[n.personId]=t,t},t.prototype.Name=function(n){var t=this.persons[n];return t||n},t.prototype.AttendeeSuffix=function(n){return" ("+this.attendees[n.personId]+")"},t}(),i;n.EventsToNotifications=t;i=new n.EventsToNotifications}(Ksx||(Ksx={})),function(){ko.bindingHandlers.dateText={init:function(n,t,i){var r=ko.utils.unwrapObservable(t()),u=i(),f=u.dateFormat,e=ko.computed(function(){return Ksx.Time.formatDateTime(r,f==="full",!0)});ko.applyBindingsToNode(n,{text:e})}};ko.virtualElements.allowedBindings.dateText=!0}(),function(){function n(n){if(!n)return"0 min";var i="",t,r,u;return n?(t=Math.floor(n/6e4),t>60?(r=Math.floor(t/60),i+=r+" h ",t=t-r*60,i+=t>0?t+" min":""):(u=n/1e3,i=Math.floor(u/60)+" min "+Math.floor(u%60)+" s"),i):i}ko.bindingHandlers.durationText={init:function(t,i){var r=ko.computed(function(){return n(ko.utils.unwrapObservable(i()))});ko.applyBindingsToNode(t,{text:r})}};ko.virtualElements.allowedBindings.durationText=!0}(),function(){function n(n,t){return n?(Math.round(100*n)/100).toFixed(t).replace(".",","):"-"}ko.bindingHandlers.numberText={init:function(t,i){var r=ko.computed(function(){return n(ko.utils.unwrapObservable(i()),1)});ko.applyBindingsToNode(t,{text:r})}};ko.virtualElements.allowedBindings.numberText=!0}(),function(){function t(n,t,i){var r=typeof XMLHttpRequest!="undefined"?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open("get",n,!0);r.onreadystatechange=function(){var n,u;r.readyState===4&&(n=r.status,n===200?(u=JSON.parse(r.responseText),t&&t(u)):i&&i(n))};r.send()}function i(n,t){n.properties&&n.properties.title&&n.geometry.coordinates.length===2&&t.bindPopup('<h4 style="color: #000">'+n.properties.title+"<\/h4><p>Koordinaatit: "+n.geometry.coordinates[1]+", "+n.geometry.coordinates[0]+"<\/p>")}var n;ko.bindingHandlers.map={init:function(r,u){var f,e,o;if(typeof L=="undefined")throw new Error("Leaflet.js is not included, cannot bind map");if(!r.children.length){f=ko.utils.unwrapObservable(u());n=L.map(r,{center:[f.lat,f.lon],zoom:f.zoom});n.on("popupopen",function(){Ksx.Track.pageEvent("map","click","marker")});e=L.Icon.extend({options:{iconSize:[62,60],iconAnchor:[36,60],popupAnchor:[15,-60]}});o=new e({iconUrl:"/images/orange-runner.png"});n.on("locationfound",function(t){var i=t.accuracy/2;L.marker(t.latlng,{icon:o}).addTo(n).bindPopup("Olet "+Math.round(i)+" metrin sisll tst pisteest.").openPopup();L.circle(t.latlng,i).addTo(n)});n.locate({setView:!1});L.Icon.Default.imagePath="/images/";L.tileLayer("//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap<\/a> contributors'}).addTo(n);f.geoJson&&t(f.geoJson,function(t){var r=L.geoJson(t,{onEachFeature:i}).addTo(n);!f.zoomToRoute||n.fitBounds(r.getBounds())},function(n){console.error("Retrieving GeoJson data failed.",n)})}},update:function(t,i){var r=ko.utils.unwrapObservable(i());n.closePopup();n.setView([r.lat,r.lon],r.zoom)}}}(),function(){ko.bindingHandlers.modal={init:function(n,t,i,r,u){var e=ko.utils.unwrapObservable(t()),f=$(e),s=i(),o=s.onOpen,h=u.createChildContext(r);$(n).click(function(n){var t,i;f.length||(f=$(e));t=f.get(0);$(".modal").modal("hide");ko.cleanNode(f.get(0));f.find("[data-cleanup]").empty();o&&(i=r[o],typeof i=="function"&&i.apply(r));ko.applyBindings(h,t);f.modal({show:!0});Ksx.Track.pageEvent("popup","open",t.id);n.preventDefault()});f.on("click","a",function(){f.modal("hide")})}}}(),function(n){var t=function(){function n(){}return n.addUrlInterceptor=function(t){typeof t=="function"&&n._urlInterceptors.push(t)},n.register=function(t,i){if(!t)throw new Error("Must give name for route.");if(i){if(this.registered[t])throw new Error("Duplicate route: "+t);i.navigationUrl||(i.navigationUrl=i.urlMap[0]);i.tag||(i.tag="public");n._intercepted&&n.interceptRoute(i);this.registered[t]=i}},n.registerRootUrl=function(t,i){n.rootUrls.push(i.navigationUrl||i.urlMap[0]);n.register(t,i)},n.interceptRoute=function(t){n._urlInterceptors.forEach(function(n){t.navigationUrl=n(t.navigationUrl);t.urlMap.forEach(function(t,i,r){return r[i]=n(t)})})},n.all=function(){var t=$.map(this.registered||[],function(t){return n._intercepted||n.interceptRoute(t),t});return n._intercepted=!0,t.sort(function(n,t){return n.order-t.order})},n.navigableRoutes=function(){return n.all().filter(function(n){return n.showOnNavigation})},n.url=function(t,i,r){if(!t)throw new Error("Must specify route name for URL creation");var u="";return u=n.appendToUrl(u,t),u=n.appendToUrl(u,i),u=n.appendToUrl(u,r),u=n.addHappeningToUrl(u),u&&u!==""?u:"/"},n.appendToUrl=function(n,t){return t&&t!==""&&(n=n+"/"+t),n},n.registered={},n.currentHappening=Globals.Happening,n.defaultHappening=Globals.DefaultHappening,n.rootUrls=["/"],n.isRootUrl=function(t){return n.rootUrls.indexOf(t)!=-1},n.addHappeningToUrl=function(t){return!n.isRootUrl(t)||t==="/"&&n.defaultHappening!==n.currentHappening?"/"+n.currentHappening+t:t},n._urlInterceptors=[n.addHappeningToUrl],n._intercepted=!1,n}();n.Routes=t}(Ksx||(Ksx={})),function(n){var t=function(){function n(){}return n.DtoToKnockoutObservableModel=function(n,t){var i,r,u=Object.prototype.toString;for(i in t||{})t.hasOwnProperty(i)&&(r=t[i],n[i]=u.call(r)==="[object Array]"?ko.observableArray(r):ko.observable(r))},n}();n.Mutator=t}(Ksx||(Ksx={})),function(n){var t=function(){function t(){this.containerName="default"}return t.prototype.initQueues=function(){this._outgoing||(this._outgoing=new n.LocalStorageQueue(this.containerName+".outgoing"),this._sent=new n.LocalStorageQueue(this.containerName+".sent"),this._retry=new n.LocalStorageQueue(this.containerName+".retry"),setInterval(this.moveBackToOutgoing.bind(this,this.retry,3e4),1e4),setInterval(this.moveBackToOutgoing.bind(this,this.sent,6e4),1e4))},Object.defineProperty(t.prototype,"outgoing",{get:function(){return this.initQueues(),this._outgoing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sent",{get:function(){return this.initQueues(),this._sent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retry",{get:function(){return this.initQueues(),this._retry},enumerable:!0,configurable:!0}),t.prototype.add=function(n){this.outgoing.add(n.id.toString(),n)},t.prototype.ack=function(n){this.outgoing.remove(n);this.sent.remove(n)},t.prototype.sendAll=function(n){var t=this;return new Promise(function(i){var u=t.outgoing.all(),r=u.length;r===0?i():u.forEach(function(u){n(u).then(function(n){return t.markSent(n)}).catch(function(n){console.log("Error sending message, delaying:",u,n);t.delay(u.id)}).then(function(){r--;r===0&&i()})})})},t.prototype.markSent=function(n){this.moveMessageFromOutgoingTo(this.sent,n)},t.prototype.delay=function(n){this.moveMessageFromOutgoingTo(this.retry,n)},t.prototype.moveMessageFromOutgoingTo=function(n,t){var i=this.outgoing.remove(t);i&&n.add(i.id,i,new Date)},t.prototype.moveBackToOutgoing=function(n,t){for(var r=n.removeWhereLastOperationOlderThan(t),i=r.length-1;i>=0;i--)console.log("Moving message %s %s --> %s",r[i].id,n.name,this.outgoing.name),this.outgoing.add(r[i].id,r[i])},t}();n.LocalStorageStore=t}(JSBus||(JSBus={})),function(n){var i=function(){function n(t){if(this.name=t,!n.hasStorage)throw new Error("Local storage is not enabled in this browser.");}return Object.defineProperty(n.prototype,"queue",{get:function(){var n=JSON.parse(localStorage.getItem(this.name));return n||[]},set:function(n){n&&localStorage.setItem(this.name,JSON.stringify(n))},enumerable:!0,configurable:!0}),n.prototype.add=function(n,i,r){var u=this.queue,f=new t(n,i);r&&(f.lastOperationAt=r.getTime());u.push(f);this.queue=u},n.prototype.remove=function(n){var t=this.removeWhenMatches(function(t){return t.id==n});return t.length?t[0]:null},n.prototype.all=function(){var n=this.queue;return n.map(this.removeMessageContainer)},n.prototype.removeWhereLastOperationOlderThan=function(n){var t=Date.now()-n;return this.removeWhenMatches(function(n){return n.lastOperationAt<t})},n.prototype.removeWhenMatches=function(n){for(var t=this.queue,r=[],i=t.length;i--;)n(t[i])&&(r.push(t[i]),t.splice(i,1));return r.length&&(this.queue=t),r.map(this.removeMessageContainer)},n.prototype.removeMessageContainer=function(n){return n.message},n.hasStorage=function(){try{var n="a";return localStorage.setItem(n,n),localStorage.removeItem(n),!0}catch(t){return!1}},n}(),t;n.LocalStorageQueue=i;t=function(){function n(n,t){this.id=n;this.message=t;this.timestamp=new Date}return n}()}(JSBus||(JSBus={})),function(n){var t=function(){function t(t,i,r){var u=this;this.sendTransport=i;this.subscribeTransport=r;this.store=new n.LocalStorageStore;this.pending=[];this.sendTimer=0;this.store.containerName=t;this.subscribeTransport.ack(function(n){return u.store.ack(n)});this.sendMessages();window.addEventListener("online",function(){return u.sendMessages()})}return t.prototype.send=function(n){n&&(n.id||(n.id=(new Date).getTime()),this.store.add(n),this.sendMessages())},t.prototype.subscribe=function(n,i){if(!t.isFunc(n))throw new Error("Given subscribe callback must be a function");if(!t.isFunc(i)){var r=i;i=function(n){return!r||n.Name===r||n.name===r}}this.subscribeTransport.receive(function(t){i(t)&&n(t)})},t.prototype.sendMessages=function(){!this.sendTimer&&(typeof navigator.onLine=="undefined"||navigator.onLine)&&(console.log("Starting message sending loop"),this.sendMessagesCore())},t.prototype.sendMessagesCore=function(){var n=this;this.store.sendAll(function(t){return n.sendTransport.send(t)}).then(function(){n.sendTimer=setTimeout(function(){return n.sendMessagesCore()},200)})},t.isFunc=function(n){return typeof n=="function"},t}();n.Bus=t}(JSBus||(JSBus={})),function(n){var t=function(){function n(n){this.hub=n;this.notifySentCallbacks=[]}return n.prototype.send=function(n){var t=this;return new Promise(function(i,r){console.log("Sending via SignalR",n);t.hub===undefined&&(console.log("Hub is undefined"),r());t.hub.invoke("Command",n).then(function(){t.notifySentCallbacks.forEach(function(t){return t(n)});i(n.id)},r)})},n.prototype.notifyWhenSent=function(n){this.notifySentCallbacks.push(n)},n}();n.SignalRSendTransport=t}(JSBus||(JSBus={})),function(n){var t=function(){function n(n){var t=this;this.receiveCallbacks=[];this.ackCallbacks=[];n.on("ack",function(n){console.log("Received ack from server",n);t.ackCallbacks.forEach(function(t){return t(n)})});n.on("onEvent",function(n){console.log("Received event from server",n);t.receiveCallbacks.forEach(function(t){return t(n)})})}return n.prototype.receive=function(n){this.receiveCallbacks.push(n)},n.prototype.ack=function(n){this.ackCallbacks.push(n)},n}();n.SignalRSubscribeTransport=t}(JSBus||(JSBus={})),function(n){var t=function(){function t(){}return t.init=function(){var n=function(){var i=new signalR.HubConnection("/commandbus",{transport:signalR.TransportType.WebSockets,logger:new signalR.ConsoleLogger(signalR.LogLevel.Information)}),r,u;i.on("error",Messaging.Queues.error.publish);i.on("warning",Messaging.Queues.warning.publish);i.on("publishClientEvent",Messaging.Queues.eventsFromServer.publish);r=new JSBus.SignalRSendTransport(i);u=new JSBus.SignalRSubscribeTransport(i);i.onclose(function(t){console.log("Disconnected",t);console.log("Reconnecting...");n()});i.start().then(function(){t.bus=new JSBus.Bus("commands",r,u);r.notifyWhenSent(Messaging.Queues.commandAck.publish);t.lazyInitialize.resolve(t.bus)},function(){Messaging.Queues.error.publish("Yhteyden ottaminen palvelimelle eponnistui");setTimeout(function(){return n()},1e4)})};n()},t.s4=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)},t.guid=function(){return t.s4()+t.s4()+"-"+t.s4()+"-"+t.s4()+"-"+t.s4()+"-"+t.s4()+t.s4()+t.s4()},t.createCommand=function(i,r){var f={id:t.guid(),name:i,timestamp:n.Time.ServerTime};for(var u in r||[])r.hasOwnProperty(u)&&u!=="Id"&&u!=="id"&&u!=="Name"&&u!=="name"&&(f[u]=r[u]);return f},t.lazyInitialize=$.Deferred(),t.initialize=t.lazyInitialize.promise(),t}();n.Bus=t;t.init()}(Ksx||(Ksx={})),function(n){var t=function(){function n(n){this.domroot=n;this.loaded=ko.observable(!1)}return n.prototype.onload=function(n){this.loaded()||(this.sammyContext=n,this.applyBindings())},n.prototype.applyBindings=function(){ko.applyBindings(this,document.getElementById(this.domroot+"-layout"));this.loaded(!0)},n}();n.ViewModelBase=t}(Ksx||(Ksx={})),function(n){var t=function(){function t(){}return t.url=function(t){return"/api/"+n.Routes.currentHappening+"/"+t},t.dataLoadError=function(){Messaging.Queues.error.publish("Tietojen haku palvelimelta eponnistui.")},t.server=function(n,t,i){NProgress.start();var r=$.ajax({dataType:"json",cache:!1,url:n,headers:{accept:"JSON"},type:t,data:i});return r.fail(this.dataLoadError),r.always(NProgress.done),r},t.status=function(){return t.server(t.url("dashboardQuery"))},t.registrations=function(){return t.server(t.url("registrationQuery"))},t.happenings=function(){return t.server(t.url("happeningQuery"))},t.people=function(){return t.server(t.url("peopleQuery"))},t.linkPeople=function(){return t.server(t.url("linkPeopleQuery"))},t.refresh=function(){var n=t.url("system");return $.ajax({type:"DELETE",url:n,headers:{accept:"JSON"}})},t}();n.DataClient=t}(Ksx||(Ksx={})),function(n){var t=function(){function n(){}return n.quitAttendees=[],n.completedAttendees=[],n}();n.ReferenceData=t;Messaging.Queues.referenceData.subscribe(function(n){n.name==="attendees"&&(t.attendees=n.data,t.attendeesMap={},n.data.forEach(function(n){return t.attendeesMap[n.id]=n.name}));n.name==="checkpoints"&&(t.checkpoints=n.data);n.name==="nfc"&&(t.nfcMap={},n.data.forEach(function(n){return t.nfcMap[n.nfc]=n.id}))});Messaging.Queues.eventsFromServer.subscribe(function(n){var i;n.name==="AttendeeScannedAtFinishCheckpoint"&&t.completedAttendees.push(n.data.personId);n.name==="AttendeeQuit"&&t.quitAttendees.push(n.data.personId);n.name==="AttendeeQuitRemoved"&&(i=t.quitAttendees.indexOf(n.data.personId),i&&t.quitAttendees.splice(i,1))})}(Ksx||(Ksx={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t=function(t){function i(){var i=t.call(this,"about")||this,r=i,u={urlMap:["/about"],order:90,text:"Mik?",icon:"fa-info-circle",active:!1,root:i.domroot,showOnNavigation:!0,onViewOpen:r.onload.bind(i)};return n.Routes.register(i.domroot,u),i}return __extends(i,t),i}(n.ViewModelBase);n.AboutViewModel=t;t.instance=new t}(Ksx||(Ksx={})),function(){"use strict";function r(t,r,u,f,e){f&&e&&f.length&&(f.length>1&&(f[0]=f[1]),n=new Highcharts.Chart({chart:{renderTo:t},credits:{enabled:!1},title:{text:r},xAxis:{categories:u},yAxis:{min:0,title:{text:"km/h / min"}},legend:{borderWidth:0},series:[{name:"Huoltoaika (min)",type:"bar",data:e.map(function(n){return i(n/6e4)}),color:"#2b908f",borderWidth:0},{name:"Keskivauhti (km/h)",type:"spline",data:f,color:"#90ee7e"}]}))}var t=null,n=null,i=function(n){return Math.round(100*n)/100};ko.bindingHandlers.attendeeGraph={init:function(n){t=document.createElement("div");n.appendChild(t)},update:function(i,u,f,e,o){var s=o.$data,h=ko.utils.unwrapObservable(u());n&&n.destroy()&&(n=null);n=r(t,null,h,s.speeds(),s.restTimes())}}}();__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i=function(t){function i(i){var u=t.call(this,"attendees")||this,r,f;return u.selected=ko.observable(),u.filterText=ko.observable(""),r=u,f={urlMap:["/attendees/:id","/attendees"],navigationUrl:"/attendees",icon:"fa-group",order:5,text:"Kvelijt",active:!1,root:u.domroot,showOnNavigation:!0,onViewOpen:r.onload.bind(u)},n.Routes.register(u.domroot,f),r.filterText.subscribe(r.filter.bind(r)),r.selected.subscribe(function(n){r.previousSelected=n},r,"beforeChange"),r.selected.subscribe(function(t){if(r.previousSelected!==t&&r.sammyContext){var i=n.Routes.url("attendees",null,t?t.id:null);r.sammyContext.redirect(i);n.Track.pageView(i)}}),Messaging.Queues.referenceData.subscribe(function(n){n.name==="checkpoints"&&(r.checkpointNames=ko.observableArray(n.data.map(function(n){return n.name})))}),i.done(r.loadData.bind(u)),u}return __extends(i,t),i.prototype.onload=function(n){var t=this,r=n.params.id;if(this.sammyContext=n,!this.attendees){i.retries<100&&(i.retries++,setTimeout(function(){return t.onload(n)},100));return}(this.selectAttendee(r),this.loaded())||this.applyBindings()},i.prototype.filterSubmit=function(){this.filter(this.filterText())},i.prototype.selectAttendee=function(n){var t;this.attendees().some(function(i){return i.id===n?(t=i,!0):!1});this.selected(t)},i.prototype.loadData=function(n){var t=Object.getOwnPropertyNames(n).map(function(t){return n[t]});this.attendees=ko.observableArray(t);this.applyBindings()},i.prototype.filter=function(n){if(!n){this.attendees().forEach(function(n){n.filtered(!1)});return}var t=new RegExp("^[\\w\\s]*"+n+"[\\w\\s]*$","i");this.attendees().forEach(function(n){n.filtered(!n.name.match(t))})},i.retries=0,i}(n.ViewModelBase);t.AttendeesViewModel=i})(t=n.Attendees||(n.Attendees={}))}(Ksx||(Ksx={})),function(n){"use strict";n.charts={registered:{},forEach:function(n){for(var t in this.registered)this.registered.hasOwnProperty(t)&&n.call(this.registered[t],t)}};n.registerChart=function(t,i){n.charts.registered[t]=i}}(Ksx||(Ksx={})),function(){"use strict";function i(){n.forEach(r)}function r(n){if(n){var t=$(n.container).parent(),i=t.width(),r=t.height();i&&n.setSize(i,r)}}var t={},n=[];ko.bindingHandlers.summaryGraph={init:function(n){Ksx.charts.forEach(function(i){t[i]=$("<div class='graphContainer'/>",{id:i}).appendTo(n).get(0)})},update:function(r,u){var f=ko.utils.unwrapObservable(u());Messaging.Queues.navigated.unsubscribe(i);n.forEach(function(n){n&&n.destroy()});n=[];Ksx.charts.forEach(function(i){var r=this,u=r.call(t[i],f);n.push(u)});setTimeout(function(){Messaging.Queues.navigated.subscribe(i)},100)}}}(),function(n){"use strict";var t,i=function(n){var e=this,r=[],u=[],i=[],f=[];return!n||!n.checkpoints().length?null:(n.checkpoints().forEach(function(n){var e=n.visits().length,t=0;n.visits().forEach(function(n){n.quit()&&t++});r.push(n.name);i.push(e-t);f.push(n.waitingFor().length);u.push(t)}),t=new Highcharts.Chart({chart:{renderTo:e,defaultSeriesType:"bar"},credits:{enabled:!1},title:{text:"Huoltopisteet"},xAxis:{categories:r},yAxis:{min:0,max:i.length?i[0]:50,title:{text:"Kvelijit"}},legend:{layout:"vertical",reversed:!0,floating:!0,align:"right",verticalAlign:"bottom",y:-50,borderWidth:0},plotOptions:{series:{stacking:"normal"}},series:[{name:"Keskeyttneet",data:u,color:"#f45b5b",borderWidth:0},{name:"Odotetaan",data:f,color:"#90ee7e",borderWidth:0},{name:"Leimanneet",data:i,color:"#2b908f",borderWidth:0}]}))};n.registerChart("checkpointsChart",i)}(Ksx||(Ksx={})),function(n){"use strict";var i,t=function(n){return Math.round(100*n)/100},r=function(n){var f=this,e=function(n){if(!n||!n.checkpoints().length)return{attendeesTotal:0,finished:0,quit:0,walking:0};var t=n.checkpoints(),i=t.length,r=i?t[0].visits().length:0,u=i?t[i-1].visits().length:0,f=t.reduce(function(n,t){return n+t.quitters().length},0);return{attendeesTotal:r,finished:u,quit:f,walking:r-(u+f)}},r=e(n),u=[["Ei lhtenyt",t(100*(r.attendeesTotal-(r.walking+r.quit+r.finished))/r.attendeesTotal)],["Perill",t(100*r.finished/r.attendeesTotal)],["Kvelee",t(100*r.walking/r.attendeesTotal)],{name:"Keskeyttnyt",y:t(100*r.quit/r.attendeesTotal),sliced:!0,selected:!0}];return(u[0][1]===0&&u.shift(),!r||r.attendeesTotal===0)?null:i=new Highcharts.Chart({chart:{renderTo:f,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},credits:{enabled:!1},title:{text:"Kokonaistilanne"},legend:{borderWidth:0},tooltip:{formatter:function(){return"<b>"+this.point.name+"<\/b>: "+this.y+" %"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},series:[{type:"pie",name:"Status",data:u,borderWidth:0}]})};n.registerChart("statusChart",r)}(Ksx||(Ksx={})),function(n){"use strict";var t,i=function(n){return Math.round(100*n)/100},r=function(n){var o=this,r=[],u=[],f=[],e=[];return!n||!n.checkpoints().length?null:(n.checkpoints().forEach(function(n){var t=0;n.avgTime()&&(n.visits().forEach(function(n){n.quit()&&t++}),r.push(n.name),u.push(i(n.avgTime()/6e4)),f.push(i(n.avgSpeed())),e.push(t))}),t=new Highcharts.Chart({chart:{renderTo:o,defaultSeriesType:"spline",marginBottom:120},credits:{enabled:!1},title:{text:"Tummuminen"},xAxis:{categories:r,labels:{rotation:-40,x:-20,y:40}},yAxis:{min:0,title:{text:"kvelijit / min / km/h"},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{formatter:function(){return"<b>"+this.series.name+"<\/b><br/>"+this.x+": "+this.y}},legend:{layout:"horizontal",verticalAlign:"bottom",borderWidth:0},series:[{name:"Keskeyttneit",data:e,color:"#f45b5b"},{name:"Vauhti (km/h)",data:f,color:"#90ee7e"},{name:"Huoltoaika (min)",data:u,color:"#2b908f"}]}))};n.registerChart("destructionChart",r)}(Ksx||(Ksx={})),function(n){var t=function(){function t(t,i,r,u){var f=this,e;this.checkpointId=i;this.checkpointName=r;this.distanceFromPrevious=u;this.quit=ko.observable();this.previousVisitCheckoutTime=ko.observable(0);this.newManualScanTime=ko.observable("");this.addQuitTime=ko.observable("");this.addQuitWalkedSinceLast=ko.observable("");this.addQuitDescription=ko.observable("");this.visitTimeToChange=ko.observable("");this.changeScanTimeDate=ko.observable("");this.changeScanTimeTime=ko.observable("");e=this;e.id=t.a;t.quit&&e.quit(new n.Quitter(t.quit,t.a));e.dateTimeIn=ko.observable(t.i?Date.parse(t.i):0);e.dateTimeOut=ko.observable(t.o?Date.parse(t.o):0);e.visitTimeToChange.subscribe(function(t){(t==="In"||t==="Passthrough")&&(f.changeScanTimeDate(n.Time.formatDate(f.dateTimeIn())),f.changeScanTimeTime(n.Time.formatTime(f.dateTimeIn())));t==="Out"&&(f.changeScanTimeDate(n.Time.formatDate(f.dateTimeOut())),f.changeScanTimeTime(n.Time.formatTime(f.dateTimeOut())))});e.duration=ko.pureComputed(function(){return f.dateTimeIn()===0||f.dateTimeOut()===0?0:Math.abs(f.dateTimeOut()-f.dateTimeIn())});e.walkingTime=ko.pureComputed(function(){return f.previousVisitCheckoutTime()&&f.dateTimeIn()?f.dateTimeIn()-f.previousVisitCheckoutTime():0});e.lastLegSpeed=ko.pureComputed(function(){var n=0,t=f.walkingTime();return!t||f.distanceFromPrevious===0?n:(n=f.distanceFromPrevious/(t/36e5),Math.round(100*n)/100)})}return t.prototype.createVisitCommand=function(t,i){var r=i||{};return r.PersonId=this.id,r.CheckpointId=this.checkpointId,r.HappeningId=n.Routes.currentHappening,n.Bus.createCommand(t,r)},t.prototype.closeModal=function(){$(".modal").modal("hide")},t.prototype.failOperation=function(n){Messaging.Queues.error.publish(n);this.closeModal()},t.prototype.sendAndNotify=function(t,i){n.Bus.bus.send(t);Messaging.Queues.info.publish(i);this.closeModal()},t.prototype.addManualScanOutModalOpen=function(){this.newManualScanTime(n.Time.formatTime(new Date))},t.prototype.addManualScanOut=function(){var t=this.createVisitCommand("Scan",{ScanTimestamp:n.Time.ToServerTimeFromInputDate(this.newManualScanTime())});this.sendAndNotify(t,"Tallennetaan lukemaa...")},t.prototype.changeScanTimeModalOpen=function(){var n=null;this.dateTimeIn()===this.dateTimeOut()?n="Passthrough":this.dateTimeIn()&&!this.dateTimeOut()&&(n="In");this.visitTimeToChange(n)},t.prototype.changeScanTime=function(){var t=this.createVisitCommand("Change"+this.visitTimeToChange()+"ScanTime",{NewTime:n.Time.ToServerTimeFromInputDate(this.changeScanTimeDate(),this.changeScanTimeTime())});this.sendAndNotify(t,"Siirretn lukeman aikaa...")},t.prototype.addQuitModalOpen=function(){this.addQuitTime(n.Time.formatTime(new Date));this.addQuitWalkedSinceLast("0,0")},t.prototype.addQuit=function(){if(n.ReferenceData.completedAttendees[this.id]){this.failOperation("Henkil on jo maalissa, keskeytyst ei voi en list.");return}if(n.ReferenceData.quitAttendees[this.id]){this.failOperation("Henkil on jo keskeyttnyt, keskeytyst ei voi en list.");return}var t=this.createVisitCommand("Quit",{QuitTimestamp:n.Time.ToServerTimeFromInputDate(this.addQuitTime()),WalkedSinceLast:parseFloat(this.addQuitWalkedSinceLast().replace(",",".")),Description:this.addQuitDescription()});this.sendAndNotify(t,"Keskeytetn kvely...")},t.prototype.removeQuit=function(){if(n.ReferenceData.completedAttendees[this.id]){this.failOperation("Henkil on jo maalissa, keskeytyst ei voida poistaa.");return}var t=n.Bus.createCommand("RemoveQuit",{CheckpointId:this.checkpointId,PersonId:this.id,HappeningId:n.Routes.currentHappening});this.sendAndNotify(t,"Poistetaan keskeytyst...")},t.prototype.removeScan=function(){if(n.ReferenceData.completedAttendees[this.id]){this.failOperation("Henkil on jo maalissa, lukemia ei voi en poistaa.");return}if(n.ReferenceData.quitAttendees[this.id]){this.failOperation("Henkil on jo keskeyttnyt, lukemia ei voi en poistaa.");return}this.sendAndNotify(this.createVisitCommand("RemoveScan"),"Poistetaan lukemaa...")},t}();n.Visit=t}(Ksx||(Ksx={})),function(n){var t=function(){function n(n,t){var i=this;i.time=Date.parse(n.t);i.description=n.d;i.walkedSinceLast=n.wsl;i.id=t}return n}();n.Quitter=t}(Ksx||(Ksx={})),function(n){var t=function(){function n(n){var t=this;t.id=n.id;t.expectedAt=ko.observable(n.t)}return n}();n.Expected=t}(Ksx||(Ksx={})),function(n){var t=function(){function t(t,i){var f=this,r=this,u,e;r.id=t.id;r.nfc=t.nfc;r.name=t.name;r.phone=t.phone||"";r.visits=ko.observableArray(i||[]);r.destructionPercent=ko.observable(t.dstr||0);r.gravatarHash=ko.observable(t.hash);u=r.visits().reduce(function(n,t){return t.quit()?t:n},null);r.speeds=ko.pureComputed(function(){return f.visits().map(function(n){return n.lastLegSpeed()})});r.restTimes=ko.pureComputed(function(){return f.visits().map(function(n){return n.duration()})});r.totalRestTime=ko.pureComputed(function(){return f.restTimes().reduce(r.sum,0)});r.totalWalkingTime=ko.computed(function(){var n=f.visits().map(function(n){return n.walkingTime()}).reduce(r.sum,0),t;return u&&u.quit().walkedSinceLast&&(t=f.visits()[f.visits().length-1],n+=u.quit().time-t.dateTimeOut()),n});r.totalTime=ko.pureComputed(function(){return r.totalRestTime()+r.totalWalkingTime()});r.walkedKilometres=ko.computed(function(){var n=f.visits().map(function(n){return n.distanceFromPrevious}).reduce(r.sum,0);return u&&u.quit().walkedSinceLast&&(n+=u.quit().walkedSinceLast),n>100&&(n=100),n});r.hasQuit=!!u;r.quitText="";r.hasQuit&&(e=u.quit(),r.quitText=n.Time.formatDateTime(e.time),r.quitText+=e.walkedSinceLast?" "+e.walkedSinceLast+" km huoltopisteen "+u.checkpointName+" jlkeen.":" huoltopisteell "+u.checkpointName+".");r.avgSpeed=ko.pureComputed(function(){var n=f.speeds().reduce(r.sum,0);return n/f.speeds().filter(function(n){return n>0}).length});r.filtered=ko.observable(!1);r.url=n.Routes.url("attendees","",t.id)}return t.prototype.sum=function(n,t){return(n||0)+(t||0)},t}();n.Attendee=t}(Ksx||(Ksx={})),function(n){var t=function(){function t(n){var i=this,t;this.newManualScanDate=ko.observable();this.newManualScanTime=ko.observable();this.selectedNewScanAttendee=ko.observable();this.visitAvg=function(n){var r=i.visits().map(n),t=r.filter(function(n){return n>0}),u=t.reduce(i.sum,0);return u/t.length};t=this;t.id=n.id;t.name=n.name;t.distanceFromStart=n.distanceFromStart;t.distanceFromPrevious=n.distanceFromPrevious;t.visits=ko.observableArray(t.mapVisits(n.visits,n.id,n.name));t.quitters=ko.pureComputed(t.selectQuitters,t);t.waitingFor=ko.observableArray(t.mapWaitingFor(n.waitingFor));t.avgSpeed=ko.pureComputed(function(){return t.visitAvg(function(n){return n.lastLegSpeed()})});t.avgTime=ko.pureComputed(function(){return t.visitAvg(function(n){return n.duration()})});t.inside=ko.pureComputed(function(){var n=i.visits().filter(function(n){return!n.dateTimeOut()&&!n.quit()}).length;return i.distanceFromStart==100?0:n});t.status=ko.pureComputed(function(){var n=i.visits().length,t=i.quitters().length,u=i.waitingFor().length,r=i.inside();return n+"/"+(n+u)+(t?" kesk. "+t:"")+(r?" huoltaa "+r:"")});t.latitude=n.latitude;t.longitude=n.longitude;t.checkpointType=n.checkpointType}return t.prototype.getAttendeeVisit=function(n){var t;return this.visits().some(function(i){if(i.id===n)return t=i,!0}),t},t.prototype.mapVisits=function(t,i,r){var u=this;return(t||[]).map(function(t){return new n.Visit(t,i,r,u.distanceFromPrevious)})},t.prototype.selectQuitters=function(){return this.visits().filter(function(n){return n.quit()}).map(function(n){return n.quit()})},t.prototype.mapWaitingFor=function(t){var r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(new n.Expected({id:i,t:t[i]}));return r},t.prototype.sum=function(n,t){return(n||0)+(t||0)},t.prototype.addManualScanInModalOpen=function(){var t=new Date;this.newManualScanDate(n.Time.formatDate(t));this.newManualScanTime(n.Time.formatTime(t))},t.prototype.addManualScanIn=function(){var t=n.Bus.createCommand("Scan",{PersonId:this.selectedNewScanAttendee().id,CheckpointId:this.id,HappeningId:n.Routes.currentHappening,ScanTimestamp:n.Time.ToServerTimeFromInputDate(this.newManualScanDate(),this.newManualScanTime())});n.Bus.bus.send(t);Messaging.Queues.info.publish("Tallennetaan lukemaa...");$(".modal").modal("hide")},t}();n.Checkpoint=t}(Ksx||(Ksx={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t=function(t){function i(){var r=t.call(this,"report")||this,i,u,f;return r.attendees={},r.dataLoaded=$.Deferred(),i=r,u={urlMap:["/"],order:0,text:"Etusivu",icon:"fa-bar-chart",active:!0,root:r.domroot,showOnNavigation:!0,onViewOpen:i.onload.bind(r)},n.Routes.register(r.domroot,u),f=new n.Attendees.AttendeesViewModel(i.dataLoaded),n.DataClient.status().done(i.dataInit.bind(i)).fail(function(){Messaging.Queues.error.publish("Tietojen hakeminen eponnistui.")}),Messaging.Queues.eventsFromServer.subscribe(function(n){n.name==="AttendeeScanIn"&&i.applyScanFromServer(n.data,"in");n.name==="AttendeeScanOut"&&i.applyScanFromServer(n.data,"out");n.name==="AttendeePassthroughScan"&&i.applyScanFromServer(n.data,"passthrough");n.name==="AttendeeScanInTimeChanged"&&(n.data.ScanTimestamp=n.data.newTime,i.applyScanFromServer(n.data,"in"));n.name==="AttendeeScanOutTimeChanged"&&(n.data.ScanTimestamp=n.data.newTime,i.applyScanFromServer(n.data,"out"));n.name==="AttendeePassthroughScanTimeChanged"&&(n.data.ScanTimestamp=n.data.newTime,i.applyScanFromServer(n.data,"passthrough"));n.name==="AttendeeQuit"&&i.applyScanFromServer(n.data,"quit");n.name==="AttendeeScanInRemoved"&&i.applyRemoveScanFromServer(n.data,"in");n.name==="AttendeeScanOutRemoved"&&i.applyRemoveScanFromServer(n.data,"out");n.name==="AttendeeQuitRemoved"&&i.applyRemoveScanFromServer(n.data,"quit")}),Messaging.Queues.checkpointForScanRequest.subscribe(function(n){var t=i.checkpoints().reduce(function(t,i){var r=i.getAttendeeVisit(n.PersonId);return t.visit&&!t.nextCheckpoint&&(t.nextCheckpoint=i.id),r!=null&&(t.visit=r,t.visitCheckpoint=i.id,t.nextCheckpoint=null),t},{}),u;if(!t.visit){u=r.attendees[n.PersonId];Messaging.Queues.error.publish("Lukeman huoltopisteen pttely eponnistui. Lukemaa ei voitu lhett palvelimelle. Kokeile pivitt sivu ennen lukemisen jatkamista. Lukema: "+(u||n.PersonId));return}n.CheckpointId=t.visit.dateTimeOut()?t.nextCheckpoint:t.visitCheckpoint;Messaging.Queues.checkpointForScanResponse.publish(n)}),r}return __extends(i,t),i.prototype.onload=function(){this.loaded()},i.prototype.attendeeName=function(n){return this.attendees[n]?this.attendees[n].name:""},i.prototype.applyScanFromServer=function(t,i){var r=this.searchScanCheckpoint(t.checkpointId),u,e,f;r&&(u=r.getAttendeeVisit(t.personId),u?(i==="in"&&u.dateTimeIn(Date.parse(t.scanTimestamp)),i==="out"&&u.dateTimeOut(Date.parse(t.scanTimestamp)),i==="quit"&&(e=new n.Quitter({t:t.timestamp,d:t.description,wsl:t.walkedSinceLast},t.personId),u.quit(e))):(f={a:t.personId,i:i==="out"?null:t.scanTimestamp,o:i==="out"?t.scanTimestamp:null,quit:null},i==="passthrough"&&(f.i=t.scanTimestamp,f.o=t.scanTimestamp),u=new n.Visit(f,r.id,r.name,r.distanceFromPrevious),r.visits.push(u),r.waitingFor.remove(function(n){return n.id===t.PersonId})))},i.prototype.applyRemoveScanFromServer=function(n,t){var r=this.searchScanCheckpoint(n.checkpointId),i;if(r&&(i=r.getAttendeeVisit(n.personId),i)){if(t==="quit"){i.quit(null);return}t!=="in"&&i.dateTimeIn()?t==="out"&&i.dateTimeOut(0):r.visits.remove(i)}},i.prototype.searchScanCheckpoint=function(n){return this.checkpoints().reduce(function(t,i){return!t&&i.id===n?i:t},null)},i.prototype.dataInit=function(t){var r=this,i=(t.checkpoints||[]).map(function(t){return new n.Checkpoint(t)}),f,u,e,o,s,h;r.checkpoints=ko.observableArray(i);r.selectedCheckpoint=ko.observable(i[0]);f=i.reduce(function(n,t){return n.concat(t.visits())},[]);u=0;f.sort(r.sortByAttendeeAndTimestamp).forEach(function(n){u&&e===n.id&&n.previousVisitCheckoutTime(u);u=n.dateTimeOut();e=n.id});t.attendees&&(r.attendees=t.attendees.reduce(function(t,r){var u=i.reduce(function(n,t){var i=t.getAttendeeVisit(r.id);return i&&n.push(i),n},[]);return t[r.id]=new n.Attendee(r,u),t},{}),o=t.attendees.map(function(n){return{id:n.id,name:n.name}}),Messaging.Queues.referenceData.publish({name:"attendees",data:o}),s=t.attendees.filter(function(n){return n.nfc}).map(function(n){return{nfc:n.nfc,id:n.id}}),Messaging.Queues.referenceData.publish({name:"nfc",data:s}));h=t.checkpoints.map(function(n){return{id:n.id,name:n.name}});Messaging.Queues.referenceData.publish({name:"checkpoints",data:h});Messaging.Queues.referenceData.publish({name:"quitters",data:i.reduce(function(n,t){return n.concat(t.quitters())},[]).map(function(n){return n.id})});Messaging.Queues.referenceData.publish({name:"completed",data:i.length?i[i.length-1].visits().map(function(n){return n.id}):[]});r.dataLoaded.resolve(r.attendees);this.applyBindings()},i.prototype.sortByAttendeeAndTimestamp=function(n,t){var i=n.id.localeCompare(t.id);return i===0?n.dateTimeIn()<t.dateTimeIn()?-1:1:i},i}(n.ViewModelBase);n.ReportViewModel=t;t.instance=new t}(Ksx||(Ksx={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t=function(t){function i(){var i=t.call(this,"route")||this,r=i,u={urlMap:["/route"],order:50,text:"Reitti",icon:"fa-map-marker",active:!1,root:i.domroot,showOnNavigation:!0,onViewOpen:r.onload.bind(i)};return n.Routes.register(i.domroot,u),i}return __extends(i,t),i}(n.ViewModelBase);n.RouteViewModel=t;t.instance=new t}(Ksx||(Ksx={})),function(n){var i=function(){function n(n){var t=this;t.text=ko.observable(n.text);t.icon=ko.observable(n.icon);t.url=ko.observable(n.navigationUrl);t.order=ko.observable(n.order);t.active=ko.observable(n.active);t.tag=ko.observable(n.tag);t.visible=ko.observable(!0)}return n}(),t;n.KoRoute=i;t=function(){function t(){this.routes=ko.observableArray();this.loaded=ko.observable(!1);var r=this,u=function(n){return ko.pureComputed(function(){return r.routes().filter(function(t){return t.tag()===n})})};r.publicMenuRoutes=u("public");r.adminMenuRoutes=u("admin");Messaging.Queues.navigated.subscribe(function(u){console.log("Navigated",u);t.instance.loaded()||((n.Routes.navigableRoutes()||[]).forEach(function(n){r.routes.push(new i(n))}),ko.applyBindings(t.instance,document.getElementById("navigation")),t.instance.loaded(!0));r.routes().forEach(function(n){n.active(n.url()===u.navigationUrl)})})}return t}();n.NavigationViewModel=t;t.instance=new t}(Ksx||(Ksx={}));
//# sourceMappingURL=site.min.js.map